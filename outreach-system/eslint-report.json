[{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\AdminSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\AuditLogFeed.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertCircle' is defined but never used.","line":3,"column":48,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":59,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"AlertCircle"},"fix":{"range":[123,136],"text":""},"desc":"Remove unused variable \"AlertCircle\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Edit' is defined but never used.","line":3,"column":69,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":73,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Edit"},"fix":{"range":[144,150],"text":""},"desc":"Remove unused variable \"Edit\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_' is assigned a value but never used.","line":10,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":12},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":35,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1769,1772],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1769,1772],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import dbConnect from \"@/lib/db\";\r\nimport AuditLog from \"@/models/AuditLog\";\r\nimport { User as UserIcon, Calendar, Activity, AlertCircle, Trash2, Edit, CheckCircle } from 'lucide-react';\r\nimport User from \"@/models/User\"; // Ensure populated model is registered\r\n\r\nexport default async function AuditLogFeed() {\r\n    await dbConnect();\r\n\r\n    // Ensure User model is loaded for population\r\n    const _ = User;\r\n\r\n    const logs = await AuditLog.find({})\r\n        .sort({ createdAt: -1 })\r\n        .limit(10)\r\n        .populate('performedBy', 'name email');\r\n\r\n    const getIcon = (action: string) => {\r\n        if (action.includes('USER')) return <UserIcon size={16} className=\"text-blue-500\" />;\r\n        if (action.includes('EVENT')) return <Calendar size={16} className=\"text-purple-500\" />;\r\n        if (action.includes('DELETE')) return <Trash2 size={16} className=\"text-red-500\" />;\r\n        if (action.includes('APPROVE')) return <CheckCircle size={16} className=\"text-green-500\" />;\r\n        return <Activity size={16} className=\"text-slate-500\" />;\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 overflow-hidden\">\r\n            <div className=\"p-6 border-b border-slate-100 flex items-center justify-between\">\r\n                <h3 className=\"font-bold text-slate-800 text-lg\">System Activity Log</h3>\r\n                <span className=\"text-xs text-slate-400 font-medium\">Last 10 Actions</span>\r\n            </div>\r\n            <div className=\"divide-y divide-slate-100\">\r\n                {logs.length === 0 ? (\r\n                    <div className=\"p-8 text-center text-slate-400 text-sm\">No activity recorded yet.</div>\r\n                ) : (\r\n                    logs.map((log: any) => (\r\n                        <div key={log._id.toString()} className=\"p-4 hover:bg-slate-50 transition-colors flex gap-4\">\r\n                            <div className=\"mt-1 flex-shrink-0 w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center\">\r\n                                {getIcon(log.action)}\r\n                            </div>\r\n                            <div className=\"flex-1 min-w-0\">\r\n                                <div className=\"flex items-center justify-between mb-1\">\r\n                                    <p className=\"text-sm font-bold text-slate-700 truncate\">\r\n                                        {formatActionName(log.action)}\r\n                                    </p>\r\n                                    <span className=\"text-xs text-slate-400 whitespace-nowrap ml-2\">\r\n                                        {new Date(log.createdAt).toLocaleString()}\r\n                                    </span>\r\n                                </div>\r\n                                <p className=\"text-xs text-slate-500 truncate\">\r\n                                    Performed by <span className=\"font-semibold text-slate-700\">{log.performedBy?.name || 'Unknown User'}</span>\r\n                                </p>\r\n                                {log.details && Object.keys(log.details).length > 0 && (\r\n                                    <details className=\"mt-2 text-xs text-slate-400 cursor-pointer group\">\r\n                                        <summary className=\"group-hover:text-brand-dark transition-colors list-none flex items-center gap-1\">\r\n                                            View Details\r\n                                        </summary>\r\n                                        <pre className=\"mt-1 bg-slate-50 p-2 rounded border border-slate-100 overflow-x-auto text-[10px]\">\r\n                                            {JSON.stringify(log.details, null, 2)}\r\n                                        </pre>\r\n                                    </details>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction formatActionName(action: string) {\r\n    return action.replace(/_/g, ' ').toLowerCase().replace(/\\b\\w/g, l => l.toUpperCase());\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\ExportDataButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\InvitationCodeManager.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`loadCodes` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\InvitationCodeManager.tsx:35:9\n  33 |\n  34 |     useEffect(() => {\n> 35 |         loadCodes();\n     |         ^^^^^^^^^ `loadCodes` accessed before it is declared\n  36 |     }, []);\n  37 |\n  38 |     const loadCodes = async () => {\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\InvitationCodeManager.tsx:38:5\n  36 |     }, []);\n  37 |\n> 38 |     const loadCodes = async () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 39 |         setIsLoading(true);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 40 |         const [activeResult, usedResult] = await Promise.all([\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 53 |         setIsLoading(false);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 54 |     };\n     | ^^^^^^^ `loadCodes` is declared here\n  55 |\n  56 |     const handleGenerate = async () => {\n  57 |         setIsGenerating(true);","line":35,"column":9,"nodeType":null,"endLine":35,"endColumn":18}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { generateInvitationCodes, getActiveInvitationCodes, getUsedInvitationCodes, deleteInvitationCode } from './actions';\r\nimport { Ticket, Copy, Trash2, RefreshCw, CheckCircle, Plus, Minus, Users } from 'lucide-react';\r\nimport { Spinner } from '@/components/ui/Spinner';\r\n\r\ninterface InvitationCode {\r\n    _id: string;\r\n    code: string;\r\n    createdAt: string;\r\n}\r\n\r\ninterface UsedInvitationCode {\r\n    _id: string;\r\n    code: string;\r\n    createdAt: string;\r\n    usedAt: string | null;\r\n    usedBy: {\r\n        name: string;\r\n        email: string;\r\n    } | null;\r\n}\r\n\r\nexport default function InvitationCodeManager() {\r\n    const [codes, setCodes] = useState<InvitationCode[]>([]);\r\n    const [usedCodes, setUsedCodes] = useState<UsedInvitationCode[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isGenerating, setIsGenerating] = useState(false);\r\n    const [newCodes, setNewCodes] = useState<string[]>([]);\r\n    const [copiedCode, setCopiedCode] = useState<string | null>(null);\r\n    const [quantity, setQuantity] = useState(1);\r\n\r\n    useEffect(() => {\r\n        loadCodes();\r\n    }, []);\r\n\r\n    const loadCodes = async () => {\r\n        setIsLoading(true);\r\n        const [activeResult, usedResult] = await Promise.all([\r\n            getActiveInvitationCodes(),\r\n            getUsedInvitationCodes()\r\n        ]);\r\n\r\n        if (activeResult.success) {\r\n            setCodes(activeResult.codes as InvitationCode[]);\r\n        }\r\n\r\n        if (usedResult.success) {\r\n            setUsedCodes(usedResult.codes as UsedInvitationCode[]);\r\n        }\r\n\r\n        setIsLoading(false);\r\n    };\r\n\r\n    const handleGenerate = async () => {\r\n        setIsGenerating(true);\r\n        setNewCodes([]);\r\n\r\n        const result = await generateInvitationCodes(quantity);\r\n\r\n        if (result.success && result.codes) {\r\n            setNewCodes(result.codes);\r\n            loadCodes(); // Refresh the list\r\n        }\r\n        setIsGenerating(false);\r\n    };\r\n\r\n    const handleCopy = async (code: string) => {\r\n        await navigator.clipboard.writeText(code);\r\n        setCopiedCode(code);\r\n        setTimeout(() => setCopiedCode(null), 2000);\r\n    };\r\n\r\n    const handleCopyAll = async () => {\r\n        const allCodes = newCodes.join('\\n');\r\n        await navigator.clipboard.writeText(allCodes);\r\n        setCopiedCode('all');\r\n        setTimeout(() => setCopiedCode(null), 2000);\r\n    };\r\n\r\n    const handleDelete = async (codeId: string) => {\r\n        if (!confirm('Are you sure you want to delete this invitation code?')) return;\r\n\r\n        const result = await deleteInvitationCode(codeId);\r\n        if (result.success) {\r\n            loadCodes();\r\n        }\r\n    };\r\n\r\n    const formatTimeAgo = (dateString: string) => {\r\n        const date = new Date(dateString);\r\n        const now = new Date();\r\n        const diffMs = now.getTime() - date.getTime();\r\n        const diffMins = Math.floor(diffMs / 60000);\r\n        const diffHours = Math.floor(diffMs / 3600000);\r\n        const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n        if (diffMins < 1) return 'Just now';\r\n        if (diffMins < 60) return `${diffMins}m ago`;\r\n        if (diffHours < 24) return `${diffHours}h ago`;\r\n        return `${diffDays}d ago`;\r\n    };\r\n\r\n    const incrementQuantity = () => setQuantity(prev => Math.min(prev + 1, 50));\r\n    const decrementQuantity = () => setQuantity(prev => Math.max(prev - 1, 1));\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden\">\r\n            {/* Header */}\r\n            <div className=\"p-6 border-b border-slate-100 flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"p-2.5 bg-gradient-to-br from-brand-gold/20 to-brand-gold/10 rounded-xl\">\r\n                        <Ticket className=\"text-brand-gold\" size={24} />\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"font-bold text-slate-800\">Invite Users</h3>\r\n                        <p className=\"text-sm text-slate-500\">Generate codes for instant account activation</p>\r\n                    </div>\r\n                </div>\r\n                <button\r\n                    onClick={loadCodes}\r\n                    disabled={isLoading}\r\n                    className=\"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-50 rounded-lg transition-colors\"\r\n                    title=\"Refresh\"\r\n                >\r\n                    {isLoading ? <Spinner size={18} /> : <RefreshCw size={18} />}\r\n                </button>\r\n            </div>\r\n\r\n            {/* Generate Section */}\r\n            <div className=\"p-6 bg-slate-50 border-b border-slate-100\">\r\n                {/* Quantity Selector */}\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                    <label className=\"text-sm font-bold text-slate-600\">Number of codes to generate:</label>\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <button\r\n                            onClick={decrementQuantity}\r\n                            disabled={quantity <= 1 || isGenerating}\r\n                            className=\"p-2 bg-white border border-slate-200 rounded-lg hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                        >\r\n                            <Minus size={16} />\r\n                        </button>\r\n                        <input\r\n                            type=\"number\"\r\n                            value={quantity}\r\n                            onChange={(e) => setQuantity(Math.min(50, Math.max(1, parseInt(e.target.value) || 1)))}\r\n                            min=\"1\"\r\n                            max=\"50\"\r\n                            className=\"w-16 text-center py-2 bg-white border border-slate-200 rounded-lg font-bold text-slate-800 focus:ring-2 focus:ring-brand-gold/50 outline-none\"\r\n                        />\r\n                        <button\r\n                            onClick={incrementQuantity}\r\n                            disabled={quantity >= 50 || isGenerating}\r\n                            className=\"p-2 bg-white border border-slate-200 rounded-lg hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                        >\r\n                            <Plus size={16} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Generate Button */}\r\n                <button\r\n                    onClick={handleGenerate}\r\n                    disabled={isGenerating}\r\n                    className=\"w-full py-3 px-4 bg-brand-dark text-white rounded-lg font-bold hover:bg-slate-800 transition-all flex items-center justify-center gap-2 disabled:opacity-50 shadow-md\"\r\n                >\r\n                    {isGenerating ? (\r\n                        <>\r\n                            <Spinner className=\"text-white\" size={18} />\r\n                            Generating {quantity} code{quantity > 1 ? 's' : ''}...\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <Plus size={18} />\r\n                            Generate {quantity} Invitation Code{quantity > 1 ? 's' : ''}\r\n                        </>\r\n                    )}\r\n                </button>\r\n\r\n                {/* Newly Generated Codes Display */}\r\n                {newCodes.length > 0 && (\r\n                    <div className=\"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg animate-in fade-in slide-in-from-top-2\">\r\n                        <div className=\"flex items-center justify-between mb-3\">\r\n                            <p className=\"text-xs font-bold text-green-700 uppercase\">\r\n                                {newCodes.length} New Code{newCodes.length > 1 ? 's' : ''} Generated!\r\n                            </p>\r\n                            {newCodes.length > 1 && (\r\n                                <button\r\n                                    onClick={handleCopyAll}\r\n                                    className=\"text-xs font-bold text-green-700 hover:text-green-900 flex items-center gap-1 px-2 py-1 bg-green-100 rounded-md transition-colors\"\r\n                                >\r\n                                    {copiedCode === 'all' ? <CheckCircle size={14} /> : <Copy size={14} />}\r\n                                    Copy All\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"space-y-2 max-h-48 overflow-y-auto\">\r\n                            {newCodes.map((code, index) => (\r\n                                <div key={index} className=\"flex items-center gap-2 bg-white/50 rounded-md p-2\">\r\n                                    <code className=\"flex-1 text-sm font-mono font-bold text-green-800 tracking-widest\">\r\n                                        {code}\r\n                                    </code>\r\n                                    <button\r\n                                        onClick={() => handleCopy(code)}\r\n                                        className=\"p-1.5 bg-green-100 hover:bg-green-200 text-green-700 rounded transition-colors\"\r\n                                        title=\"Copy to clipboard\"\r\n                                    >\r\n                                        {copiedCode === code ? <CheckCircle size={14} /> : <Copy size={14} />}\r\n                                    </button>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <p className=\"text-xs text-green-600 mt-3\">\r\n                            Share these codes via WhatsApp or email for instant signup. Each code can only be used once.\r\n                        </p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Active Codes List */}\r\n            <div className=\"p-6\">\r\n                <h4 className=\"text-sm font-bold text-slate-500 uppercase tracking-wide mb-4\">\r\n                    Active Codes ({codes.length})\r\n                </h4>\r\n\r\n                {isLoading ? (\r\n                    <div className=\"text-center py-8\">\r\n                        <Spinner className=\"mx-auto text-brand-gold\" size={24} />\r\n                    </div>\r\n                ) : codes.length === 0 ? (\r\n                    <div className=\"text-center py-8 text-slate-400\">\r\n                        <Ticket size={32} className=\"mx-auto mb-2 opacity-50\" />\r\n                        <p className=\"text-sm\">No active invitation codes</p>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n                        {codes.map((code) => (\r\n                            <div\r\n                                key={code._id}\r\n                                className=\"flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-100 hover:border-slate-200 transition-colors group\"\r\n                            >\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <code className=\"font-mono font-bold text-slate-700 tracking-wider text-sm\">\r\n                                        {code.code}\r\n                                    </code>\r\n                                    <span className=\"text-xs text-slate-400\">\r\n                                        {formatTimeAgo(code.createdAt)}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                    <button\r\n                                        onClick={() => handleCopy(code.code)}\r\n                                        className=\"p-1.5 text-slate-400 hover:text-brand-dark hover:bg-white rounded transition-colors\"\r\n                                        title=\"Copy\"\r\n                                    >\r\n                                        {copiedCode === code.code ? (\r\n                                            <CheckCircle size={16} className=\"text-green-600\" />\r\n                                        ) : (\r\n                                            <Copy size={16} />\r\n                                        )}\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => handleDelete(code._id)}\r\n                                        className=\"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors\"\r\n                                        title=\"Delete\"\r\n                                    >\r\n                                        <Trash2 size={16} />\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Used Codes List */}\r\n            <div className=\"p-6 border-t border-slate-200 bg-slate-50/50\">\r\n                <div className=\"flex items-center gap-3 mb-4\">\r\n                    <div className=\"p-2 bg-gradient-to-br from-blue-500/20 to-blue-600/10 rounded-lg\">\r\n                        <Users className=\"text-blue-600\" size={20} />\r\n                    </div>\r\n                    <div>\r\n                        <h4 className=\"text-sm font-bold text-slate-700\">\r\n                            Used Codes ({usedCodes.length})\r\n                        </h4>\r\n                        <p className=\"text-xs text-slate-500\">Codes that have been redeemed by users</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {isLoading ? (\r\n                    <div className=\"text-center py-8\">\r\n                        <Spinner className=\"mx-auto text-brand-gold\" size={24} />\r\n                    </div>\r\n                ) : usedCodes.length === 0 ? (\r\n                    <div className=\"text-center py-8 text-slate-400\">\r\n                        <Users size={32} className=\"mx-auto mb-2 opacity-50\" />\r\n                        <p className=\"text-sm\">No codes have been used yet</p>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"space-y-3 max-h-96 overflow-y-auto\">\r\n                        {usedCodes.map((code) => (\r\n                            <div\r\n                                key={code._id}\r\n                                className=\"p-4 bg-white rounded-lg border border-slate-200 hover:shadow-sm transition-shadow\"\r\n                            >\r\n                                <div className=\"flex items-start justify-between mb-3\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <code className=\"font-mono font-bold text-slate-700 tracking-wider text-sm\">\r\n                                            {code.code}\r\n                                        </code>\r\n                                        <span className=\"px-2 py-0.5 bg-green-100 text-green-700 text-xs font-bold rounded\">\r\n                                            USED\r\n                                        </span>\r\n                                    </div>\r\n                                    <span className=\"text-xs text-slate-400\">\r\n                                        {formatTimeAgo(code.usedAt || code.createdAt)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                {code.usedBy && (\r\n                                    <div className=\"pl-4 border-l-2 border-blue-200 space-y-1\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <span className=\"text-xs font-bold text-slate-500 uppercase\">Name:</span>\r\n                                            <span className=\"text-sm font-bold text-slate-900\">{code.usedBy.name}</span>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <span className=\"text-xs font-bold text-slate-500 uppercase\">Email:</span>\r\n                                            <span className=\"text-sm text-slate-700\">{code.usedBy.email}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\actions.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'crypto' is defined but never used.","line":10,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":14,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"crypto"},"fix":{"range":[300,328],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":14,"column":74,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":14,"endColumn":77,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[561,564],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[561,564],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":224,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":224,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8193,8196],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8193,8196],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'event' is assigned a value but never used.","line":228,"column":15,"nodeType":"Identifier","messageId":"unusedVar","endLine":228,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":309,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":309,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11173,11176],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11173,11176],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":334,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":334,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11930,11933],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11930,11933],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\r\n\r\nimport dbConnect from \"@/lib/db\";\r\nimport User from \"@/models/User\";\r\nimport Event from \"@/models/Event\";\r\nimport AuditLog from \"@/models/AuditLog\";\r\nimport InvitationCode from \"@/models/InvitationCode\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { auth } from \"@/auth\";\r\nimport crypto from \"crypto\";\r\nimport { sendUserApprovalEmail, sendEventApprovalEmail, sendUserRejectionEmail, sendEventRejectionEmail } from \"@/lib/email\";\r\n\r\n// Helper for audit logging\r\nasync function logAudit(action: string, targetResource: string, details: any) {\r\n    try {\r\n        const session = await auth();\r\n        if (!session?.user?.id) return;\r\n\r\n        await AuditLog.create({\r\n            action,\r\n            performedBy: session.user.id,\r\n            targetResource,\r\n            details\r\n        });\r\n    } catch (error) {\r\n        console.error(\"Audit Log Error:\", error);\r\n    }\r\n}\r\n\r\n// Check admin permission helper\r\nasync function checkAdmin() {\r\n    const session = await auth();\r\n    if (session?.user?.role !== 'admin') {\r\n        throw new Error(\"Unauthorized: Admin access required\");\r\n    }\r\n    return session;\r\n}\r\n\r\nexport async function approveUser(userId: string) {\r\n    try {\r\n        await checkAdmin();\r\n        await dbConnect();\r\n        const user = await User.findByIdAndUpdate(userId, { accountStatus: 'active' }, { new: true });\r\n\r\n        if (!user) {\r\n            return { success: false, message: 'User not found' };\r\n        }\r\n\r\n        revalidatePath('/admin/users');\r\n        await logAudit('USER_APPROVED', `User:${userId}`, { email: user.email });\r\n\r\n        // Send approval email (non-blocking)\r\n        sendUserApprovalEmail(user.email, user.name).catch(err =>\r\n            console.error('Failed to send approval email:', err)\r\n        );\r\n\r\n        return { success: true, message: 'User approved' };\r\n    } catch (error) {\r\n        console.error('Failed to approve user:', error);\r\n        return { success: false, message: 'Failed to approve user' };\r\n    }\r\n}\r\n\r\nexport async function rejectUser(userId: string) {\r\n    try {\r\n        await checkAdmin();\r\n        await dbConnect();\r\n        const user = await User.findByIdAndUpdate(userId, { accountStatus: 'rejected' }, { new: true });\r\n\r\n        if (!user) {\r\n            return { success: false, message: 'User not found' };\r\n        }\r\n\r\n        revalidatePath('/admin/users');\r\n        await logAudit('USER_REJECTED', `User:${userId}`, { email: user.email });\r\n\r\n        // Send rejection email (non-blocking)\r\n        sendUserRejectionEmail(user.email, user.name).catch(err =>\r\n            console.error('Failed to send rejection email:', err)\r\n        );\r\n\r\n        return { success: true, message: 'User rejected' };\r\n    } catch (error) {\r\n        console.error('Failed to reject user:', error);\r\n        return { success: false, message: 'Failed to reject user' };\r\n    }\r\n}\r\n\r\nexport async function toggleUserStatus(userId: string, newStatus: string) {\r\n    const validStatuses = ['active', 'suspended', 'rejected', 'pending'];\r\n    if (!validStatuses.includes(newStatus)) {\r\n        return { success: false, message: 'Invalid status' };\r\n    }\r\n\r\n    try {\r\n        await checkAdmin();\r\n        await dbConnect();\r\n\r\n        // Find first to get old status\r\n        const oldUser = await User.findById(userId);\r\n        if (!oldUser) return { success: false, message: 'User not found' };\r\n\r\n        const user = await User.findByIdAndUpdate(userId, { accountStatus: newStatus }, { new: true });\r\n        revalidatePath('/admin/users');\r\n\r\n        await logAudit('USER_STATUS_CHANGE', `User:${userId}`, {\r\n            oldStatus: oldUser.accountStatus,\r\n            newStatus,\r\n            email: user?.email\r\n        });\r\n\r\n        // Send status change emails (non-blocking)\r\n        if (newStatus === 'active' && oldUser.accountStatus !== 'active') {\r\n            sendUserApprovalEmail(user.email, user.name).catch(err =>\r\n                console.error('Failed to send status active email:', err)\r\n            );\r\n        } else if (newStatus === 'rejected' && oldUser.accountStatus !== 'rejected') {\r\n            sendUserRejectionEmail(user.email, user.name).catch(err =>\r\n                console.error('Failed to send status rejection email:', err)\r\n            );\r\n        }\r\n\r\n        return { success: true, message: `User status updated to ${newStatus}` };\r\n    } catch (error) {\r\n        console.error('Failed to update user status:', error);\r\n        return { success: false, message: 'Failed to update user status' };\r\n    }\r\n}\r\n\r\nexport async function deleteUser(userId: string) {\r\n    try {\r\n        await checkAdmin();\r\n        await dbConnect();\r\n        const user = await User.findByIdAndDelete(userId);\r\n        revalidatePath('/admin/users');\r\n        await logAudit('USER_DELETED', `User:${userId}`, { email: user?.email });\r\n        return { success: true, message: 'User deleted' };\r\n    } catch (error) {\r\n        console.error('Failed to delete user:', error);\r\n        return { success: false, message: 'Failed to delete user' };\r\n    }\r\n}\r\n\r\nexport async function approveEvent(eventId: string) {\r\n    try {\r\n        await checkAdmin();\r\n        await dbConnect();\r\n\r\n        // Get event and populate creator info before updating\r\n        const event = await Event.findById(eventId).populate('createdBy', 'name email');\r\n\r\n        if (!event) {\r\n            return { success: false, message: 'Event not found' };\r\n        }\r\n\r\n        // Update event status\r\n        await Event.findByIdAndUpdate(eventId, { status: 'approved' });\r\n        revalidatePath('/admin/events');\r\n        await logAudit('EVENT_APPROVED', `Event:${eventId}`, { title: event.title });\r\n\r\n        // Send approval email to event creator (non-blocking)\r\n        if (event.createdBy && typeof event.createdBy === 'object' && 'email' in event.createdBy) {\r\n            sendEventApprovalEmail(\r\n                event.createdBy.email,\r\n                event.createdBy.name,\r\n                event.title\r\n            ).catch(err => console.error('Failed to send event approval email:', err));\r\n        }\r\n\r\n        return { success: true, message: 'Event approved' };\r\n    } catch (error) {\r\n        console.error('Failed to approve event:', error);\r\n        return { success: false, message: 'Failed to approve event' };\r\n    }\r\n}\r\n\r\nexport async function rejectEvent(eventId: string) {\r\n    try {\r\n        await checkAdmin();\r\n        await dbConnect();\r\n\r\n        // Get event and populate creator info\r\n        const event = await Event.findById(eventId).populate('createdBy', 'name email');\r\n\r\n        if (!event) {\r\n            return { success: false, message: 'Event not found' };\r\n        }\r\n\r\n        // Update event status\r\n        await Event.findByIdAndUpdate(eventId, { status: 'rejected' });\r\n        revalidatePath('/admin/events');\r\n        await logAudit('EVENT_REJECTED', `Event:${eventId}`, { title: event.title });\r\n\r\n        // Send rejection email to event creator (non-blocking)\r\n        if (event.createdBy && typeof event.createdBy === 'object' && 'email' in event.createdBy) {\r\n            sendEventRejectionEmail(\r\n                event.createdBy.email,\r\n                event.createdBy.name,\r\n                event.title\r\n            ).catch(err => console.error('Failed to send event rejection email:', err));\r\n        }\r\n\r\n        return { success: true, message: 'Event rejected' };\r\n    } catch (error) {\r\n        console.error('Failed to reject event:', error);\r\n        return { success: false, message: 'Failed to reject event' };\r\n    }\r\n}\r\n\r\nexport async function deleteEvent(eventId: string) {\r\n    try {\r\n        await checkAdmin();\r\n        await dbConnect();\r\n        const event = await Event.findByIdAndDelete(eventId);\r\n        revalidatePath('/admin/events');\r\n        await logAudit('EVENT_DELETED', `Event:${eventId}`, { title: event?.title });\r\n        return { success: true, message: 'Event deleted' };\r\n    } catch (error) {\r\n        console.error('Failed to delete event:', error);\r\n        return { success: false, message: 'Failed to delete event' };\r\n    }\r\n}\r\n\r\nexport async function updateEvent(eventId: string, data: any) {\r\n    try {\r\n        await checkAdmin();\r\n        await dbConnect();\r\n        const event = await Event.findByIdAndUpdate(eventId, data, { new: true });\r\n        revalidatePath('/admin/events');\r\n        await logAudit('EVENT_UPDATED', `Event:${eventId}`, { updates: Object.keys(data) });\r\n        return { success: true, message: 'Event updated' };\r\n    } catch (error) {\r\n        console.error('Failed to update event:', error);\r\n        return { success: false, message: 'Failed to update event' };\r\n    }\r\n}\r\n\r\n// ==================== INVITATION CODE ACTIONS ====================\r\n\r\nfunction generateCodeString(): string {\r\n    // Generate a 10-character alphanumeric code in format XXXX-XXXX-XX\r\n    const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789'; // Removed confusing characters like 0, O, 1, I\r\n    let code = '';\r\n    for (let i = 0; i < 10; i++) {\r\n        code += chars.charAt(Math.floor(Math.random() * chars.length));\r\n    }\r\n    // Format as XXXX-XXXX-XX\r\n    return `${code.slice(0, 4)}-${code.slice(4, 8)}-${code.slice(8, 10)}`;\r\n}\r\n\r\nexport async function generateInvitationCodes(count: number = 1) {\r\n    try {\r\n        const session = await checkAdmin();\r\n        await dbConnect();\r\n\r\n        // Validate count (1-50 codes max per request)\r\n        const safeCount = Math.min(Math.max(1, count), 50);\r\n        const generatedCodes: string[] = [];\r\n\r\n        for (let i = 0; i < safeCount; i++) {\r\n            // Generate a unique code\r\n            let code = generateCodeString();\r\n            let attempts = 0;\r\n\r\n            // Ensure uniqueness\r\n            while (await InvitationCode.findOne({ code }) && attempts < 10) {\r\n                code = generateCodeString();\r\n                attempts++;\r\n            }\r\n\r\n            const invitationCode = await InvitationCode.create({\r\n                code,\r\n                isUsed: false,\r\n                generatedBy: session.user.id\r\n            });\r\n\r\n            generatedCodes.push(invitationCode.code);\r\n        }\r\n\r\n        revalidatePath('/admin');\r\n        await logAudit('INVITATION_CODES_GENERATED', `Count:${safeCount}`, {\r\n            count: safeCount,\r\n            codes: generatedCodes\r\n        });\r\n\r\n        return {\r\n            success: true,\r\n            codes: generatedCodes,\r\n            count: generatedCodes.length,\r\n            message: `${generatedCodes.length} invitation code(s) generated successfully`\r\n        };\r\n    } catch (error) {\r\n        console.error('Failed to generate invitation codes:', error);\r\n        return { success: false, codes: [], message: 'Failed to generate invitation codes' };\r\n    }\r\n}\r\n\r\nexport async function getActiveInvitationCodes() {\r\n    try {\r\n        await checkAdmin();\r\n        await dbConnect();\r\n\r\n        const codes = await InvitationCode.find({ isUsed: false })\r\n            .sort({ createdAt: -1 })\r\n            .limit(20)\r\n            .lean();\r\n\r\n        // Serialize the data\r\n        const serializedCodes = codes.map((code: any) => ({\r\n            _id: code._id.toString(),\r\n            code: code.code,\r\n            createdAt: code.createdAt.toISOString(),\r\n        }));\r\n\r\n        return { success: true, codes: serializedCodes };\r\n    } catch (error) {\r\n        console.error('Failed to fetch invitation codes:', error);\r\n        return { success: false, codes: [] };\r\n    }\r\n}\r\n\r\nexport async function getUsedInvitationCodes() {\r\n    try {\r\n        await checkAdmin();\r\n        await dbConnect();\r\n\r\n        const codes = await InvitationCode.find({ isUsed: true })\r\n            .populate('usedBy', 'name email')\r\n            .sort({ usedAt: -1 })\r\n            .limit(50)\r\n            .lean();\r\n\r\n        // Serialize the data\r\n        const serializedCodes = codes.map((code: any) => ({\r\n            _id: code._id.toString(),\r\n            code: code.code,\r\n            createdAt: code.createdAt.toISOString(),\r\n            usedAt: code.usedAt ? code.usedAt.toISOString() : null,\r\n            usedBy: code.usedBy ? {\r\n                name: code.usedBy.name,\r\n                email: code.usedBy.email\r\n            } : null\r\n        }));\r\n\r\n        return { success: true, codes: serializedCodes };\r\n    } catch (error) {\r\n        console.error('Failed to fetch used invitation codes:', error);\r\n        return { success: false, codes: [] };\r\n    }\r\n}\r\n\r\nexport async function deleteInvitationCode(codeId: string) {\r\n    try {\r\n        await checkAdmin();\r\n        await dbConnect();\r\n\r\n        const code = await InvitationCode.findByIdAndDelete(codeId);\r\n\r\n        if (!code) {\r\n            return { success: false, message: 'Code not found' };\r\n        }\r\n\r\n        revalidatePath('/admin');\r\n        await logAudit('INVITATION_CODE_DELETED', `Code:${code.code}`, { code: code.code });\r\n\r\n        return { success: true, message: 'Invitation code deleted' };\r\n    } catch (error) {\r\n        console.error('Failed to delete invitation code:', error);\r\n        return { success: false, message: 'Failed to delete invitation code' };\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\blood-bank\\actions.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[738,741],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[738,741],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1068,1071],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1068,1071],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\r\n\r\nimport dbConnect from '@/lib/db';\r\nimport Donation from '@/models/Donation';\r\n\r\nexport async function searchCompatibleDonors(targetBloodType: string) {\r\n    try {\r\n        await dbConnect();\r\n\r\n        // Query: Find detailed donors where the target blood type is in their compatible recipients list\r\n        // AND they are marked as fit to donate.\r\n\r\n        // normalize input just in case e.g \"A+\"\r\n        const type = targetBloodType.trim();\r\n\r\n        const donors = await Donation.find({\r\n            isFitToDonate: true,\r\n            compatibleRecipients: type\r\n        }).sort({ createdAt: -1 }).lean();\r\n\r\n        // Convert _id to string for serialization\r\n        const serializedDonors = donors.map((donor: any) => ({\r\n            ...donor,\r\n            _id: donor._id.toString(),\r\n            eventId: donor.eventId.toString(),\r\n            createdAt: donor.createdAt.toISOString(),\r\n            updatedAt: donor.updatedAt.toISOString(),\r\n        }));\r\n\r\n        return { success: true, donors: serializedDonors };\r\n    } catch (error: any) {\r\n        console.error('Error searching donors:', error);\r\n        return { success: false, message: 'Failed to search donors.' };\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\blood-bank\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1255,1258],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1255,1258],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":64,"column":96,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2940,2961],"text":"Patient&apos;s Blood Group"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2940,2961],"text":"Patient&lsquo;s Blood Group"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2940,2961],"text":"Patient&#39;s Blood Group"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2940,2961],"text":"Patient&rsquo;s Blood Group"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { searchCompatibleDonors } from './actions';\r\nimport { Spinner } from '@/components/ui/Spinner';\r\n\r\n// Icons\r\nconst DropIcon = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\" />\r\n    </svg>\r\n);\r\n\r\nconst HeartIcon = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 fill-current text-white\" viewBox=\"0 0 20 20\">\r\n        <path fillRule=\"evenodd\" d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\" clipRule=\"evenodd\" />\r\n    </svg>\r\n);\r\n\r\nexport default function BloodBankSearch() {\r\n    const [targetGroup, setTargetGroup] = useState('');\r\n    const [targetRh, setTargetRh] = useState('');\r\n    const [donors, setDonors] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [hasSearched, setHasSearched] = useState(false);\r\n\r\n    const handleSearch = async () => {\r\n        if (!targetGroup || !targetRh) return;\r\n\r\n        setLoading(true);\r\n        const type = `${targetGroup}${targetRh === 'Positive' ? '+' : '-'}`;\r\n        const result = await searchCompatibleDonors(type);\r\n\r\n        if (result.success) {\r\n            setDonors(result.donors || []);\r\n        } else {\r\n            setDonors([]);\r\n        }\r\n        setLoading(false);\r\n        setHasSearched(true);\r\n    };\r\n\r\n    const targetBloodType = targetGroup && targetRh ? `${targetGroup}${targetRh === 'Positive' ? '+' : '-'}` : '...';\r\n\r\n    return (\r\n        <div className=\"p-8 max-w-7xl mx-auto\">\r\n            <div className=\"flex items-center gap-4 mb-8\">\r\n                <div className=\"p-3 bg-red-100 rounded-xl text-red-600\">\r\n                    <DropIcon />\r\n                </div>\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold text-gray-900\">Blood Bank Search</h1>\r\n                    <p className=\"text-gray-500\">Locate compatible donors for immediate patient needs.</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Search Interface */}\r\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 mb-8\">\r\n                <h2 className=\"text-lg font-semibold text-gray-800 mb-6\">Patient Requirement</h2>\r\n\r\n                <div className=\"flex flex-col md:flex-row gap-8 items-end\">\r\n                    <div className=\"w-full md:w-1/3\">\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Patient's Blood Group</label>\r\n                        <select\r\n                            value={targetGroup}\r\n                            onChange={(e) => setTargetGroup(e.target.value)}\r\n                            className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-500 focus:border-red-500 bg-white\"\r\n                        >\r\n                            <option value=\"\">Select Group</option>\r\n                            {['A', 'B', 'AB', 'O'].map(g => <option key={g} value={g}>{g}</option>)}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"w-full md:w-1/3\">\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">Rh Factor</label>\r\n                        <select\r\n                            value={targetRh}\r\n                            onChange={(e) => setTargetRh(e.target.value)}\r\n                            className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-500 focus:border-red-500 bg-white\"\r\n                        >\r\n                            <option value=\"\">Select Rh</option>\r\n                            <option value=\"Positive\">Positive (+)</option>\r\n                            <option value=\"Negative\">Negative (-)</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"w-full md:w-1/3\">\r\n                        <button\r\n                            onClick={handleSearch}\r\n                            disabled={!targetGroup || !targetRh || loading}\r\n                            className={`w-full py-3 px-6 rounded-lg font-bold text-white shadow-md transition-all ${!targetGroup || !targetRh || loading\r\n                                ? 'bg-gray-300 cursor-not-allowed'\r\n                                : 'bg-red-600 hover:bg-red-700 hover:shadow-lg transform hover:-translate-y-1'\r\n                                }`}\r\n                        >\r\n                            {loading ? <Spinner className=\"text-white\" /> : `Find Donors for ${targetBloodType}`}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Results */}\r\n            <AnimatePresence>\r\n                {hasSearched && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ duration: 0.4 }}\r\n                    >\r\n                        <div className=\"flex justify-between items-center mb-6\">\r\n                            <h2 className=\"text-xl font-bold text-gray-800\">\r\n                                Found {donors.length} Compatible {donors.length === 1 ? 'Donor' : 'Donors'}\r\n                            </h2>\r\n                            {donors.length > 0 && (\r\n                                <span className=\"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium\">\r\n                                    All are Fit to Donate\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n\r\n                        {donors.length === 0 ? (\r\n                            <div className=\"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200\">\r\n                                <p className=\"text-gray-500 text-lg\">No compatible donors found for {targetBloodType}.</p>\r\n                                <p className=\"text-sm text-gray-400 mt-2\">Try expanding your search or checking local inventory.</p>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                                {donors.map((donor) => (\r\n                                    <div key={donor._id} className=\"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow\">\r\n                                        <div className=\"p-6\">\r\n                                            <div className=\"flex justify-between items-start mb-4\">\r\n                                                <div>\r\n                                                    <h3 className=\"font-bold text-lg text-gray-900\">{donor.donorName}</h3>\r\n                                                    <p className=\"text-gray-500 text-sm\">Age: {donor.donorVitals.age} â€¢ {donor.donorVitals.weight}kg</p>\r\n                                                </div>\r\n                                                <div className=\"flex flex-col items-center\">\r\n                                                    <div className=\"h-10 w-10 rounded-full bg-red-600 flex items-center justify-center text-white font-bold text-sm shadow-inner\">\r\n                                                        {donor.bloodGroup.group}\r\n                                                        {donor.bloodGroup.rh === 'Positive' ? '+' : '-'}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"space-y-2 mb-4\">\r\n                                                <div className=\"flex justify-between text-sm\">\r\n                                                    <span className=\"text-gray-500\">PCV</span>\r\n                                                    <span className=\"font-medium text-gray-800\">{donor.donorVitals.pcv}%</span>\r\n                                                </div>\r\n                                                <div className=\"flex justify-between text-sm\">\r\n                                                    <span className=\"text-gray-500\">BP</span>\r\n                                                    <span className=\"font-medium text-gray-800\">{donor.donorVitals.bloodPressure}</span>\r\n                                                </div>\r\n                                                <div className=\"flex justify-between text-sm\">\r\n                                                    <span className=\"text-gray-500\">Date</span>\r\n                                                    <span className=\"font-medium text-gray-800\">{new Date(donor.createdAt).toLocaleDateString()}</span>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <button className=\"w-full py-2 bg-gray-900 text-white rounded-lg text-sm font-semibold hover:bg-gray-800 transition-colors flex items-center justify-center gap-2\">\r\n                                                <HeartIcon />\r\n                                                Contact Donor\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\events\\EventAdminActions.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MoreHorizontal' is defined but never used.","line":5,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":38,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"MoreHorizontal"},"fix":{"range":[196,212],"text":""},"desc":"Remove unused variable \"MoreHorizontal\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'eventTitle' is defined but never used.","line":15,"column":54,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":64}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { deleteEvent } from '../actions'; // We'll assume update isn't needed inline for now, or we can add a modal later\r\nimport { Trash2, Edit, MoreHorizontal, AlertTriangle } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Spinner } from '@/components/ui/Spinner';\r\n\r\ninterface EventAdminActionsProps {\r\n    eventId: string;\r\n    eventTitle: string;\r\n}\r\n\r\nexport default function EventAdminActions({ eventId, eventTitle }: EventAdminActionsProps) {\r\n    const [isDeleting, setIsDeleting] = useState(false);\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    const router = useRouter();\r\n\r\n    const handleDelete = async () => {\r\n        setIsDeleting(true);\r\n        const result = await deleteEvent(eventId);\r\n        if (result.success) {\r\n            router.refresh();\r\n        } else {\r\n            alert(\"Failed to delete event: \" + result.message);\r\n            setIsDeleting(false);\r\n            setShowConfirm(false);\r\n        }\r\n    };\r\n\r\n    if (showConfirm) {\r\n        return (\r\n            <div className=\"flex items-center gap-2 animate-in fade-in slide-in-from-right-4 duration-200\">\r\n                <span className=\"text-xs font-bold text-red-600 flex items-center gap-1\">\r\n                    <AlertTriangle size={12} />\r\n                    Confirm?\r\n                </span>\r\n                <button\r\n                    onClick={handleDelete}\r\n                    disabled={isDeleting}\r\n                    className=\"px-3 py-1 bg-red-600 text-white rounded text-xs font-bold hover:bg-red-700 transition-colors flex items-center gap-1\"\r\n                >\r\n                    {isDeleting ? <Spinner size={12} className=\"text-white\" /> : \"Yes, Delete\"}\r\n                </button>\r\n                <button\r\n                    onClick={() => setShowConfirm(false)}\r\n                    disabled={isDeleting}\r\n                    className=\"px-3 py-1 bg-slate-100 text-slate-600 rounded text-xs font-bold hover:bg-slate-200 transition-colors\"\r\n                >\r\n                    Cancel\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex items-center gap-2\">\r\n            <Link\r\n                href={`/dashboard/event/${eventId}/builder`}\r\n                className=\"p-2 text-slate-400 hover:text-brand-dark hover:bg-slate-50 rounded-lg transition-colors\"\r\n                title=\"Edit Event\"\r\n            >\r\n                <Edit size={16} />\r\n            </Link>\r\n            <button\r\n                onClick={() => setShowConfirm(true)}\r\n                className=\"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n                title=\"Delete Event\"\r\n            >\r\n                <Trash2 size={16} />\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\events\\page.tsx","messages":[{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\events\\page.tsx:17:13\n   15 |\n   16 |         return (\n>  17 |             <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n      |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  18 |                 <div className=\"flex items-center justify-between\">\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  19 |                     <div>\n      â€¦\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 134 |                 </div>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 135 |             </div>\n      | ^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  136 |         );\n  137 |     } catch (error) {\n  138 |         console.error(\"Database connection failed:\", error);","line":17,"column":13,"nodeType":null,"endLine":135,"endColumn":19},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\events\\page.tsx:18:17\n  16 |         return (\n  17 |             <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n> 18 |                 <div className=\"flex items-center justify-between\">\n     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 19 |                     <div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 20 |                         <h2 className=\"text-3xl font-serif font-bold text-brand-dark\">Event Approval Queue</h2>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 21 |                         <p className=\"text-slate-500 mt-1\">Review and approve outreach proposals.</p>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 22 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 23 |                     <RefreshButton />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 24 |                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  25 |\n  26 |                 <div className=\"grid grid-cols-1 gap-6\">\n  27 |                     {events.map((event) => (","line":18,"column":17,"nodeType":null,"endLine":24,"endColumn":23},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\events\\page.tsx:19:21\n  17 |             <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n  18 |                 <div className=\"flex items-center justify-between\">\n> 19 |                     <div>\n     |                     ^^^^^\n> 20 |                         <h2 className=\"text-3xl font-serif font-bold text-brand-dark\">Event Approval Queue</h2>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 21 |                         <p className=\"text-slate-500 mt-1\">Review and approve outreach proposals.</p>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 22 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  23 |                     <RefreshButton />\n  24 |                 </div>\n  25 |","line":19,"column":21,"nodeType":null,"endLine":22,"endColumn":27},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\events\\page.tsx:20:25\n  18 |                 <div className=\"flex items-center justify-between\">\n  19 |                     <div>\n> 20 |                         <h2 className=\"text-3xl font-serif font-bold text-brand-dark\">Event Approval Queue</h2>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  21 |                         <p className=\"text-slate-500 mt-1\">Review and approve outreach proposals.</p>\n  22 |                     </div>\n  23 |                     <RefreshButton />","line":20,"column":25,"nodeType":null,"endLine":20,"endColumn":112},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\events\\page.tsx:21:25\n  19 |                     <div>\n  20 |                         <h2 className=\"text-3xl font-serif font-bold text-brand-dark\">Event Approval Queue</h2>\n> 21 |                         <p className=\"text-slate-500 mt-1\">Review and approve outreach proposals.</p>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  22 |                     </div>\n  23 |                     <RefreshButton />\n  24 |                 </div>","line":21,"column":25,"nodeType":null,"endLine":21,"endColumn":102},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\events\\page.tsx:23:21\n  21 |                         <p className=\"text-slate-500 mt-1\">Review and approve outreach proposals.</p>\n  22 |                     </div>\n> 23 |                     <RefreshButton />\n     |                     ^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  24 |                 </div>\n  25 |\n  26 |                 <div className=\"grid grid-cols-1 gap-6\">","line":23,"column":21,"nodeType":null,"endLine":23,"endColumn":38},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\events\\page.tsx:26:17\n   24 |                 </div>\n   25 |\n>  26 |                 <div className=\"grid grid-cols-1 gap-6\">\n      |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  27 |                     {events.map((event) => (\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  28 |                         <div key={event._id.toString()} className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 p-6 flex flex-col md:flex-row gap-6 hover:shadow-md transition-shadow\">\n      â€¦\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 133 |                     )}\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 134 |                 </div>\n      | ^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  135 |             </div>\n  136 |         );\n  137 |     } catch (error) {","line":26,"column":17,"nodeType":null,"endLine":134,"endColumn":23},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\events\\page.tsx:130:25\n  128 |\n  129 |                     {events.length === 0 && (\n> 130 |                         <div className=\"p-12 text-center bg-white rounded-xl border border-slate-200 border-dashed\">\n      |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 131 |                             <p className=\"text-slate-500 font-medium\">No events found in the system.</p>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 132 |                         </div>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  133 |                     )}\n  134 |                 </div>\n  135 |             </div>","line":130,"column":25,"nodeType":null,"endLine":132,"endColumn":31},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\events\\page.tsx:131:29\n  129 |                     {events.length === 0 && (\n  130 |                         <div className=\"p-12 text-center bg-white rounded-xl border border-slate-200 border-dashed\">\n> 131 |                             <p className=\"text-slate-500 font-medium\">No events found in the system.</p>\n      |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  132 |                         </div>\n  133 |                     )}\n  134 |                 </div>","line":131,"column":29,"nodeType":null,"endLine":131,"endColumn":105},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":146,"column":123,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[9539,9718],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&apos;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[9539,9718],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&lsquo;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[9539,9718],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&#39;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[9539,9718],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&rsquo;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import dbConnect from \"@/lib/db\";\r\nimport Event from \"@/models/Event\";\r\nimport { approveEvent, rejectEvent } from \"../actions\";\r\nimport { Check, Calendar, MapPin, CheckCircle, Image as ImageIcon, X } from \"lucide-react\";\r\nimport Image from \"next/image\";\r\nimport RefreshButton from \"@/components/ui/RefreshButton\";\r\nimport EventAdminActions from \"./EventAdminActions\";\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport default async function PendingEventsPage() {\r\n    try {\r\n        await dbConnect();\r\n        const events = await Event.find({}).populate('createdBy', 'name email').sort({ createdAt: -1 });\r\n\r\n        return (\r\n            <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                        <h2 className=\"text-3xl font-serif font-bold text-brand-dark\">Event Approval Queue</h2>\r\n                        <p className=\"text-slate-500 mt-1\">Review and approve outreach proposals.</p>\r\n                    </div>\r\n                    <RefreshButton />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 gap-6\">\r\n                    {events.map((event) => (\r\n                        <div key={event._id.toString()} className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 p-6 flex flex-col md:flex-row gap-6 hover:shadow-md transition-shadow\">\r\n\r\n                            {/* Thumbnail */}\r\n                            <div className=\"flex-shrink-0 w-full md:w-48 h-32 bg-slate-100 rounded-lg overflow-hidden relative border border-slate-200\">\r\n                                {event.coverImage ? (\r\n                                    <Image src={event.coverImage} alt={event.title} fill className=\"object-cover\" />\r\n                                ) : (\r\n                                    <div className=\"flex items-center justify-center w-full h-full text-slate-300\">\r\n                                        <ImageIcon size={32} />\r\n                                    </div>\r\n                                )}\r\n                                <div className={`absolute top-2 left-2 px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider\r\n                                    ${event.status === 'approved' ? 'bg-green-500 text-white' : 'bg-amber-500 text-white'}\r\n                                `}>\r\n                                    {event.status}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex-1 space-y-3\">\r\n                                <div>\r\n                                    <h3 className=\"text-xl font-serif font-bold text-brand-dark\">{event.title}</h3>\r\n                                    <p className=\"text-slate-500 text-sm mt-1 leading-relaxed\">{event.description || \"No description provided.\"}</p>\r\n                                </div>\r\n\r\n                                {(event.reason || event.purpose) && (\r\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-brand-cream/50 rounded-lg text-sm border border-brand-cream\">\r\n                                        {event.purpose && (\r\n                                            <div>\r\n                                                <span className=\"font-bold text-brand-dark block text-xs uppercase tracking-wider mb-1\">Purpose/Goal</span>\r\n                                                <p className=\"text-slate-600\">{event.purpose}</p>\r\n                                            </div>\r\n                                        )}\r\n                                        {event.reason && (\r\n                                            <div>\r\n                                                <span className=\"font-bold text-brand-dark block text-xs uppercase tracking-wider mb-1\">Reason/Rationale</span>\r\n                                                <p className=\"text-slate-600\">{event.reason}</p>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n\r\n                                <div className=\"flex flex-wrap items-center gap-6 text-sm text-slate-500 pt-2 border-t border-slate-50\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <Calendar size={14} className=\"text-brand-gold\" />\r\n                                        {new Date(event.date).toLocaleDateString()}\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <MapPin size={14} className=\"text-brand-gold\" />\r\n                                        {event.location}\r\n                                    </div>\r\n                                    <div className=\"text-slate-400\">\r\n                                        Data Collection Fields: <span className=\"text-slate-700 font-bold\">{event.formFields?.length || 0}</span>\r\n                                    </div>\r\n                                    <div className=\"text-slate-400 ml-auto\">\r\n                                        Proposed By: <span className=\"text-brand-dark font-bold\">{event.createdBy?.name || \"Unknown\"}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Actions Column */}\r\n                            <div className=\"flex-shrink-0 flex flex-col items-end justify-between gap-4 border-l border-slate-50 pl-4 min-w-[140px]\">\r\n                                {event.status === 'pending' ? (\r\n                                    <div className=\"w-full space-y-2\">\r\n                                        <form action={async () => {\r\n                                            'use server';\r\n                                            await approveEvent(event._id.toString());\r\n                                        }} className=\"w-full\">\r\n                                            <button className=\"w-full flex items-center justify-center gap-2 px-4 py-2 bg-brand-dark text-white rounded-lg hover:bg-brand-gold transition-colors font-bold shadow-sm text-sm\">\r\n                                                <Check size={16} />\r\n                                                Approve\r\n                                            </button>\r\n                                        </form>\r\n                                        <form action={async () => {\r\n                                            'use server';\r\n                                            await rejectEvent(event._id.toString());\r\n                                        }} className=\"w-full\">\r\n                                            <button className=\"w-full flex items-center justify-center gap-2 px-4 py-2 bg-white text-red-600 border border-red-200 rounded-lg hover:bg-red-50 transition-colors font-bold shadow-sm text-sm\">\r\n                                                <X size={16} />\r\n                                                Reject\r\n                                            </button>\r\n                                        </form>\r\n                                    </div>\r\n                                ) : event.status === 'approved' ? (\r\n                                    <div className=\"w-full flex items-center justify-center text-green-600 gap-2 font-bold px-4 py-2 bg-green-50 rounded-lg border border-green-100\">\r\n                                        <CheckCircle size={18} />\r\n                                        <span className=\"text-sm\">Approved</span>\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"w-full flex items-center justify-center text-red-600 gap-2 font-bold px-4 py-2 bg-red-50 rounded-lg border border-red-100\">\r\n                                        <X size={18} />\r\n                                        <span className=\"text-sm\">Rejected</span>\r\n                                    </div>\r\n                                )}\r\n\r\n                                <div className=\"w-full flex justify-end\">\r\n                                    <EventAdminActions eventId={event._id.toString()} eventTitle={event.title} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n\r\n                    {events.length === 0 && (\r\n                        <div className=\"p-12 text-center bg-white rounded-xl border border-slate-200 border-dashed\">\r\n                            <p className=\"text-slate-500 font-medium\">No events found in the system.</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    } catch (error) {\r\n        console.error(\"Database connection failed:\", error);\r\n        return (\r\n            <div className=\"p-12 text-center text-slate-500 bg-white rounded-xl border border-red-100 shadow-sm mt-8\">\r\n                <div className=\"w-16 h-16 bg-red-50 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                    <X size={32} />\r\n                </div>\r\n                <h2 className=\"text-xl font-bold text-slate-800 mb-2\">Connection Error</h2>\r\n                <p className=\"max-w-md mx-auto mb-4\">\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn't been whitelisted in MongoDB Atlas.\r\n                </p>\r\n                <div className=\"text-xs bg-slate-100 p-4 rounded text-left max-w-lg mx-auto overflow-auto font-mono text-slate-600\">\r\n                    {(error as Error).message || \"Unknown error\"}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx","messages":[{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:27:13\n  25 |\n  26 |         return (\n> 27 |             <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 28 |                 <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 29 |                     <div>\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 94 |\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 95 |             </div>\n     | ^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  96 |         );\n  97 |     } catch (error) {\n  98 |         console.error(\"Database connection failed:\", error);","line":27,"column":13,"nodeType":null,"endLine":95,"endColumn":19},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:28:17\n  26 |         return (\n  27 |             <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n> 28 |                 <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 29 |                     <div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 30 |                         <h1 className=\"text-3xl font-bold text-slate-800\">Dashboard</h1>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 31 |                         <p className=\"text-slate-500 mt-1\">Overview of system status and pending actions.</p>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 32 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 33 |                     <div className=\"flex-shrink-0\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 34 |                         <ExportDataButton />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 35 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 36 |                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  37 |\n  38 |                 <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n  39 |                     <Link href=\"/admin/users\" className=\"block\">","line":28,"column":17,"nodeType":null,"endLine":36,"endColumn":23},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:29:21\n  27 |             <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n  28 |                 <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n> 29 |                     <div>\n     |                     ^^^^^\n> 30 |                         <h1 className=\"text-3xl font-bold text-slate-800\">Dashboard</h1>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 31 |                         <p className=\"text-slate-500 mt-1\">Overview of system status and pending actions.</p>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 32 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  33 |                     <div className=\"flex-shrink-0\">\n  34 |                         <ExportDataButton />\n  35 |                     </div>","line":29,"column":21,"nodeType":null,"endLine":32,"endColumn":27},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:30:25\n  28 |                 <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n  29 |                     <div>\n> 30 |                         <h1 className=\"text-3xl font-bold text-slate-800\">Dashboard</h1>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  31 |                         <p className=\"text-slate-500 mt-1\">Overview of system status and pending actions.</p>\n  32 |                     </div>\n  33 |                     <div className=\"flex-shrink-0\">","line":30,"column":25,"nodeType":null,"endLine":30,"endColumn":89},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:31:25\n  29 |                     <div>\n  30 |                         <h1 className=\"text-3xl font-bold text-slate-800\">Dashboard</h1>\n> 31 |                         <p className=\"text-slate-500 mt-1\">Overview of system status and pending actions.</p>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  32 |                     </div>\n  33 |                     <div className=\"flex-shrink-0\">\n  34 |                         <ExportDataButton />","line":31,"column":25,"nodeType":null,"endLine":31,"endColumn":110},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:33:21\n  31 |                         <p className=\"text-slate-500 mt-1\">Overview of system status and pending actions.</p>\n  32 |                     </div>\n> 33 |                     <div className=\"flex-shrink-0\">\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 34 |                         <ExportDataButton />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 35 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  36 |                 </div>\n  37 |\n  38 |                 <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">","line":33,"column":21,"nodeType":null,"endLine":35,"endColumn":27},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:34:25\n  32 |                     </div>\n  33 |                     <div className=\"flex-shrink-0\">\n> 34 |                         <ExportDataButton />\n     |                         ^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  35 |                     </div>\n  36 |                 </div>\n  37 |","line":34,"column":25,"nodeType":null,"endLine":34,"endColumn":45},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:38:17\n  36 |                 </div>\n  37 |\n> 38 |                 <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 39 |                     <Link href=\"/admin/users\" className=\"block\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 40 |                         <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow\">\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 85 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 86 |                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  87 |\n  88 |                 <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n  89 |                     <AuditLogFeed />","line":38,"column":17,"nodeType":null,"endLine":86,"endColumn":23},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:39:21\n  37 |\n  38 |                 <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n> 39 |                     <Link href=\"/admin/users\" className=\"block\">\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 40 |                         <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 41 |                             <div className=\"flex items-center justify-between mb-4\">\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 49 |                         </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 50 |                     </Link>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  51 |\n  52 |                     <Link href=\"/admin/events\" className=\"block\">\n  53 |                         <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow\">","line":39,"column":21,"nodeType":null,"endLine":50,"endColumn":28},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:40:25\n  38 |                 <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n  39 |                     <Link href=\"/admin/users\" className=\"block\">\n> 40 |                         <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow\">\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 41 |                             <div className=\"flex items-center justify-between mb-4\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 42 |                                 <div className=\"p-3 bg-amber-50 text-amber-600 rounded-lg\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 43 |                                     <Clock size={24} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 44 |                                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 45 |                                 <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingUsers}</span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 46 |                             </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 47 |                             <h3 className=\"text-slate-500 font-medium\">Pending Approvals</h3>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 48 |                             <p className=\"text-xs text-amber-600 mt-1 font-medium\">Action Required</p>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 49 |                         </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  50 |                     </Link>\n  51 |\n  52 |                     <Link href=\"/admin/events\" className=\"block\">","line":40,"column":25,"nodeType":null,"endLine":49,"endColumn":31},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:41:29\n  39 |                     <Link href=\"/admin/users\" className=\"block\">\n  40 |                         <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow\">\n> 41 |                             <div className=\"flex items-center justify-between mb-4\">\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 42 |                                 <div className=\"p-3 bg-amber-50 text-amber-600 rounded-lg\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 43 |                                     <Clock size={24} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 44 |                                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 45 |                                 <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingUsers}</span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 46 |                             </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  47 |                             <h3 className=\"text-slate-500 font-medium\">Pending Approvals</h3>\n  48 |                             <p className=\"text-xs text-amber-600 mt-1 font-medium\">Action Required</p>\n  49 |                         </div>","line":41,"column":29,"nodeType":null,"endLine":46,"endColumn":35},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:42:33\n  40 |                         <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow\">\n  41 |                             <div className=\"flex items-center justify-between mb-4\">\n> 42 |                                 <div className=\"p-3 bg-amber-50 text-amber-600 rounded-lg\">\n     |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 43 |                                     <Clock size={24} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 44 |                                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  45 |                                 <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingUsers}</span>\n  46 |                             </div>\n  47 |                             <h3 className=\"text-slate-500 font-medium\">Pending Approvals</h3>","line":42,"column":33,"nodeType":null,"endLine":44,"endColumn":39},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:43:37\n  41 |                             <div className=\"flex items-center justify-between mb-4\">\n  42 |                                 <div className=\"p-3 bg-amber-50 text-amber-600 rounded-lg\">\n> 43 |                                     <Clock size={24} />\n     |                                     ^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  44 |                                 </div>\n  45 |                                 <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingUsers}</span>\n  46 |                             </div>","line":43,"column":37,"nodeType":null,"endLine":43,"endColumn":56},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:45:33\n  43 |                                     <Clock size={24} />\n  44 |                                 </div>\n> 45 |                                 <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingUsers}</span>\n     |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  46 |                             </div>\n  47 |                             <h3 className=\"text-slate-500 font-medium\">Pending Approvals</h3>\n  48 |                             <p className=\"text-xs text-amber-600 mt-1 font-medium\">Action Required</p>","line":45,"column":33,"nodeType":null,"endLine":45,"endColumn":112},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:47:29\n  45 |                                 <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingUsers}</span>\n  46 |                             </div>\n> 47 |                             <h3 className=\"text-slate-500 font-medium\">Pending Approvals</h3>\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  48 |                             <p className=\"text-xs text-amber-600 mt-1 font-medium\">Action Required</p>\n  49 |                         </div>\n  50 |                     </Link>","line":47,"column":29,"nodeType":null,"endLine":47,"endColumn":94},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:48:29\n  46 |                             </div>\n  47 |                             <h3 className=\"text-slate-500 font-medium\">Pending Approvals</h3>\n> 48 |                             <p className=\"text-xs text-amber-600 mt-1 font-medium\">Action Required</p>\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  49 |                         </div>\n  50 |                     </Link>\n  51 |","line":48,"column":29,"nodeType":null,"endLine":48,"endColumn":103},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:52:21\n  50 |                     </Link>\n  51 |\n> 52 |                     <Link href=\"/admin/events\" className=\"block\">\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 53 |                         <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 54 |                             <div className=\"flex items-center justify-between mb-4\">\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 62 |                         </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 63 |                     </Link>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  64 |\n  65 |                     <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200\">\n  66 |                         <div className=\"flex items-center justify-between mb-4\">","line":52,"column":21,"nodeType":null,"endLine":63,"endColumn":28},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:53:25\n  51 |\n  52 |                     <Link href=\"/admin/events\" className=\"block\">\n> 53 |                         <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow\">\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 54 |                             <div className=\"flex items-center justify-between mb-4\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 55 |                                 <div className=\"p-3 bg-blue-50 text-blue-600 rounded-lg\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 56 |                                     <Calendar size={24} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 57 |                                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 58 |                                 <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingEvents}</span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 59 |                             </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 60 |                             <h3 className=\"text-slate-500 font-medium\">Pending Events</h3>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 61 |                             <p className=\"text-xs text-blue-600 mt-1 font-medium\">Needs Review</p>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 62 |                         </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  63 |                     </Link>\n  64 |\n  65 |                     <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200\">","line":53,"column":25,"nodeType":null,"endLine":62,"endColumn":31},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:54:29\n  52 |                     <Link href=\"/admin/events\" className=\"block\">\n  53 |                         <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow\">\n> 54 |                             <div className=\"flex items-center justify-between mb-4\">\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 55 |                                 <div className=\"p-3 bg-blue-50 text-blue-600 rounded-lg\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 56 |                                     <Calendar size={24} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 57 |                                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 58 |                                 <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingEvents}</span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 59 |                             </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  60 |                             <h3 className=\"text-slate-500 font-medium\">Pending Events</h3>\n  61 |                             <p className=\"text-xs text-blue-600 mt-1 font-medium\">Needs Review</p>\n  62 |                         </div>","line":54,"column":29,"nodeType":null,"endLine":59,"endColumn":35},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:55:33\n  53 |                         <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow\">\n  54 |                             <div className=\"flex items-center justify-between mb-4\">\n> 55 |                                 <div className=\"p-3 bg-blue-50 text-blue-600 rounded-lg\">\n     |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 56 |                                     <Calendar size={24} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 57 |                                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  58 |                                 <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingEvents}</span>\n  59 |                             </div>\n  60 |                             <h3 className=\"text-slate-500 font-medium\">Pending Events</h3>","line":55,"column":33,"nodeType":null,"endLine":57,"endColumn":39},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:56:37\n  54 |                             <div className=\"flex items-center justify-between mb-4\">\n  55 |                                 <div className=\"p-3 bg-blue-50 text-blue-600 rounded-lg\">\n> 56 |                                     <Calendar size={24} />\n     |                                     ^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  57 |                                 </div>\n  58 |                                 <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingEvents}</span>\n  59 |                             </div>","line":56,"column":37,"nodeType":null,"endLine":56,"endColumn":59},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:58:33\n  56 |                                     <Calendar size={24} />\n  57 |                                 </div>\n> 58 |                                 <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingEvents}</span>\n     |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  59 |                             </div>\n  60 |                             <h3 className=\"text-slate-500 font-medium\">Pending Events</h3>\n  61 |                             <p className=\"text-xs text-blue-600 mt-1 font-medium\">Needs Review</p>","line":58,"column":33,"nodeType":null,"endLine":58,"endColumn":113},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:60:29\n  58 |                                 <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingEvents}</span>\n  59 |                             </div>\n> 60 |                             <h3 className=\"text-slate-500 font-medium\">Pending Events</h3>\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  61 |                             <p className=\"text-xs text-blue-600 mt-1 font-medium\">Needs Review</p>\n  62 |                         </div>\n  63 |                     </Link>","line":60,"column":29,"nodeType":null,"endLine":60,"endColumn":91},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:61:29\n  59 |                             </div>\n  60 |                             <h3 className=\"text-slate-500 font-medium\">Pending Events</h3>\n> 61 |                             <p className=\"text-xs text-blue-600 mt-1 font-medium\">Needs Review</p>\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  62 |                         </div>\n  63 |                     </Link>\n  64 |","line":61,"column":29,"nodeType":null,"endLine":61,"endColumn":99},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:65:21\n  63 |                     </Link>\n  64 |\n> 65 |                     <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200\">\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 66 |                         <div className=\"flex items-center justify-between mb-4\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 67 |                             <div className=\"p-3 bg-indigo-50 text-indigo-600 rounded-lg\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 68 |                                 <Users size={24} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 69 |                             </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 70 |                             <span className=\"text-2xl font-bold text-slate-900\">{stats.totalUsers}</span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 71 |                         </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 72 |                         <h3 className=\"text-slate-500 font-medium\">Total Users</h3>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 73 |                         <p className=\"text-xs text-slate-400 mt-1\">Active Platform Usage</p>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 74 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  75 |\n  76 |                     <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200\">\n  77 |                         <div className=\"flex items-center justify-between mb-4\">","line":65,"column":21,"nodeType":null,"endLine":74,"endColumn":27},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:66:25\n  64 |\n  65 |                     <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200\">\n> 66 |                         <div className=\"flex items-center justify-between mb-4\">\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 67 |                             <div className=\"p-3 bg-indigo-50 text-indigo-600 rounded-lg\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 68 |                                 <Users size={24} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 69 |                             </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 70 |                             <span className=\"text-2xl font-bold text-slate-900\">{stats.totalUsers}</span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 71 |                         </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  72 |                         <h3 className=\"text-slate-500 font-medium\">Total Users</h3>\n  73 |                         <p className=\"text-xs text-slate-400 mt-1\">Active Platform Usage</p>\n  74 |                     </div>","line":66,"column":25,"nodeType":null,"endLine":71,"endColumn":31},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:67:29\n  65 |                     <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200\">\n  66 |                         <div className=\"flex items-center justify-between mb-4\">\n> 67 |                             <div className=\"p-3 bg-indigo-50 text-indigo-600 rounded-lg\">\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 68 |                                 <Users size={24} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 69 |                             </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  70 |                             <span className=\"text-2xl font-bold text-slate-900\">{stats.totalUsers}</span>\n  71 |                         </div>\n  72 |                         <h3 className=\"text-slate-500 font-medium\">Total Users</h3>","line":67,"column":29,"nodeType":null,"endLine":69,"endColumn":35},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:68:33\n  66 |                         <div className=\"flex items-center justify-between mb-4\">\n  67 |                             <div className=\"p-3 bg-indigo-50 text-indigo-600 rounded-lg\">\n> 68 |                                 <Users size={24} />\n     |                                 ^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  69 |                             </div>\n  70 |                             <span className=\"text-2xl font-bold text-slate-900\">{stats.totalUsers}</span>\n  71 |                         </div>","line":68,"column":33,"nodeType":null,"endLine":68,"endColumn":52},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:70:29\n  68 |                                 <Users size={24} />\n  69 |                             </div>\n> 70 |                             <span className=\"text-2xl font-bold text-slate-900\">{stats.totalUsers}</span>\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  71 |                         </div>\n  72 |                         <h3 className=\"text-slate-500 font-medium\">Total Users</h3>\n  73 |                         <p className=\"text-xs text-slate-400 mt-1\">Active Platform Usage</p>","line":70,"column":29,"nodeType":null,"endLine":70,"endColumn":106},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:72:25\n  70 |                             <span className=\"text-2xl font-bold text-slate-900\">{stats.totalUsers}</span>\n  71 |                         </div>\n> 72 |                         <h3 className=\"text-slate-500 font-medium\">Total Users</h3>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  73 |                         <p className=\"text-xs text-slate-400 mt-1\">Active Platform Usage</p>\n  74 |                     </div>\n  75 |","line":72,"column":25,"nodeType":null,"endLine":72,"endColumn":84},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:73:25\n  71 |                         </div>\n  72 |                         <h3 className=\"text-slate-500 font-medium\">Total Users</h3>\n> 73 |                         <p className=\"text-xs text-slate-400 mt-1\">Active Platform Usage</p>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  74 |                     </div>\n  75 |\n  76 |                     <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200\">","line":73,"column":25,"nodeType":null,"endLine":73,"endColumn":93},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:76:21\n  74 |                     </div>\n  75 |\n> 76 |                     <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200\">\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 77 |                         <div className=\"flex items-center justify-between mb-4\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 78 |                             <div className=\"p-3 bg-emerald-50 text-emerald-600 rounded-lg\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 79 |                                 <Activity size={24} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 80 |                             </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 81 |                             <span className=\"text-2xl font-bold text-slate-900\">{stats.totalEvents}</span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 82 |                         </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 83 |                         <h3 className=\"text-slate-500 font-medium\">Total Events</h3>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 84 |                         <p className=\"text-xs text-slate-400 mt-1\">Outreach History</p>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 85 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  86 |                 </div>\n  87 |\n  88 |                 <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">","line":76,"column":21,"nodeType":null,"endLine":85,"endColumn":27},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:77:25\n  75 |\n  76 |                     <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200\">\n> 77 |                         <div className=\"flex items-center justify-between mb-4\">\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 78 |                             <div className=\"p-3 bg-emerald-50 text-emerald-600 rounded-lg\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 79 |                                 <Activity size={24} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 80 |                             </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 81 |                             <span className=\"text-2xl font-bold text-slate-900\">{stats.totalEvents}</span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 82 |                         </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  83 |                         <h3 className=\"text-slate-500 font-medium\">Total Events</h3>\n  84 |                         <p className=\"text-xs text-slate-400 mt-1\">Outreach History</p>\n  85 |                     </div>","line":77,"column":25,"nodeType":null,"endLine":82,"endColumn":31},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:78:29\n  76 |                     <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200\">\n  77 |                         <div className=\"flex items-center justify-between mb-4\">\n> 78 |                             <div className=\"p-3 bg-emerald-50 text-emerald-600 rounded-lg\">\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 79 |                                 <Activity size={24} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 80 |                             </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  81 |                             <span className=\"text-2xl font-bold text-slate-900\">{stats.totalEvents}</span>\n  82 |                         </div>\n  83 |                         <h3 className=\"text-slate-500 font-medium\">Total Events</h3>","line":78,"column":29,"nodeType":null,"endLine":80,"endColumn":35},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:79:33\n  77 |                         <div className=\"flex items-center justify-between mb-4\">\n  78 |                             <div className=\"p-3 bg-emerald-50 text-emerald-600 rounded-lg\">\n> 79 |                                 <Activity size={24} />\n     |                                 ^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  80 |                             </div>\n  81 |                             <span className=\"text-2xl font-bold text-slate-900\">{stats.totalEvents}</span>\n  82 |                         </div>","line":79,"column":33,"nodeType":null,"endLine":79,"endColumn":55},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:81:29\n  79 |                                 <Activity size={24} />\n  80 |                             </div>\n> 81 |                             <span className=\"text-2xl font-bold text-slate-900\">{stats.totalEvents}</span>\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  82 |                         </div>\n  83 |                         <h3 className=\"text-slate-500 font-medium\">Total Events</h3>\n  84 |                         <p className=\"text-xs text-slate-400 mt-1\">Outreach History</p>","line":81,"column":29,"nodeType":null,"endLine":81,"endColumn":107},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:83:25\n  81 |                             <span className=\"text-2xl font-bold text-slate-900\">{stats.totalEvents}</span>\n  82 |                         </div>\n> 83 |                         <h3 className=\"text-slate-500 font-medium\">Total Events</h3>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  84 |                         <p className=\"text-xs text-slate-400 mt-1\">Outreach History</p>\n  85 |                     </div>\n  86 |                 </div>","line":83,"column":25,"nodeType":null,"endLine":83,"endColumn":85},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:84:25\n  82 |                         </div>\n  83 |                         <h3 className=\"text-slate-500 font-medium\">Total Events</h3>\n> 84 |                         <p className=\"text-xs text-slate-400 mt-1\">Outreach History</p>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  85 |                     </div>\n  86 |                 </div>\n  87 |","line":84,"column":25,"nodeType":null,"endLine":84,"endColumn":88},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:88:17\n  86 |                 </div>\n  87 |\n> 88 |                 <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 89 |                     <AuditLogFeed />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 90 |\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 91 |                     {/* Invitation Code Manager */}\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 92 |                     <InvitationCodeManager />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 93 |                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  94 |\n  95 |             </div>\n  96 |         );","line":88,"column":17,"nodeType":null,"endLine":93,"endColumn":23},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:89:21\n  87 |\n  88 |                 <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n> 89 |                     <AuditLogFeed />\n     |                     ^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  90 |\n  91 |                     {/* Invitation Code Manager */}\n  92 |                     <InvitationCodeManager />","line":89,"column":21,"nodeType":null,"endLine":89,"endColumn":37},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\page.tsx:92:21\n  90 |\n  91 |                     {/* Invitation Code Manager */}\n> 92 |                     <InvitationCodeManager />\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  93 |                 </div>\n  94 |\n  95 |             </div>","line":92,"column":21,"nodeType":null,"endLine":92,"endColumn":46},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":106,"column":123,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[5671,5850],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&apos;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[5671,5850],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&lsquo;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[5671,5850],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&#39;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[5671,5850],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&rsquo;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":42,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import dbConnect from \"@/lib/db\";\r\nimport User from \"@/models/User\";\r\nimport Event from \"@/models/Event\";\r\nimport { Users, Clock, Calendar, Activity, X } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport ExportDataButton from \"./ExportDataButton\";\r\nimport AuditLogFeed from \"./AuditLogFeed\";\r\nimport InvitationCodeManager from \"./InvitationCodeManager\";\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nasync function getStats() {\r\n    await dbConnect();\r\n    const pendingUsers = await User.countDocuments({ accountStatus: 'pending' });\r\n    const totalUsers = await User.countDocuments({});\r\n    const pendingEvents = await Event.countDocuments({ status: 'pending' });\r\n    const totalEvents = await Event.countDocuments({});\r\n\r\n    return { pendingUsers, totalUsers, pendingEvents, totalEvents };\r\n}\r\n\r\nexport default async function AdminDashboardPage() {\r\n    try {\r\n        const stats = await getStats();\r\n\r\n        return (\r\n            <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500\">\r\n                <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n                    <div>\r\n                        <h1 className=\"text-3xl font-bold text-slate-800\">Dashboard</h1>\r\n                        <p className=\"text-slate-500 mt-1\">Overview of system status and pending actions.</p>\r\n                    </div>\r\n                    <div className=\"flex-shrink-0\">\r\n                        <ExportDataButton />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                    <Link href=\"/admin/users\" className=\"block\">\r\n                        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow\">\r\n                            <div className=\"flex items-center justify-between mb-4\">\r\n                                <div className=\"p-3 bg-amber-50 text-amber-600 rounded-lg\">\r\n                                    <Clock size={24} />\r\n                                </div>\r\n                                <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingUsers}</span>\r\n                            </div>\r\n                            <h3 className=\"text-slate-500 font-medium\">Pending Approvals</h3>\r\n                            <p className=\"text-xs text-amber-600 mt-1 font-medium\">Action Required</p>\r\n                        </div>\r\n                    </Link>\r\n\r\n                    <Link href=\"/admin/events\" className=\"block\">\r\n                        <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow\">\r\n                            <div className=\"flex items-center justify-between mb-4\">\r\n                                <div className=\"p-3 bg-blue-50 text-blue-600 rounded-lg\">\r\n                                    <Calendar size={24} />\r\n                                </div>\r\n                                <span className=\"text-2xl font-bold text-slate-900\">{stats.pendingEvents}</span>\r\n                            </div>\r\n                            <h3 className=\"text-slate-500 font-medium\">Pending Events</h3>\r\n                            <p className=\"text-xs text-blue-600 mt-1 font-medium\">Needs Review</p>\r\n                        </div>\r\n                    </Link>\r\n\r\n                    <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200\">\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                            <div className=\"p-3 bg-indigo-50 text-indigo-600 rounded-lg\">\r\n                                <Users size={24} />\r\n                            </div>\r\n                            <span className=\"text-2xl font-bold text-slate-900\">{stats.totalUsers}</span>\r\n                        </div>\r\n                        <h3 className=\"text-slate-500 font-medium\">Total Users</h3>\r\n                        <p className=\"text-xs text-slate-400 mt-1\">Active Platform Usage</p>\r\n                    </div>\r\n\r\n                    <div className=\"bg-white p-6 rounded-xl shadow-sm border border-slate-200\">\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                            <div className=\"p-3 bg-emerald-50 text-emerald-600 rounded-lg\">\r\n                                <Activity size={24} />\r\n                            </div>\r\n                            <span className=\"text-2xl font-bold text-slate-900\">{stats.totalEvents}</span>\r\n                        </div>\r\n                        <h3 className=\"text-slate-500 font-medium\">Total Events</h3>\r\n                        <p className=\"text-xs text-slate-400 mt-1\">Outreach History</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n                    <AuditLogFeed />\r\n\r\n                    {/* Invitation Code Manager */}\r\n                    <InvitationCodeManager />\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    } catch (error) {\r\n        console.error(\"Database connection failed:\", error);\r\n        return (\r\n            <div className=\"p-12 text-center text-slate-500 bg-white rounded-xl border border-red-100 shadow-sm mt-8\">\r\n                <div className=\"w-16 h-16 bg-red-50 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                    <X size={32} />\r\n                </div>\r\n                <h2 className=\"text-xl font-bold text-slate-800 mb-2\">Connection Error</h2>\r\n                <p className=\"max-w-md mx-auto mb-4\">\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn't been whitelisted in MongoDB Atlas.\r\n                </p>\r\n                <div className=\"text-xs bg-slate-100 p-4 rounded text-left max-w-lg mx-auto overflow-auto font-mono text-slate-600\">\r\n                    {(error as Error).message || \"Unknown error\"}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\UserStatusToggle.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ShieldAlert' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":21,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"ShieldAlert"},"fix":{"range":[100,143],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { toggleUserStatus } from '../actions';\r\nimport { ShieldAlert } from 'lucide-react';\r\nimport { Spinner } from '@/components/ui/Spinner';\r\n\r\ninterface UserStatusToggleProps {\r\n    userId: string;\r\n    currentStatus: string;\r\n    currentUserRole: string; // To prevent admins from locking themselves out if we add that check later\r\n}\r\n\r\nexport default function UserStatusToggle({ userId, currentStatus }: UserStatusToggleProps) {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [status, setStatus] = useState(currentStatus);\r\n\r\n    const handleStatusChange = async (newStatus: string) => {\r\n        if (newStatus === status) return;\r\n\r\n        setIsLoading(true);\r\n        setStatus(newStatus); // Optimistic update\r\n\r\n        const result = await toggleUserStatus(userId, newStatus);\r\n\r\n        if (!result.success) {\r\n            // Revert on failure\r\n            setStatus(currentStatus);\r\n            alert(result.message);\r\n        }\r\n        setIsLoading(false);\r\n    };\r\n\r\n    const getStatusColor = (s: string) => {\r\n        switch (s) {\r\n            case 'active': return 'bg-green-50 text-green-700 border-green-200';\r\n            case 'suspended': return 'bg-amber-50 text-amber-700 border-amber-200';\r\n            case 'rejected': return 'bg-red-50 text-red-700 border-red-200';\r\n            case 'pending': return 'bg-blue-50 text-blue-700 border-blue-200';\r\n            default: return 'bg-slate-50 text-slate-700 border-slate-200';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative inline-block\">\r\n            {isLoading && (\r\n                <div className=\"absolute right-2 top-1/2 -translate-y-1/2\">\r\n                    <Spinner size={12} className=\"text-slate-400\" />\r\n                </div>\r\n            )}\r\n            <select\r\n                value={status}\r\n                onChange={(e) => handleStatusChange(e.target.value)}\r\n                disabled={isLoading}\r\n                className={`\r\n                    appearance-none pl-3 pr-8 py-1 rounded-full text-xs font-bold border cursor-pointer focus:outline-none focus:ring-2 focus:ring-brand-gold/20 transition-all\r\n                    ${getStatusColor(status)}\r\n                `}\r\n            >\r\n                <option value=\"active\">Active</option>\r\n                <option value=\"suspended\">Suspended</option>\r\n                <option value=\"rejected\">Rejected</option>\r\n                <option value=\"pending\">Pending</option>\r\n            </select>\r\n            <div className=\"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none opacity-50\">\r\n                <svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M4 6L0.535898 0L7.4641 0L4 6Z\" fill=\"currentColor\" />\r\n                </svg>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx","messages":[{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:19:13\n   17 |\n   18 |         return (\n>  19 |             <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n      |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  20 |                 <div className=\"flex items-center justify-between\">\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  21 |                     <div>\n      â€¦\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 147 |                 </div>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 148 |             </div>\n      | ^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  149 |         );\n  150 |     } catch (error) {\n  151 |         console.error(\"Database connection failed:\", error);","line":19,"column":13,"nodeType":null,"endLine":148,"endColumn":19},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:20:17\n  18 |         return (\n  19 |             <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n> 20 |                 <div className=\"flex items-center justify-between\">\n     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 21 |                     <div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 22 |                         <h2 className=\"text-3xl font-serif font-bold text-brand-dark\">User Management</h2>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 23 |                         <p className=\"text-slate-500 mt-1\">Manage access and permissions for the outreach system.</p>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 24 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 25 |                     <span className=\"px-3 py-1 bg-brand-dark text-brand-gold rounded-full text-xs font-bold uppercase tracking-wider\">System Administration</span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 26 |                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  27 |\n  28 |                 {/* Pending Approvals */}\n  29 |                 <div className=\"space-y-4\">","line":20,"column":17,"nodeType":null,"endLine":26,"endColumn":23},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:21:21\n  19 |             <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n  20 |                 <div className=\"flex items-center justify-between\">\n> 21 |                     <div>\n     |                     ^^^^^\n> 22 |                         <h2 className=\"text-3xl font-serif font-bold text-brand-dark\">User Management</h2>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 23 |                         <p className=\"text-slate-500 mt-1\">Manage access and permissions for the outreach system.</p>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 24 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  25 |                     <span className=\"px-3 py-1 bg-brand-dark text-brand-gold rounded-full text-xs font-bold uppercase tracking-wider\">System Administration</span>\n  26 |                 </div>\n  27 |","line":21,"column":21,"nodeType":null,"endLine":24,"endColumn":27},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:22:25\n  20 |                 <div className=\"flex items-center justify-between\">\n  21 |                     <div>\n> 22 |                         <h2 className=\"text-3xl font-serif font-bold text-brand-dark\">User Management</h2>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  23 |                         <p className=\"text-slate-500 mt-1\">Manage access and permissions for the outreach system.</p>\n  24 |                     </div>\n  25 |                     <span className=\"px-3 py-1 bg-brand-dark text-brand-gold rounded-full text-xs font-bold uppercase tracking-wider\">System Administration</span>","line":22,"column":25,"nodeType":null,"endLine":22,"endColumn":107},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:23:25\n  21 |                     <div>\n  22 |                         <h2 className=\"text-3xl font-serif font-bold text-brand-dark\">User Management</h2>\n> 23 |                         <p className=\"text-slate-500 mt-1\">Manage access and permissions for the outreach system.</p>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  24 |                     </div>\n  25 |                     <span className=\"px-3 py-1 bg-brand-dark text-brand-gold rounded-full text-xs font-bold uppercase tracking-wider\">System Administration</span>\n  26 |                 </div>","line":23,"column":25,"nodeType":null,"endLine":23,"endColumn":118},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:25:21\n  23 |                         <p className=\"text-slate-500 mt-1\">Manage access and permissions for the outreach system.</p>\n  24 |                     </div>\n> 25 |                     <span className=\"px-3 py-1 bg-brand-dark text-brand-gold rounded-full text-xs font-bold uppercase tracking-wider\">System Administration</span>\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  26 |                 </div>\n  27 |\n  28 |                 {/* Pending Approvals */}","line":25,"column":21,"nodeType":null,"endLine":25,"endColumn":163},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:29:17\n  27 |\n  28 |                 {/* Pending Approvals */}\n> 29 |                 <div className=\"space-y-4\">\n     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 30 |                     <h3 className=\"text-xl font-serif font-bold text-brand-dark flex items-center gap-2\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 31 |                         <span className=\"w-2.5 h-2.5 rounded-full bg-amber-500 animate-pulse\"></span>\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 87 |                     )}\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 88 |                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  89 |\n  90 |                 {/* User Directory */}\n  91 |                 <div className=\"space-y-4\">","line":29,"column":17,"nodeType":null,"endLine":88,"endColumn":23},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:30:21\n  28 |                 {/* Pending Approvals */}\n  29 |                 <div className=\"space-y-4\">\n> 30 |                     <h3 className=\"text-xl font-serif font-bold text-brand-dark flex items-center gap-2\">\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 31 |                         <span className=\"w-2.5 h-2.5 rounded-full bg-amber-500 animate-pulse\"></span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 32 |                         Pending Requests\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 33 |                         <span className=\"ml-2 px-2.5 py-0.5 bg-amber-100 text-amber-800 text-xs rounded-full font-bold\">{pendingUsers.length}</span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 34 |                     </h3>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  35 |\n  36 |                     {pendingUsers.length === 0 ? (\n  37 |                         <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] p-8 text-center border border-slate-100\">","line":30,"column":21,"nodeType":null,"endLine":34,"endColumn":26},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:31:25\n  29 |                 <div className=\"space-y-4\">\n  30 |                     <h3 className=\"text-xl font-serif font-bold text-brand-dark flex items-center gap-2\">\n> 31 |                         <span className=\"w-2.5 h-2.5 rounded-full bg-amber-500 animate-pulse\"></span>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  32 |                         Pending Requests\n  33 |                         <span className=\"ml-2 px-2.5 py-0.5 bg-amber-100 text-amber-800 text-xs rounded-full font-bold\">{pendingUsers.length}</span>\n  34 |                     </h3>","line":31,"column":25,"nodeType":null,"endLine":31,"endColumn":102},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:33:25\n  31 |                         <span className=\"w-2.5 h-2.5 rounded-full bg-amber-500 animate-pulse\"></span>\n  32 |                         Pending Requests\n> 33 |                         <span className=\"ml-2 px-2.5 py-0.5 bg-amber-100 text-amber-800 text-xs rounded-full font-bold\">{pendingUsers.length}</span>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  34 |                     </h3>\n  35 |\n  36 |                     {pendingUsers.length === 0 ? (","line":33,"column":25,"nodeType":null,"endLine":33,"endColumn":149},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:37:25\n  35 |\n  36 |                     {pendingUsers.length === 0 ? (\n> 37 |                         <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] p-8 text-center border border-slate-100\">\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 38 |                             <p className=\"text-slate-400 font-medium\">No pending registration requests.</p>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 39 |                         </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  40 |                     ) : (\n  41 |                         <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden border border-slate-100\">\n  42 |                             <div className=\"overflow-x-auto\">","line":37,"column":25,"nodeType":null,"endLine":39,"endColumn":31},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:38:29\n  36 |                     {pendingUsers.length === 0 ? (\n  37 |                         <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] p-8 text-center border border-slate-100\">\n> 38 |                             <p className=\"text-slate-400 font-medium\">No pending registration requests.</p>\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  39 |                         </div>\n  40 |                     ) : (\n  41 |                         <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden border border-slate-100\">","line":38,"column":29,"nodeType":null,"endLine":38,"endColumn":108},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:41:25\n  39 |                         </div>\n  40 |                     ) : (\n> 41 |                         <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden border border-slate-100\">\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 42 |                             <div className=\"overflow-x-auto\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 43 |                                 <table className=\"w-full text-left text-sm\">\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 85 |                             </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 86 |                         </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  87 |                     )}\n  88 |                 </div>\n  89 |","line":41,"column":25,"nodeType":null,"endLine":86,"endColumn":31},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:42:29\n  40 |                     ) : (\n  41 |                         <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden border border-slate-100\">\n> 42 |                             <div className=\"overflow-x-auto\">\n     |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 43 |                                 <table className=\"w-full text-left text-sm\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 44 |                                     <thead className=\"bg-amber-50/50 text-amber-900/80 border-b border-amber-100\">\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 84 |                                 </table>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 85 |                             </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  86 |                         </div>\n  87 |                     )}\n  88 |                 </div>","line":42,"column":29,"nodeType":null,"endLine":85,"endColumn":35},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:43:33\n  41 |                         <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden border border-slate-100\">\n  42 |                             <div className=\"overflow-x-auto\">\n> 43 |                                 <table className=\"w-full text-left text-sm\">\n     |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 44 |                                     <thead className=\"bg-amber-50/50 text-amber-900/80 border-b border-amber-100\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 45 |                                         <tr>\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 83 |                                     </tbody>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 84 |                                 </table>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  85 |                             </div>\n  86 |                         </div>\n  87 |                     )}","line":43,"column":33,"nodeType":null,"endLine":84,"endColumn":41},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:44:37\n  42 |                             <div className=\"overflow-x-auto\">\n  43 |                                 <table className=\"w-full text-left text-sm\">\n> 44 |                                     <thead className=\"bg-amber-50/50 text-amber-900/80 border-b border-amber-100\">\n     |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 45 |                                         <tr>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 46 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Name</th>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 47 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 48 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Registered</th>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 49 |                                             <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 50 |                                         </tr>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 51 |                                     </thead>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  52 |                                     <tbody className=\"divide-y divide-slate-100\">\n  53 |                                         {pendingUsers.map((user) => (\n  54 |                                             <tr key={user._id.toString()} className=\"hover:bg-amber-50/30 transition-colors\">","line":44,"column":37,"nodeType":null,"endLine":51,"endColumn":45},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:45:41\n  43 |                                 <table className=\"w-full text-left text-sm\">\n  44 |                                     <thead className=\"bg-amber-50/50 text-amber-900/80 border-b border-amber-100\">\n> 45 |                                         <tr>\n     |                                         ^^^^\n> 46 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Name</th>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 47 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 48 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Registered</th>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 49 |                                             <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 50 |                                         </tr>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  51 |                                     </thead>\n  52 |                                     <tbody className=\"divide-y divide-slate-100\">\n  53 |                                         {pendingUsers.map((user) => (","line":45,"column":41,"nodeType":null,"endLine":50,"endColumn":46},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:46:45\n  44 |                                     <thead className=\"bg-amber-50/50 text-amber-900/80 border-b border-amber-100\">\n  45 |                                         <tr>\n> 46 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Name</th>\n     |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  47 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\n  48 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Registered</th>\n  49 |                                             <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>","line":46,"column":45,"nodeType":null,"endLine":46,"endColumn":101},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:47:45\n  45 |                                         <tr>\n  46 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Name</th>\n> 47 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\n     |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  48 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Registered</th>\n  49 |                                             <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>\n  50 |                                         </tr>","line":47,"column":45,"nodeType":null,"endLine":47,"endColumn":102},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:48:45\n  46 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Name</th>\n  47 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\n> 48 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Registered</th>\n     |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  49 |                                             <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>\n  50 |                                         </tr>\n  51 |                                     </thead>","line":48,"column":45,"nodeType":null,"endLine":48,"endColumn":107},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:49:45\n  47 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\n  48 |                                             <th className=\"px-6 py-4 font-bold font-serif\">Registered</th>\n> 49 |                                             <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>\n     |                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  50 |                                         </tr>\n  51 |                                     </thead>\n  52 |                                     <tbody className=\"divide-y divide-slate-100\">","line":49,"column":45,"nodeType":null,"endLine":49,"endColumn":115},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:52:37\n  50 |                                         </tr>\n  51 |                                     </thead>\n> 52 |                                     <tbody className=\"divide-y divide-slate-100\">\n     |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 53 |                                         {pendingUsers.map((user) => (\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 54 |                                             <tr key={user._id.toString()} className=\"hover:bg-amber-50/30 transition-colors\">\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 82 |                                         ))}\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 83 |                                     </tbody>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  84 |                                 </table>\n  85 |                             </div>\n  86 |                         </div>","line":52,"column":37,"nodeType":null,"endLine":83,"endColumn":45},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:91:17\n   89 |\n   90 |                 {/* User Directory */}\n>  91 |                 <div className=\"space-y-4\">\n      |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  92 |                     <h3 className=\"text-xl font-serif font-bold text-brand-dark flex items-center gap-2\">\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  93 |                         <UsersIcon size={20} className=\"text-brand-gold\" />\n      â€¦\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 146 |                     </div>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 147 |                 </div>\n      | ^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  148 |             </div>\n  149 |         );\n  150 |     } catch (error) {","line":91,"column":17,"nodeType":null,"endLine":147,"endColumn":23},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:92:21\n  90 |                 {/* User Directory */}\n  91 |                 <div className=\"space-y-4\">\n> 92 |                     <h3 className=\"text-xl font-serif font-bold text-brand-dark flex items-center gap-2\">\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 93 |                         <UsersIcon size={20} className=\"text-brand-gold\" />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 94 |                         Directory\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 95 |                     </h3>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  96 |                     <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden border border-slate-100\">\n  97 |                         <div className=\"overflow-x-auto\">\n  98 |                             <table className=\"w-full text-left text-sm\">","line":92,"column":21,"nodeType":null,"endLine":95,"endColumn":26},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:93:25\n  91 |                 <div className=\"space-y-4\">\n  92 |                     <h3 className=\"text-xl font-serif font-bold text-brand-dark flex items-center gap-2\">\n> 93 |                         <UsersIcon size={20} className=\"text-brand-gold\" />\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  94 |                         Directory\n  95 |                     </h3>\n  96 |                     <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden border border-slate-100\">","line":93,"column":25,"nodeType":null,"endLine":93,"endColumn":76},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:96:21\n   94 |                         Directory\n   95 |                     </h3>\n>  96 |                     <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden border border-slate-100\">\n      |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  97 |                         <div className=\"overflow-x-auto\">\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  98 |                             <table className=\"w-full text-left text-sm\">\n      â€¦\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 145 |                         </div>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 146 |                     </div>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  147 |                 </div>\n  148 |             </div>\n  149 |         );","line":96,"column":21,"nodeType":null,"endLine":146,"endColumn":27},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:97:25\n   95 |                     </h3>\n   96 |                     <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden border border-slate-100\">\n>  97 |                         <div className=\"overflow-x-auto\">\n      |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  98 |                             <table className=\"w-full text-left text-sm\">\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  99 |                                 <thead className=\"bg-slate-50 text-slate-500 border-b border-slate-100\">\n      â€¦\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 144 |                             </table>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 145 |                         </div>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  146 |                     </div>\n  147 |                 </div>\n  148 |             </div>","line":97,"column":25,"nodeType":null,"endLine":145,"endColumn":31},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:98:29\n   96 |                     <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden border border-slate-100\">\n   97 |                         <div className=\"overflow-x-auto\">\n>  98 |                             <table className=\"w-full text-left text-sm\">\n      |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  99 |                                 <thead className=\"bg-slate-50 text-slate-500 border-b border-slate-100\">\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 100 |                                     <tr>\n      â€¦\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 143 |                                 </tbody>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 144 |                             </table>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  145 |                         </div>\n  146 |                     </div>\n  147 |                 </div>","line":98,"column":29,"nodeType":null,"endLine":144,"endColumn":37},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:99:33\n   97 |                         <div className=\"overflow-x-auto\">\n   98 |                             <table className=\"w-full text-left text-sm\">\n>  99 |                                 <thead className=\"bg-slate-50 text-slate-500 border-b border-slate-100\">\n      |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 100 |                                     <tr>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 101 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Name</th>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 102 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 103 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Role</th>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 104 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Status</th>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 105 |                                         <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 106 |                                     </tr>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 107 |                                 </thead>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  108 |                                 <tbody className=\"divide-y divide-slate-100\">\n  109 |                                     {activeUsers.map((user) => (\n  110 |                                         <tr key={user._id.toString()} className=\"hover:bg-slate-50/50 transition-colors\">","line":99,"column":33,"nodeType":null,"endLine":107,"endColumn":41},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:100:37\n   98 |                             <table className=\"w-full text-left text-sm\">\n   99 |                                 <thead className=\"bg-slate-50 text-slate-500 border-b border-slate-100\">\n> 100 |                                     <tr>\n      |                                     ^^^^\n> 101 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Name</th>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 102 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 103 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Role</th>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 104 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Status</th>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 105 |                                         <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 106 |                                     </tr>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  107 |                                 </thead>\n  108 |                                 <tbody className=\"divide-y divide-slate-100\">\n  109 |                                     {activeUsers.map((user) => (","line":100,"column":37,"nodeType":null,"endLine":106,"endColumn":42},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:101:41\n   99 |                                 <thead className=\"bg-slate-50 text-slate-500 border-b border-slate-100\">\n  100 |                                     <tr>\n> 101 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Name</th>\n      |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  102 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\n  103 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Role</th>\n  104 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Status</th>","line":101,"column":41,"nodeType":null,"endLine":101,"endColumn":97},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:102:41\n  100 |                                     <tr>\n  101 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Name</th>\n> 102 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\n      |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  103 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Role</th>\n  104 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Status</th>\n  105 |                                         <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>","line":102,"column":41,"nodeType":null,"endLine":102,"endColumn":98},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:103:41\n  101 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Name</th>\n  102 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\n> 103 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Role</th>\n      |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  104 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Status</th>\n  105 |                                         <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>\n  106 |                                     </tr>","line":103,"column":41,"nodeType":null,"endLine":103,"endColumn":97},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:104:41\n  102 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\n  103 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Role</th>\n> 104 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Status</th>\n      |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  105 |                                         <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>\n  106 |                                     </tr>\n  107 |                                 </thead>","line":104,"column":41,"nodeType":null,"endLine":104,"endColumn":99},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:105:41\n  103 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Role</th>\n  104 |                                         <th className=\"px-6 py-4 font-bold font-serif\">Status</th>\n> 105 |                                         <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>\n      |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  106 |                                     </tr>\n  107 |                                 </thead>\n  108 |                                 <tbody className=\"divide-y divide-slate-100\">","line":105,"column":41,"nodeType":null,"endLine":105,"endColumn":111},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\admin\\users\\page.tsx:108:33\n  106 |                                     </tr>\n  107 |                                 </thead>\n> 108 |                                 <tbody className=\"divide-y divide-slate-100\">\n      |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 109 |                                     {activeUsers.map((user) => (\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 110 |                                         <tr key={user._id.toString()} className=\"hover:bg-slate-50/50 transition-colors\">\n      â€¦\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 142 |                                     ))}\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 143 |                                 </tbody>\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  144 |                             </table>\n  145 |                         </div>\n  146 |                     </div>","line":108,"column":33,"nodeType":null,"endLine":143,"endColumn":41},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":159,"column":123,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[11275,11454],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&apos;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[11275,11454],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&lsquo;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[11275,11454],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&#39;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[11275,11454],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&rsquo;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":37,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import dbConnect from \"@/lib/db\";\r\nimport User from \"@/models/User\";\r\nimport { approveUser, rejectUser, deleteUser } from \"../actions\";\r\nimport { Check, X, Shield, Users as UsersIcon, Trash2 } from \"lucide-react\";\r\nimport UserStatusToggle from \"./UserStatusToggle\";\r\nimport { SubmitButton } from \"@/components/ui/SubmitButton\";\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport default async function UsersPage() {\r\n    try {\r\n        await dbConnect();\r\n        const users = await User.find({}).sort({ createdAt: -1 });\r\n\r\n        const pendingUsers = users.filter((user) => user.accountStatus === 'pending');\r\n        const activeUsers = users.filter((user) => user.accountStatus !== 'pending');\r\n\r\n        return (\r\n            <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                        <h2 className=\"text-3xl font-serif font-bold text-brand-dark\">User Management</h2>\r\n                        <p className=\"text-slate-500 mt-1\">Manage access and permissions for the outreach system.</p>\r\n                    </div>\r\n                    <span className=\"px-3 py-1 bg-brand-dark text-brand-gold rounded-full text-xs font-bold uppercase tracking-wider\">System Administration</span>\r\n                </div>\r\n\r\n                {/* Pending Approvals */}\r\n                <div className=\"space-y-4\">\r\n                    <h3 className=\"text-xl font-serif font-bold text-brand-dark flex items-center gap-2\">\r\n                        <span className=\"w-2.5 h-2.5 rounded-full bg-amber-500 animate-pulse\"></span>\r\n                        Pending Requests\r\n                        <span className=\"ml-2 px-2.5 py-0.5 bg-amber-100 text-amber-800 text-xs rounded-full font-bold\">{pendingUsers.length}</span>\r\n                    </h3>\r\n\r\n                    {pendingUsers.length === 0 ? (\r\n                        <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] p-8 text-center border border-slate-100\">\r\n                            <p className=\"text-slate-400 font-medium\">No pending registration requests.</p>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden border border-slate-100\">\r\n                            <div className=\"overflow-x-auto\">\r\n                                <table className=\"w-full text-left text-sm\">\r\n                                    <thead className=\"bg-amber-50/50 text-amber-900/80 border-b border-amber-100\">\r\n                                        <tr>\r\n                                            <th className=\"px-6 py-4 font-bold font-serif\">Name</th>\r\n                                            <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\r\n                                            <th className=\"px-6 py-4 font-bold font-serif\">Registered</th>\r\n                                            <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody className=\"divide-y divide-slate-100\">\r\n                                        {pendingUsers.map((user) => (\r\n                                            <tr key={user._id.toString()} className=\"hover:bg-amber-50/30 transition-colors\">\r\n                                                <td className=\"px-6 py-4 font-medium text-brand-dark\">{user.name}</td>\r\n                                                <td className=\"px-6 py-4 text-slate-600\">{user.email}</td>\r\n                                                <td className=\"px-6 py-4 text-slate-400\">{new Date(user.createdAt).toLocaleDateString()}</td>\r\n                                                <td className=\"px-6 py-4 text-right\">\r\n                                                    <div className=\"flex items-center justify-end gap-2\">\r\n                                                        <form action={async () => {\r\n                                                            'use server';\r\n                                                            await approveUser(user._id.toString());\r\n                                                        }}>\r\n                                                            <SubmitButton className=\"flex items-center gap-2 px-3 py-1.5 bg-green-600 text-white hover:bg-green-700 rounded-lg transition-all text-xs font-bold shadow-sm\">\r\n                                                                <Check size={14} /> Approve\r\n                                                            </SubmitButton>\r\n                                                        </form>\r\n                                                        <form action={async () => {\r\n                                                            'use server';\r\n                                                            await rejectUser(user._id.toString());\r\n                                                        }}>\r\n                                                            <SubmitButton\r\n                                                                className=\"flex items-center gap-2 px-3 py-1.5 bg-white text-red-600 border border-slate-200 hover:bg-red-50 hover:border-red-200 rounded-lg transition-all text-xs font-bold\"\r\n                                                                spinnerClassName=\"text-red-600\"\r\n                                                            >\r\n                                                                <X size={14} /> Reject\r\n                                                            </SubmitButton>\r\n                                                        </form>\r\n                                                    </div>\r\n                                                </td>\r\n                                            </tr>\r\n                                        ))}\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* User Directory */}\r\n                <div className=\"space-y-4\">\r\n                    <h3 className=\"text-xl font-serif font-bold text-brand-dark flex items-center gap-2\">\r\n                        <UsersIcon size={20} className=\"text-brand-gold\" />\r\n                        Directory\r\n                    </h3>\r\n                    <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] overflow-hidden border border-slate-100\">\r\n                        <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full text-left text-sm\">\r\n                                <thead className=\"bg-slate-50 text-slate-500 border-b border-slate-100\">\r\n                                    <tr>\r\n                                        <th className=\"px-6 py-4 font-bold font-serif\">Name</th>\r\n                                        <th className=\"px-6 py-4 font-bold font-serif\">Email</th>\r\n                                        <th className=\"px-6 py-4 font-bold font-serif\">Role</th>\r\n                                        <th className=\"px-6 py-4 font-bold font-serif\">Status</th>\r\n                                        <th className=\"px-6 py-4 font-bold font-serif text-right\">Actions</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody className=\"divide-y divide-slate-100\">\r\n                                    {activeUsers.map((user) => (\r\n                                        <tr key={user._id.toString()} className=\"hover:bg-slate-50/50 transition-colors\">\r\n                                            <td className=\"px-6 py-4 font-medium text-brand-dark\">{user.name}</td>\r\n                                            <td className=\"px-6 py-4 text-slate-600\">{user.email}</td>\r\n                                            <td className=\"px-6 py-4\">\r\n                                                <span className={`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold ${user.role === 'admin' ? 'bg-purple-50 text-purple-700' : 'bg-slate-100 text-slate-600'}`}>\r\n                                                    {user.role === 'admin' && <Shield size={12} />}\r\n                                                    {user.role.toUpperCase()}\r\n                                                </span>\r\n                                            </td>\r\n                                            <td className=\"px-6 py-4\">\r\n                                                <UserStatusToggle\r\n                                                    userId={user._id.toString()}\r\n                                                    currentStatus={user.accountStatus}\r\n                                                    currentUserRole={'admin'} // hardcoded for now as this page is admin only\r\n                                                />\r\n                                            </td>\r\n                                            <td className=\"px-6 py-4 text-right\">\r\n                                                {user.role !== 'admin' && (\r\n                                                    <form action={async () => {\r\n                                                        'use server';\r\n                                                        await deleteUser(user._id.toString());\r\n                                                    }}>\r\n                                                        <SubmitButton\r\n                                                            className=\"text-slate-600 hover:text-red-600 hover:bg-red-50 p-2 rounded-lg transition-colors shadow-none bg-transparent hover:shadow-none\"\r\n                                                            spinnerClassName=\"text-red-500\"\r\n                                                        >\r\n                                                            <Trash2 size={16} />\r\n                                                        </SubmitButton>\r\n                                                    </form>\r\n                                                )}\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } catch (error) {\r\n        console.error(\"Database connection failed:\", error);\r\n        return (\r\n            <div className=\"p-12 text-center text-slate-500 bg-white rounded-xl border border-red-100 shadow-sm\">\r\n                <div className=\"w-16 h-16 bg-red-50 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                    <X size={32} />\r\n                </div>\r\n                <h2 className=\"text-xl font-bold text-slate-800 mb-2\">Connection Error</h2>\r\n                <p className=\"max-w-md mx-auto mb-4\">\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn't been whitelisted in MongoDB Atlas.\r\n                </p>\r\n                <div className=\"text-xs bg-slate-100 p-4 rounded text-left max-w-lg mx-auto overflow-auto font-mono text-slate-600\">\r\n                    {(error as Error).message || \"Unknown error\"}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\api\\admin\\export\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Event' is defined but never used.","line":4,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":13,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Event"},"fix":{"range":[106,141],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":5,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"User"},"fix":{"range":[175,208],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[612,615],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[612,615],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":71,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":74,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[654,657],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[654,657],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[695,698],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[695,698],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":45,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1590,1593],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1590,1593],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":72,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2464,2467],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2464,2467],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":74,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2533,2536],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2533,2536],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":75,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2574,2577],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2574,2577],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":100,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":100,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3413,3416],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3413,3416],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":134,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":134,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4581,4584],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4581,4584],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":134,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":134,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4607,4610],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4607,4610],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":150,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":150,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5388,5391],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5388,5391],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":152,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":152,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5490,5493],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5490,5493],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":200,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":200,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7360,7363],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7360,7363],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":13,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { auth } from \"@/auth\";\r\nimport dbConnect from \"@/lib/db\";\r\nimport Record from \"@/models/Record\";\r\nimport Event from \"@/models/Event\"; // Ensure models are registered\r\nimport User from \"@/models/User\";   // Ensure models are registered\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\n// ==================== HELPER FUNCTIONS ====================\r\n\r\n/**\r\n * Flattens a nested object into a single-level object with underscore-separated keys.\r\n * Example: { vitals: { bp: 120, pulse: 80 } } â†’ { vitals_bp: 120, vitals_pulse: 80 }\r\n */\r\nfunction flattenObject(obj: any, prefix: string = ''): Record<string, any> {\r\n    const result: Record<string, any> = {};\r\n\r\n    if (obj === null || obj === undefined) {\r\n        return result;\r\n    }\r\n\r\n    for (const key of Object.keys(obj)) {\r\n        const value = obj[key];\r\n        const newKey = prefix ? `${prefix}_${key}` : key;\r\n\r\n        if (Array.isArray(value)) {\r\n            // Store arrays as-is for one-hot encoding in a later step\r\n            result[newKey] = value;\r\n        } else if (value !== null && typeof value === 'object' && !(value instanceof Date)) {\r\n            // Recursively flatten nested objects\r\n            Object.assign(result, flattenObject(value, newKey));\r\n        } else {\r\n            result[newKey] = value;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Collects all unique array values across all records for one-hot encoding.\r\n * Returns a map of field names to their unique values.\r\n */\r\nfunction collectArrayOptions(flattenedRecords: Record<string, any>[]): Map<string, Set<string>> {\r\n    const arrayFields = new Map<string, Set<string>>();\r\n\r\n    for (const record of flattenedRecords) {\r\n        for (const [key, value] of Object.entries(record)) {\r\n            if (Array.isArray(value)) {\r\n                if (!arrayFields.has(key)) {\r\n                    arrayFields.set(key, new Set());\r\n                }\r\n                for (const item of value) {\r\n                    if (item !== null && item !== undefined) {\r\n                        arrayFields.get(key)!.add(String(item));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return arrayFields;\r\n}\r\n\r\n/**\r\n * Applies one-hot encoding to array fields.\r\n * Converts: { symptoms: [\"Fever\", \"Headache\"] }\r\n * To: { symptoms_Fever: 1, symptoms_Headache: 1, symptoms_Cough: 0 }\r\n */\r\nfunction oneHotEncode(\r\n    record: Record<string, any>,\r\n    arrayOptions: Map<string, Set<string>>\r\n): Record<string, any> {\r\n    const result: Record<string, any> = {};\r\n\r\n    for (const [key, value] of Object.entries(record)) {\r\n        if (Array.isArray(value) && arrayOptions.has(key)) {\r\n            // One-hot encode this array field\r\n            const options = arrayOptions.get(key)!;\r\n            const valueSet = new Set(value.map(v => String(v)));\r\n\r\n            for (const option of options) {\r\n                // Sanitize option name for column header (remove special chars)\r\n                const safeOption = option.replace(/[^a-zA-Z0-9]/g, '_');\r\n                result[`${key}_${safeOption}`] = valueSet.has(option) ? 1 : 0;\r\n            }\r\n        } else if (!Array.isArray(value)) {\r\n            // Keep non-array values as-is\r\n            result[key] = value;\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Escapes a value for CSV output.\r\n */\r\nfunction escapeCSV(value: any): string {\r\n    if (value === undefined || value === null) return \"\";\r\n\r\n    const stringValue = String(value).replace(/\"/g, '\"\"'); // Escape double quotes\r\n\r\n    if (stringValue.includes(\",\") || stringValue.includes(\"\\n\") || stringValue.includes('\"')) {\r\n        return `\"${stringValue}\"`;\r\n    }\r\n\r\n    return stringValue;\r\n}\r\n\r\n// ==================== MAIN EXPORT HANDLER ====================\r\n\r\nexport async function GET() {\r\n    try {\r\n        const session = await auth();\r\n        if (session?.user?.role !== 'admin') {\r\n            return new NextResponse(\"Unauthorized\", { status: 401 });\r\n        }\r\n\r\n        await dbConnect();\r\n\r\n        // Fetch all records with populated data\r\n        const records = await Record.find({})\r\n            .populate('eventId', 'title location date')\r\n            .populate('collectedBy', 'name email')\r\n            .sort({ createdAt: -1 });\r\n\r\n        if (!records || records.length === 0) {\r\n            return new NextResponse(\"No records found\", { status: 404 });\r\n        }\r\n\r\n        // ==================== STEP 1: Extract and flatten all record data ====================\r\n        const flattenedRecords: { meta: any; data: Record<string, any> }[] = [];\r\n\r\n        for (const record of records) {\r\n            // Extract metadata\r\n            const meta = {\r\n                record_id: record._id.toString(),\r\n                event_title: record.eventId?.title || \"Unknown Event\",\r\n                event_date: record.eventId?.date ? new Date(record.eventId.date).toISOString().split('T')[0] : \"\",\r\n                event_location: record.eventId?.location || \"\",\r\n                collected_by: record.collectedBy?.name || \"Unknown\",\r\n                collector_email: record.collectedBy?.email || \"\",\r\n                collection_date: new Date(record.createdAt).toISOString(),\r\n                retrieval_code: record.retrievalCode || \"\"\r\n            };\r\n\r\n            // Flatten the dynamic data\r\n            let rawData: any = {};\r\n            if (record.data instanceof Map) {\r\n                record.data.forEach((value: any, key: string) => {\r\n                    rawData[key] = value;\r\n                });\r\n            } else if (record.data && typeof record.data === 'object') {\r\n                rawData = record.data;\r\n            }\r\n\r\n            const flatData = flattenObject(rawData);\r\n            flattenedRecords.push({ meta, data: flatData });\r\n        }\r\n\r\n        // ==================== STEP 2: Collect all unique array options ====================\r\n        const allFlatData = flattenedRecords.map(r => r.data);\r\n        const arrayOptions = collectArrayOptions(allFlatData);\r\n\r\n        // ==================== STEP 3: Apply one-hot encoding ====================\r\n        const encodedRecords = flattenedRecords.map(record => ({\r\n            meta: record.meta,\r\n            data: oneHotEncode(record.data, arrayOptions)\r\n        }));\r\n\r\n        // ==================== STEP 4: Collect all unique column names ====================\r\n        const metaKeys = [\r\n            \"record_id\",\r\n            \"event_title\",\r\n            \"event_date\",\r\n            \"event_location\",\r\n            \"collected_by\",\r\n            \"collector_email\",\r\n            \"collection_date\",\r\n            \"retrieval_code\"\r\n        ];\r\n\r\n        const dataKeys = new Set<string>();\r\n        for (const record of encodedRecords) {\r\n            for (const key of Object.keys(record.data)) {\r\n                dataKeys.add(key);\r\n            }\r\n        }\r\n        const sortedDataKeys = Array.from(dataKeys).sort();\r\n\r\n        // ==================== STEP 5: Build CSV ====================\r\n        const allColumns = [...metaKeys, ...sortedDataKeys];\r\n        const headerRow = allColumns.join(\",\");\r\n\r\n        const dataRows = encodedRecords.map(record => {\r\n            const row = allColumns.map(col => {\r\n                if (metaKeys.includes(col)) {\r\n                    return escapeCSV((record.meta as any)[col]);\r\n                } else {\r\n                    return escapeCSV(record.data[col]);\r\n                }\r\n            });\r\n            return row.join(\",\");\r\n        });\r\n\r\n        const csvContent = [headerRow, ...dataRows].join(\"\\n\");\r\n\r\n        // ==================== STEP 6: Return CSV Response ====================\r\n        return new NextResponse(csvContent, {\r\n            headers: {\r\n                'Content-Type': 'text/csv; charset=utf-8',\r\n                'Content-Disposition': `attachment; filename=\"outreach_analysis_export_${new Date().toISOString().split('T')[0]}.csv\"`,\r\n            },\r\n        });\r\n\r\n    } catch (error) {\r\n        console.error(\"Export error:\", error);\r\n        return new NextResponse(\"Internal Server Error\", { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\api\\auth\\[...nextauth]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\api\\auth\\forgot-password\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\api\\auth\\register\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":95,"column":83,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":86,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3644,3647],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3644,3647],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport bcrypt from 'bcryptjs';\r\nimport dbConnect from '@/lib/db';\r\nimport User from '@/models/User';\r\nimport InvitationCode from '@/models/InvitationCode';\r\nimport { z } from 'zod';\r\nimport { sendWelcomeEmail } from '@/lib/email';\r\n\r\nconst registerSchema = z.object({\r\n    name: z.string().min(2),\r\n    email: z.string().email(),\r\n    password: z.string().min(6),\r\n    invitationCode: z.string().optional(),\r\n});\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        const body = await req.json();\r\n        const validatedData = registerSchema.parse(body);\r\n\r\n        await dbConnect();\r\n\r\n        // Check if user already exists\r\n        const existingUser = await User.findOne({ email: validatedData.email });\r\n        if (existingUser) {\r\n            return NextResponse.json({ message: 'User already exists' }, { status: 400 });\r\n        }\r\n\r\n        // Handle invitation code logic\r\n        let accountStatus = 'pending';\r\n        let isTrusted = false;\r\n        let usedInvitationCode = null;\r\n\r\n        if (validatedData.invitationCode) {\r\n            // User provided an invitation code - validate it\r\n            const invitationCode = await InvitationCode.findOne({\r\n                code: validatedData.invitationCode.toUpperCase().trim(),\r\n                isUsed: false\r\n            });\r\n\r\n            if (!invitationCode) {\r\n                return NextResponse.json({\r\n                    message: 'Invalid or expired invitation code. Please check the code or leave it blank to proceed with standard registration.'\r\n                }, { status: 400 });\r\n            }\r\n\r\n            // Valid code - user gets VIP privileges\r\n            accountStatus = 'active';    // Instant login\r\n            isTrusted = true;            // VIP status - events auto-approved\r\n            usedInvitationCode = invitationCode;\r\n        }\r\n\r\n        const hashedPassword = await bcrypt.hash(validatedData.password, 10);\r\n\r\n        // Create the user with VIP status if applicable\r\n        const user = await User.create({\r\n            name: validatedData.name,\r\n            email: validatedData.email,\r\n            password: hashedPassword,\r\n            role: 'user',\r\n            accountStatus,\r\n            isTrusted,\r\n        });\r\n\r\n        // If invitation code was used, mark it as used (burn the code)\r\n        if (usedInvitationCode) {\r\n            usedInvitationCode.isUsed = true;\r\n            usedInvitationCode.usedBy = user._id;\r\n            usedInvitationCode.usedAt = new Date();\r\n            await usedInvitationCode.save();\r\n        }\r\n\r\n        // Return appropriate message based on account status\r\n        if (accountStatus === 'active') {\r\n            // Send welcome email to users who used invitation codes (non-blocking)\r\n            sendWelcomeEmail(user.email, user.name).catch(err =>\r\n                console.error('Failed to send welcome email:', err)\r\n            );\r\n\r\n            return NextResponse.json({\r\n                message: 'Registration successful! Your account is active with Trusted Creator privileges. You can now log in.',\r\n                autoApproved: true,\r\n                isTrusted: true\r\n            }, { status: 201 });\r\n        }\r\n\r\n        return NextResponse.json({\r\n            message: 'User registered successfully. Pending approval.',\r\n            autoApproved: false,\r\n            isTrusted: false\r\n        }, { status: 201 });\r\n    } catch (error) {\r\n        console.error('Registration error:', error);\r\n        if (error instanceof z.ZodError) {\r\n            return NextResponse.json({ message: 'Invalid data', errors: (error as any).errors }, { status: 400 });\r\n        }\r\n        return NextResponse.json({ message: 'Internal Server Error' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\api\\auth\\reset-password\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\api\\events\\[id]\\analytics\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1229,1232],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1229,1232],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":30,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1308,1311],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1308,1311],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1481,1484],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1481,1484],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":40,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1818,1821],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1818,1821],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":48,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2121,2124],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2121,2124],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":71,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":71,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2949,2952],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2949,2952],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport dbConnect from '@/lib/db';\r\nimport Event from '@/models/Event';\r\nimport RecordModel from '@/models/Record'; // Renamed to avoid reserved word conflict if needed, though 'Record' is TS type usually.\r\n\r\nexport async function GET(request: Request, { params }: { params: Promise<{ id: string }> }) {\r\n    try {\r\n        await dbConnect();\r\n        const { id } = await params;\r\n\r\n        const event = await Event.findById(id);\r\n        if (!event) {\r\n            return NextResponse.json({ success: false, message: 'Event not found' }, { status: 404 });\r\n        }\r\n\r\n        const records = await RecordModel.find({ eventId: id });\r\n\r\n        // --- KPI CALCULATIONS ---\r\n        const totalPatients = records.length;\r\n\r\n        // Last Entry\r\n        let lastEntryTime = null;\r\n        if (records.length > 0) {\r\n            const sortedByDate = [...records].sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\r\n            lastEntryTime = sortedByDate[0].createdAt;\r\n        }\r\n\r\n        // Completion Rate (Approximation: Number of records with data keys >= number of required fields)\r\n        const requiredFields = event.formFields.filter((f: any) => f.required).length;\r\n        const completedCount = records.filter((r: any) => {\r\n            if (!r.data) return false;\r\n            // Count how many required fields have values\r\n            const filledRequired = event.formFields.filter((f: any) => f.required && r.data[f.label]).length;\r\n            return filledRequired === requiredFields;\r\n        }).length;\r\n        const completionRate = totalPatients > 0 ? Math.round((completedCount / totalPatients) * 100) : 0;\r\n\r\n\r\n        // --- DYNAMIC FIELD ANALYSIS ---\r\n        const fieldAnalysis = event.formFields.map((field: any) => {\r\n            // Case A: Categorical\r\n            if (['select', 'radio', 'checkbox', 'text'].includes(field.type)) {\r\n\r\n                // Frequency Map\r\n                const counts: Record<string, number> = {};\r\n                let validResponses = 0;\r\n\r\n                records.forEach((r: any) => {\r\n                    const val = r.data?.[field.label];\r\n                    if (val) {\r\n                        counts[val] = (counts[val] || 0) + 1;\r\n                        validResponses++;\r\n                    }\r\n                });\r\n\r\n                // Convert to Array\r\n                const data = Object.entries(counts).map(([name, value]) => ({ name, value }));\r\n\r\n                return {\r\n                    id: field.label, // unique enough for this scope\r\n                    label: field.label,\r\n                    type: 'categorical',\r\n                    totalResponses: validResponses,\r\n                    data\r\n                };\r\n            }\r\n\r\n            // Case B: Numerical\r\n            if (field.type === 'number') {\r\n                const values = records\r\n                    .map((r: any) => parseFloat(r.data?.[field.label]))\r\n                    .filter((v: number) => !isNaN(v));\r\n\r\n                if (values.length === 0) {\r\n                    return {\r\n                        id: field.label,\r\n                        label: field.label,\r\n                        type: 'numerical',\r\n                        stats: null\r\n                    };\r\n                }\r\n\r\n                const sum = values.reduce((a: number, b: number) => a + b, 0);\r\n                const avg = sum / values.length;\r\n                const min = Math.min(...values);\r\n                const max = Math.max(...values);\r\n\r\n                return {\r\n                    id: field.label,\r\n                    label: field.label,\r\n                    type: 'numerical',\r\n                    stats: {\r\n                        average: avg,\r\n                        min,\r\n                        max\r\n                    }\r\n                };\r\n            }\r\n\r\n            return null;\r\n        }).filter(Boolean); // Remove nulls (e.g. text areas if we ignored them, or other types)\r\n\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            kpis: {\r\n                totalPatients,\r\n                completionRate,\r\n                lastEntry: lastEntryTime\r\n            },\r\n            fields: fieldAnalysis\r\n        });\r\n\r\n    } catch (error) {\r\n        console.error('Analytics API Error:', error);\r\n        return NextResponse.json({ success: false, message: 'Internal Server Error' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\components\\SyncManager.tsx","messages":[{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`checkStorage` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\components\\SyncManager.tsx:17:9\n  15 |         // Set initial status\n  16 |         setIsOnline(navigator.onLine);\n> 17 |         checkStorage();\n     |         ^^^^^^^^^^^^ `checkStorage` accessed before it is declared\n  18 |\n  19 |         const handleOnline = () => {\n  20 |             setIsOnline(true);\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\components\\SyncManager.tsx:51:5\n  49 |\n  50 |     // Check localStorage for any 'unsynced_records'\n> 51 |     const checkStorage = () => {\n     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 52 |         if (typeof window !== 'undefined') {\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 53 |             const records = JSON.parse(localStorage.getItem('unsynced_records') || '[]');\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 54 |             setUnsyncedCount(records.length);\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 55 |         }\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 56 |     };\n     | ^^^^^^^ `checkStorage` is declared here\n  57 |\n  58 |     // The sync function\n  59 |     const syncData = async () => {","line":17,"column":9,"nodeType":null,"endLine":17,"endColumn":21},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`syncData` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\components\\SyncManager.tsx:21:13\n  19 |         const handleOnline = () => {\n  20 |             setIsOnline(true);\n> 21 |             syncData();\n     |             ^^^^^^^^ `syncData` accessed before it is declared\n  22 |         };\n  23 |\n  24 |         const handleOffline = () => {\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\components\\SyncManager.tsx:59:5\n   57 |\n   58 |     // The sync function\n>  59 |     const syncData = async () => {\n      |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  60 |         if (isSyncing) return;\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  61 |         const recordsRaw = localStorage.getItem('unsynced_records');\n      â€¦\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  98 |         }\n      | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n>  99 |     };\n      | ^^^^^^^ `syncData` is declared here\n  100 |\n  101 |     // If everything is fine (Online + No unsynced data), don't show anything?\n  102 |     // The user wants a visible indicator.","line":21,"column":13,"nodeType":null,"endLine":21,"endColumn":21},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'syncData'. Either include it or remove the dependency array.","line":48,"column":8,"nodeType":"ArrayExpression","endLine":48,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [syncData]","fix":{"range":[1628,1630],"text":"[syncData]"}}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { Cloud, CloudOff, RefreshCw } from 'lucide-react';\r\nimport { submitRecord } from '@/app/events/actions';\r\nimport { Spinner } from '@/components/ui/Spinner';\r\n\r\nexport default function SyncManager() {\r\n    const [isOnline, setIsOnline] = useState(true);\r\n    const [unsyncedCount, setUnsyncedCount] = useState(0);\r\n    const [isSyncing, setIsSyncing] = useState(false);\r\n\r\n    // Initial check and listeners\r\n    useEffect(() => {\r\n        // Set initial status\r\n        setIsOnline(navigator.onLine);\r\n        checkStorage();\r\n\r\n        const handleOnline = () => {\r\n            setIsOnline(true);\r\n            syncData();\r\n        };\r\n\r\n        const handleOffline = () => {\r\n            setIsOnline(false);\r\n        };\r\n\r\n        const handleStorageChange = () => {\r\n            checkStorage();\r\n        };\r\n\r\n        // Custom event triggered by our code when we save offline\r\n        const handleRecordSaved = () => {\r\n            checkStorage();\r\n        };\r\n\r\n        window.addEventListener('online', handleOnline);\r\n        window.addEventListener('offline', handleOffline);\r\n        window.addEventListener('storage', handleStorageChange);\r\n        window.addEventListener('recordSavedOffline', handleRecordSaved);\r\n\r\n        return () => {\r\n            window.removeEventListener('online', handleOnline);\r\n            window.removeEventListener('offline', handleOffline);\r\n            window.removeEventListener('storage', handleStorageChange);\r\n            window.removeEventListener('recordSavedOffline', handleRecordSaved);\r\n        };\r\n    }, []);\r\n\r\n    // Check localStorage for any 'unsynced_records'\r\n    const checkStorage = () => {\r\n        if (typeof window !== 'undefined') {\r\n            const records = JSON.parse(localStorage.getItem('unsynced_records') || '[]');\r\n            setUnsyncedCount(records.length);\r\n        }\r\n    };\r\n\r\n    // The sync function\r\n    const syncData = async () => {\r\n        if (isSyncing) return;\r\n        const recordsRaw = localStorage.getItem('unsynced_records');\r\n        if (!recordsRaw) return;\r\n\r\n        const records = JSON.parse(recordsRaw);\r\n        if (records.length === 0) return;\r\n\r\n        setIsSyncing(true);\r\n\r\n        const failedRecords = [];\r\n        let successCount = 0;\r\n\r\n        for (const record of records) {\r\n            try {\r\n                // Call the server action\r\n                // record has: { eventId, data, timestamp }\r\n                const result = await submitRecord(record.eventId, record.data);\r\n\r\n                if (result.success) {\r\n                    successCount++;\r\n                } else {\r\n                    failedRecords.push(record);\r\n                    console.error(\"Sync failed for record:\", result.message);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Sync error:\", error);\r\n                failedRecords.push(record);\r\n            }\r\n        }\r\n\r\n        // Update storage with truly failed ones\r\n        localStorage.setItem('unsynced_records', JSON.stringify(failedRecords));\r\n        setUnsyncedCount(failedRecords.length);\r\n        setIsSyncing(false);\r\n\r\n        if (successCount > 0) {\r\n            // Optional: Trigger a toast or some feedback\r\n            console.log(`Synced ${successCount} records.`);\r\n        }\r\n    };\r\n\r\n    // If everything is fine (Online + No unsynced data), don't show anything?\r\n    // The user wants a visible indicator.\r\n\r\n    // UI Logic:\r\n    // Online + Synced: Green Cloud\r\n    // Online + Syncing: Spinning Refresh\r\n    // Offline: Red Cloud + Count if > 0\r\n\r\n    if (!isOnline) {\r\n        return (\r\n            <div className=\"fixed bottom-4 right-4 z-50 flex items-center gap-2 px-4 py-3 bg-red-100 text-red-700 rounded-full shadow-lg border border-red-200 animate-in fade-in slide-in-from-bottom-2\">\r\n                <CloudOff size={20} />\r\n                <span className=\"font-bold text-sm\">Offline</span>\r\n                {unsyncedCount > 0 && (\r\n                    <span className=\"ml-1 bg-red-600 text-white text-[10px] font-bold px-2 py-0.5 rounded-full\">\r\n                        {unsyncedCount} Saved\r\n                    </span>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (isSyncing) {\r\n        return (\r\n            <div className=\"fixed bottom-4 right-4 z-50 flex items-center gap-2 px-4 py-3 bg-blue-100 text-blue-700 rounded-full shadow-lg border border-blue-200 animate-in fade-in slide-in-from-bottom-2\">\r\n                <Spinner size={20} className=\"text-blue-700\" />\r\n                <span className=\"font-bold text-sm\">Syncing...</span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (unsyncedCount > 0) {\r\n        return (\r\n            <div className=\"fixed bottom-4 right-4 z-50 flex items-center gap-2 px-4 py-3 bg-amber-100 text-amber-700 rounded-full shadow-lg border border-amber-200 animate-in fade-in slide-in-from-bottom-2 cursor-pointer\" onClick={syncData}>\r\n                <RefreshCw size={20} />\r\n                <span className=\"font-bold text-sm\">Sync Required</span>\r\n                <span className=\"ml-1 bg-amber-600 text-white text-[10px] font-bold px-2 py-0.5 rounded-full\">\r\n                    {unsyncedCount}\r\n                </span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Default: Online & Synced (Green Cloud) - Maybe hide after a few seconds? \r\n    // Or keep it small.\r\n    return (\r\n        <div className=\"fixed bottom-4 right-4 z-50 flex items-center gap-2 px-4 py-3 bg-green-50 text-green-700 rounded-full shadow-lg border border-green-200 opacity-75 hover:opacity-100 transition-opacity\">\r\n            <Cloud size={20} />\r\n            <span className=\"font-bold text-sm\">Online</span>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\Sidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[260,263],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[260,263],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\nimport Link from \"next/link\";\r\nimport { LayoutDashboard, PlusCircle, CalendarCheck, LogOut, Menu, X, ShieldAlert, Settings } from \"lucide-react\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function Sidebar({ user, onSignOut }: { user: any, onSignOut: () => Promise<void> }) {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    return (\r\n        <>\r\n            {/* Mobile Header Trigger */}\r\n            <div className=\"md:hidden fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-md border-b border-slate-200 p-4 z-40 flex items-center justify-between h-16 shadow-sm\">\r\n                <div className=\"flex items-center gap-2 font-bold text-brand-dark\">\r\n                    <span className=\"w-8 h-8 bg-brand-dark rounded-lg flex items-center justify-center text-brand-gold text-lg font-serif\">R</span>\r\n                    ReachPoint\r\n                </div>\r\n                <button onClick={() => setIsOpen(!isOpen)} className=\"text-slate-600 p-1\">\r\n                    {isOpen ? <X /> : <Menu />}\r\n                </button>\r\n            </div>\r\n\r\n            {/* Sidebar Drawer */}\r\n            <aside className={`\r\n                fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-slate-200 flex flex-col transition-transform duration-300 ease-in-out\r\n                ${isOpen ? 'translate-x-0' : '-translate-x-full'}\r\n                md:relative md:translate-x-0\r\n            `}>\r\n                <div className=\"p-6 border-b border-slate-100 flex justify-between items-center h-[88px] md:h-auto\">\r\n                    <div>\r\n                        <h1 className=\"text-xl font-bold text-brand-dark flex items-center gap-2 font-serif\">\r\n                            <span className=\"w-8 h-8 bg-brand-dark rounded-lg flex items-center justify-center text-brand-gold text-lg\">R</span>\r\n                            ReachPoint\r\n                        </h1>\r\n                        <p className=\"text-xs text-brand-gold mt-1 uppercase tracking-wider font-bold\">User Portal</p>\r\n                        <p className=\"text-xs text-slate-400 mt-2 truncate max-w-[200px]\">{user?.email}</p>\r\n                    </div>\r\n                    <button onClick={() => setIsOpen(false)} className=\"md:hidden text-slate-400\">\r\n                        <X />\r\n                    </button>\r\n                </div>\r\n\r\n                <nav className=\"flex-1 p-4 space-y-1 overflow-y-auto\">\r\n                    <Link\r\n                        onClick={() => setIsOpen(false)}\r\n                        href=\"/dashboard\"\r\n                        className=\"flex items-center gap-3 px-3 py-2 text-slate-600 hover:bg-slate-50 hover:text-brand-dark rounded-md transition-colors font-medium\"\r\n                    >\r\n                        <LayoutDashboard size={18} />\r\n                        Dashboard\r\n                    </Link>\r\n\r\n                    {user?.role === 'admin' && (\r\n                        <Link\r\n                            onClick={() => setIsOpen(false)}\r\n                            href=\"/admin\"\r\n                            className=\"flex items-center gap-3 px-3 py-2 text-brand-gold bg-slate-50 hover:bg-slate-100 rounded-md transition-colors font-medium\"\r\n                        >\r\n                            <ShieldAlert size={18} />\r\n                            Admin Portal\r\n                        </Link>\r\n                    )}\r\n\r\n                    <Link\r\n                        onClick={() => setIsOpen(false)}\r\n                        href=\"/dashboard/create-event\"\r\n                        className=\"flex items-center gap-3 px-3 py-2 text-slate-600 hover:bg-slate-50 hover:text-brand-dark rounded-md transition-colors font-medium\"\r\n                    >\r\n                        <PlusCircle size={18} />\r\n                        Create Project\r\n                    </Link>\r\n\r\n                    <Link\r\n                        onClick={() => setIsOpen(false)}\r\n                        href=\"/dashboard/my-events\"\r\n                        className=\"flex items-center gap-3 px-3 py-2 text-slate-600 hover:bg-slate-50 hover:text-brand-dark rounded-md transition-colors font-medium\"\r\n                    >\r\n                        <CalendarCheck size={18} />\r\n                        My Projects\r\n                    </Link>\r\n\r\n                    <Link\r\n                        onClick={() => setIsOpen(false)}\r\n                        href=\"/dashboard/settings\"\r\n                        className=\"flex items-center gap-3 px-3 py-2 text-slate-600 hover:bg-slate-50 hover:text-brand-dark rounded-md transition-colors font-medium\"\r\n                    >\r\n                        <Settings size={18} />\r\n                        Settings\r\n                    </Link>\r\n                </nav>\r\n\r\n                <div className=\"p-4 border-t border-slate-100\">\r\n                    <button\r\n                        onClick={() => onSignOut()}\r\n                        className=\"flex items-center gap-3 px-3 py-2 text-red-500 hover:bg-red-50 w-full rounded-md transition-colors font-medium\"\r\n                    >\r\n                        <LogOut size={18} />\r\n                        Sign Out\r\n                    </button>\r\n                </div>\r\n            </aside>\r\n\r\n            {/* Overlay */}\r\n            {isOpen && (\r\n                <div\r\n                    className=\"fixed inset-0 bg-black/50 z-40 md:hidden\"\r\n                    onClick={() => setIsOpen(false)}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\actions.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":72,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2599,2602],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2599,2602],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":120,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":120,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":125,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":125,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4499,4502],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4499,4502],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":155,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":155,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5878,5881],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5878,5881],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":166,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":166,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6218,6221],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6218,6221],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":178,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":178,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6769,6772],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6769,6772],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\r\n\r\nimport dbConnect from \"@/lib/db\";\r\nimport Event from \"@/models/Event\";\r\nimport User from \"@/models/User\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { auth } from \"@/auth\";\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\nimport bcrypt from \"bcryptjs\";\r\n\r\nexport async function createEvent(formData: FormData) {\r\n    try {\r\n        const session = await auth();\r\n        if (!session?.user?.id) {\r\n            return { success: false, message: 'Unauthorized' };\r\n        }\r\n\r\n        await dbConnect();\r\n\r\n        // Get user to check role\r\n        const user = await User.findById(session.user.id);\r\n        if (!user) {\r\n            return { success: false, message: 'User not found' };\r\n        }\r\n\r\n        const title = formData.get('title') as string;\r\n        const description = formData.get('description') as string;\r\n        const reason = formData.get('reason') as string;\r\n        const purpose = formData.get('purpose') as string;\r\n        const date = formData.get('date') as string;\r\n        const location = formData.get('location') as string;\r\n        const coverImage = formData.get('coverImage') as string;\r\n        const inventory = JSON.parse(formData.get('inventory') as string || '[]');\r\n\r\n        if (!title || !date || !location) {\r\n            return { success: false, message: 'Missing required fields' };\r\n        }\r\n\r\n        // Logic: If createdBy is Admin OR Trusted user, status is 'approved' automatically. Otherwise 'pending'.\r\n        const status = (user.role === 'admin' || user.isTrusted) ? 'approved' : 'pending';\r\n\r\n        const event = await Event.create({\r\n            title,\r\n            description,\r\n            reason,\r\n            purpose,\r\n            date: new Date(date),\r\n            location,\r\n            coverImage,\r\n            createdBy: session.user.id,\r\n            status,\r\n            formFields: [], // Initialize empty, managed in Builder later\r\n            inventory, // Save inventory\r\n        });\r\n\r\n        revalidatePath('/dashboard/my-events');\r\n        revalidatePath('/admin/events');\r\n\r\n        return {\r\n            success: true,\r\n            message: status === 'approved'\r\n                ? 'Event created and approved!'\r\n                : 'Event proposal submitted! Pending admin approval.',\r\n            eventId: event._id.toString()\r\n        };\r\n    } catch (error) {\r\n        console.error('Failed to create event:', error);\r\n        return { success: false, message: 'Failed to create event' };\r\n    }\r\n}\r\n\r\nexport async function updateEventSchema(eventId: string, formFields: any[]) {\r\n    try {\r\n        const session = await auth();\r\n        if (!session?.user?.id) return { success: false, message: 'Unauthorized' };\r\n\r\n        await dbConnect();\r\n\r\n        // Ensure user owns event or is admin\r\n        const event = await Event.findById(eventId);\r\n        if (!event) return { success: false, message: 'Event not found' };\r\n\r\n        if (event.createdBy.toString() !== session.user.id && session.user.role !== 'admin') {\r\n            return { success: false, message: 'Unauthorized' };\r\n        }\r\n\r\n        event.formFields = formFields;\r\n        await event.save();\r\n\r\n        revalidatePath(`/dashboard/events/${eventId}/builder`);\r\n        revalidatePath('/dashboard/my-events');\r\n\r\n        return { success: true, message: 'Form updated successfully' };\r\n    } catch (error) {\r\n        console.error('Failed to update schema:', error);\r\n        return { success: false, message: 'Failed to update form' };\r\n    }\r\n}\r\n\r\nexport async function updateEventSettings(eventId: string, isPublic: boolean, accessCode: string) {\r\n    try {\r\n        const session = await auth();\r\n        if (!session?.user?.id) return { success: false, message: 'Unauthorized' };\r\n\r\n        await dbConnect();\r\n\r\n        const event = await Event.findById(eventId);\r\n        if (!event) return { success: false, message: 'Event not found' };\r\n\r\n        // Ownership check\r\n        if (event.createdBy.toString() !== session.user.id && session.user.role !== 'admin') {\r\n            return { success: false, message: 'Unauthorized' };\r\n        }\r\n\r\n        event.isPublic = isPublic;\r\n        event.accessCode = accessCode;\r\n        await event.save();\r\n\r\n        return { success: true, message: 'Settings updated successfully' };\r\n    } catch (error) {\r\n        return { success: false, message: 'Failed to update settings' };\r\n    }\r\n}\r\n\r\nexport async function generateMedicalReport(stats: any) {\r\n    try {\r\n        const session = await auth();\r\n        if (!session?.user) return { success: false, message: 'Unauthorized' };\r\n\r\n        if (!process.env.GOOGLE_API_KEY) {\r\n            return { success: false, message: 'Google API Key is missing. Please add it to .env' };\r\n        }\r\n\r\n        const genAI = new GoogleGenerativeAI(process.env.GOOGLE_API_KEY);\r\n\r\n        // Use a fallback strategy to find a working model\r\n        const models = [\"gemini-1.5-flash\", \"gemini-pro\", \"gemini-1.0-pro\"];\r\n        let report = null;\r\n        let lastError = null;\r\n\r\n        const prompt = `You are a Chief Medical Officer analyzing aggregate health data from an outreach event. Identify public health trends, correlations, and suggest interventions. Format the response in Markdown. Data: ${JSON.stringify(stats)}`;\r\n\r\n        for (const modelName of models) {\r\n            try {\r\n                console.log(`[AI] Attempting model: ${modelName}`);\r\n                const model = genAI.getGenerativeModel({ model: modelName });\r\n                const result = await model.generateContent(prompt);\r\n                const response = await result.response;\r\n                report = response.text();\r\n\r\n                if (report) {\r\n                    console.log(`[AI] Success with ${modelName}`);\r\n                    break;\r\n                }\r\n            } catch (e: any) {\r\n                console.warn(`[AI] Model ${modelName} failed:`, e.toString());\r\n                lastError = e;\r\n            }\r\n        }\r\n\r\n        if (!report) {\r\n            throw lastError || new Error(\"All Gemini models failed to generate content.\");\r\n        }\r\n\r\n        return { success: true, report };\r\n    } catch (error: any) {\r\n        console.error('AI Error:', error);\r\n        if (error.message?.includes('404') || error.toString().includes('404')) {\r\n            return {\r\n                success: false,\r\n                message: 'Gemini API Error: 404 Not Found. This usually means \"Generative Language API\" is not enabled in Google Cloud, or the Key is invalid.'\r\n            };\r\n        }\r\n        return { success: false, message: 'Failed to generate report: ' + (error.message || 'Unknown error') };\r\n    }\r\n}\r\n\r\nexport async function changePassword(prevState: any, formData: FormData) {\r\n    try {\r\n        const session = await auth();\r\n        if (!session?.user?.id) return { success: false, message: 'Unauthorized' };\r\n\r\n        const currentPassword = formData.get('currentPassword') as string;\r\n        const newPassword = formData.get('newPassword') as string;\r\n        const confirmPassword = formData.get('confirmPassword') as string;\r\n\r\n        if (newPassword !== confirmPassword) {\r\n            return { success: false, message: 'New passwords do not match' };\r\n        }\r\n        if (newPassword.length < 6) {\r\n            return { success: false, message: 'Password must be at least 6 characters' };\r\n        }\r\n\r\n        await dbConnect();\r\n\r\n        const user = await User.findById(session.user.id).select('+password');\r\n\r\n        if (!user) return { success: false, message: 'User not found' };\r\n\r\n        const isValid = await bcrypt.compare(currentPassword, user.password);\r\n        if (!isValid) return { success: false, message: 'Incorrect current password' };\r\n\r\n        const hashedPassword = await bcrypt.hash(newPassword, 10);\r\n        user.password = hashedPassword;\r\n        await user.save();\r\n\r\n        return { success: true, message: 'Password changed successfully' };\r\n    } catch (error) {\r\n        console.error(error);\r\n        return { success: false, message: 'Failed to update password' };\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\create-event\\CreateEventForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":71,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":74,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1160,1163],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1160,1163],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":31,"column":9,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":31,"endColumn":22,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[1226,1239],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":123,"column":33,"nodeType":"Line","messageId":"tsIgnoreInsteadOfExpectError","endLine":123,"endColumn":46,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[5697,5710],"text":"// @ts-expect-error"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { createEvent } from '../actions';\r\nimport { useRouter } from 'next/navigation';\r\nimport { AlertCircle, ArrowLeft, Calendar, MapPin, Target, Image as ImageIcon, Package, Plus, Trash2 } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { CldUploadWidget } from 'next-cloudinary';\r\nimport Image from 'next/image';\r\nimport { SubmitButton } from '@/components/ui/SubmitButton';\r\n\r\nexport default function CreateEventForm() {\r\n    const router = useRouter();\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n    const [coverImage, setCoverImage] = useState('');\r\n    const [inventoryItems, setInventoryItems] = useState([{ itemName: '', startingStock: 0 }]);\r\n\r\n    const addInventoryItem = () => {\r\n        setInventoryItems([...inventoryItems, { itemName: '', startingStock: 0 }]);\r\n    };\r\n\r\n    const removeInventoryItem = (index: number) => {\r\n        const newItems = [...inventoryItems];\r\n        newItems.splice(index, 1);\r\n        setInventoryItems(newItems);\r\n    };\r\n\r\n    const updateInventoryItem = (index: number, field: string, value: any) => {\r\n        const newItems = [...inventoryItems];\r\n        // @ts-ignore\r\n        newItems[index][field] = value;\r\n        setInventoryItems(newItems);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"max-w-3xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500\">\r\n            <div className=\"mb-6\">\r\n                <Link href=\"/dashboard\" className=\"inline-flex items-center gap-2 text-slate-500 hover:text-brand-dark transition-colors font-medium\">\r\n                    <ArrowLeft size={18} />\r\n                    Back to Dashboard\r\n                </Link>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 p-8\">\r\n                <div className=\"mb-8 border-b border-slate-100 pb-6\">\r\n                    <h1 className=\"text-3xl font-serif font-bold text-brand-dark flex items-center gap-3\">\r\n                        <Target className=\"text-brand-gold\" size={32} />\r\n                        Submit Outreach Proposal\r\n                    </h1>\r\n                    <p className=\"text-slate-500 mt-2 text-lg\">\r\n                        Phase 1: Propose your event details. Once approved, you can build the form.\r\n                    </p>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3 text-red-800\">\r\n                        <AlertCircle size={20} className=\"flex-shrink-0 mt-0.5\" />\r\n                        <p>{error}</p>\r\n                    </div>\r\n                )}\r\n\r\n                {success && (\r\n                    <div className=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start gap-3 text-green-800\">\r\n                        <AlertCircle size={20} className=\"flex-shrink-0 mt-0.5\" />\r\n                        <p>{success}</p>\r\n                    </div>\r\n                )}\r\n\r\n\r\n                <form action={async (formData) => {\r\n                    setError('');\r\n                    setSuccess('');\r\n\r\n                    formData.append('coverImage', coverImage);\r\n\r\n                    // Filter out empty items\r\n                    const validInventory = inventoryItems.filter(i => i.itemName.trim() !== '');\r\n                    formData.append('inventory', JSON.stringify(validInventory));\r\n\r\n                    const result = await createEvent(formData);\r\n\r\n                    if (result.success) {\r\n                        setSuccess(result.message);\r\n                        setTimeout(() => {\r\n                            router.push('/dashboard/my-events');\r\n                        }, 1500);\r\n                    } else {\r\n                        setError(result.message);\r\n                    }\r\n                }} className=\"space-y-6\">\r\n                    {/* Cloudinary Widget */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-bold text-brand-dark mb-2\">Event Cover Image</label>\r\n                        <CldUploadWidget\r\n                            uploadPreset=\"med_outreach_unsigned\"\r\n                            options={{\r\n                                sources: ['local'],\r\n                                multiple: false,\r\n                                maxFiles: 1,\r\n                                showPoweredBy: false,\r\n                                clientAllowedFormats: ['png', 'jpeg', 'jpg', 'webp'],\r\n                                styles: {\r\n                                    palette: {\r\n                                        window: \"#FFFFFF\",\r\n                                        sourceBg: \"#F8FAFC\",\r\n                                        windowBorder: \"#E2E8F0\",\r\n                                        tabIcon: \"#0F172A\",\r\n                                        inactiveTabIcon: \"#64748B\",\r\n                                        menuIcons: \"#0F172A\",\r\n                                        link: \"#D4AF37\",\r\n                                        action: \"#D4AF37\",\r\n                                        inProgress: \"#D4AF37\",\r\n                                        complete: \"#10B981\",\r\n                                        error: \"#EF4444\",\r\n                                        textDark: \"#0F172A\",\r\n                                        textLight: \"#FFFFFF\"\r\n                                    }\r\n                                }\r\n                            }}\r\n                            onSuccess={(result) => {\r\n                                // @ts-ignore\r\n                                setCoverImage(result?.info?.secure_url);\r\n                            }}\r\n                        >\r\n                            {({ open }) => (\r\n                                <div className=\"flex flex-col md:flex-row gap-8 items-start mb-2\">\r\n                                    {/* Left Preview */}\r\n                                    <div\r\n                                        className=\"relative w-full md:w-64 h-48 bg-slate-50 border-2 border-dashed border-slate-300 hover:border-brand-gold rounded-xl flex items-center justify-center shrink-0 cursor-pointer overflow-hidden transition-all group\"\r\n                                        onClick={() => open()}\r\n                                    >\r\n                                        {coverImage ? (\r\n                                            <Image src={coverImage} fill className=\"object-cover\" alt=\"Event Cover\" />\r\n                                        ) : (\r\n                                            <div className=\"text-center p-4\">\r\n                                                <ImageIcon className=\"text-slate-300 mx-auto mb-2 group-hover:text-brand-gold transition-colors\" size={32} />\r\n                                                <p className=\"text-xs text-slate-400 font-bold uppercase tracking-wider\">Preview</p>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    {/* Right Controls */}\r\n                                    <div className=\"flex-1 space-y-3 pt-1\">\r\n                                        <h3 className=\"font-bold text-brand-dark text-lg\">Event Cover Image</h3>\r\n                                        <p className=\"text-slate-500 text-sm leading-relaxed\">\r\n                                            Upload a high-quality banner image to make your outreach mission stand out.\r\n                                            <br />\r\n                                            <span className=\"text-xs text-slate-400\">Recommended size: 1200x600px. Max: 5MB.</span>\r\n                                        </p>\r\n\r\n                                        <div className=\"flex items-center gap-3 pt-2\">\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                onClick={() => open()}\r\n                                                className=\"px-5 py-2.5 bg-brand-cream border border-brand-gold/50 text-brand-dark rounded-lg font-bold hover:bg-brand-gold hover:text-white hover:border-brand-gold transition-all shadow-sm flex items-center gap-2\"\r\n                                            >\r\n                                                <ImageIcon size={18} />\r\n                                                {coverImage ? 'Change Image' : 'Upload Image'}\r\n                                            </button>\r\n\r\n                                            {coverImage && (\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    onClick={(e) => {\r\n                                                        e.stopPropagation();\r\n                                                        setCoverImage('');\r\n                                                    }}\r\n                                                    className=\"px-3 py-2.5 text-red-500 hover:bg-red-50 rounded-lg font-medium transition-colors\"\r\n                                                >\r\n                                                    Remove\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </CldUploadWidget>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-6\">\r\n                        <div>\r\n                            <label htmlFor=\"title\" className=\"block text-sm font-bold text-brand-dark mb-1\">\r\n                                Event Title *\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"title\"\r\n                                name=\"title\"\r\n                                required\r\n                                className=\"w-full px-4 py-3 bg-slate-50 border-0 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                placeholder=\"e.g., Community Health Screening 2024\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                            <div>\r\n                                <label htmlFor=\"date\" className=\"block text-sm font-bold text-brand-dark mb-1 flex items-center gap-1\">\r\n                                    <Calendar size={14} className=\"text-brand-gold\" /> Event Date *\r\n                                </label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    id=\"date\"\r\n                                    name=\"date\"\r\n                                    required\r\n                                    className=\"w-full px-4 py-3 bg-slate-50 border-0 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label htmlFor=\"location\" className=\"block text-sm font-bold text-brand-dark mb-1 flex items-center gap-1\">\r\n                                    <MapPin size={14} className=\"text-brand-gold\" /> Location *\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"location\"\r\n                                    name=\"location\"\r\n                                    required\r\n                                    className=\"w-full px-4 py-3 bg-slate-50 border-0 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                    placeholder=\"e.g., Central Community Hall\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"purpose\" className=\"block text-sm font-bold text-brand-dark mb-1\">\r\n                                Primary Purpose / Goal *\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"purpose\"\r\n                                name=\"purpose\"\r\n                                required\r\n                                className=\"w-full px-4 py-3 bg-slate-50 border-0 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                placeholder=\"e.g., Screen 500 patients for hypertension\"\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Inventory Section */}\r\n                        <div className=\"bg-slate-50 p-6 rounded-xl border border-slate-200\">\r\n                            <h3 className=\"text-lg font-bold text-brand-dark mb-4 flex items-center gap-2\">\r\n                                <Package size={20} className=\"text-brand-gold\" />\r\n                                Inventory Planning\r\n                            </h3>\r\n                            <p className=\"text-sm text-slate-500 mb-4\">\r\n                                Define the starting stock for materials you want to track (e.g., test strips, gloves).\r\n                            </p>\r\n\r\n                            <div className=\"space-y-3\">\r\n                                {inventoryItems.map((item, index) => (\r\n                                    <div key={index} className=\"flex gap-4 items-end animate-in fade-in slide-in-from-left-2\">\r\n                                        <div className=\"flex-1\">\r\n                                            <label className=\"block text-xs font-bold text-slate-500 mb-1 uppercase\">Item Name</label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={item.itemName}\r\n                                                onChange={(e) => updateInventoryItem(index, 'itemName', e.target.value)}\r\n                                                className=\"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none\"\r\n                                                placeholder=\"e.g. Malaria Strips\"\r\n                                                required\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"w-32\">\r\n                                            <label className=\"block text-xs font-bold text-slate-500 mb-1 uppercase\">Quantity</label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                value={item.startingStock}\r\n                                                onChange={(e) => updateInventoryItem(index, 'startingStock', parseInt(e.target.value) || 0)}\r\n                                                className=\"w-full px-3 py-2 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none\"\r\n                                                min=\"0\"\r\n                                                required\r\n                                            />\r\n                                        </div>\r\n                                        {inventoryItems.length > 1 && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                onClick={() => removeInventoryItem(index)}\r\n                                                className=\"p-2.5 text-red-500 hover:bg-red-50 rounded-lg transition-colors\"\r\n                                                title=\"Remove Item\"\r\n                                            >\r\n                                                <Trash2 size={18} />\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={addInventoryItem}\r\n                                className=\"mt-4 text-sm font-bold text-brand-dark flex items-center gap-2 hover:text-brand-gold transition-colors\"\r\n                            >\r\n                                <Plus size={16} /> Add Inventory Item\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"reason\" className=\"block text-sm font-bold text-brand-dark mb-1\">\r\n                                Reason/Justification (Optional)\r\n                            </label>\r\n                            <textarea\r\n                                id=\"reason\"\r\n                                name=\"reason\"\r\n                                rows={2}\r\n                                className=\"w-full px-4 py-3 bg-slate-50 border-0 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                placeholder=\"Why is this outreach needed now?\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"description\" className=\"block text-sm font-bold text-brand-dark mb-1\">\r\n                                Additional Details\r\n                            </label>\r\n                            <textarea\r\n                                id=\"description\"\r\n                                name=\"description\"\r\n                                rows={3}\r\n                                className=\"w-full px-4 py-3 bg-slate-50 border-0 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                placeholder=\"Logistics, team requirements, etc.\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-end gap-4 pt-6 border-t border-slate-100\">\r\n                        <Link\r\n                            href=\"/dashboard\"\r\n                            className=\"px-6 py-2.5 text-slate-500 hover:text-brand-dark font-medium transition-colors\"\r\n                        >\r\n                            Cancel\r\n                        </Link>\r\n                        <SubmitButton>\r\n                            <Target size={18} /> Submit Proposal\r\n                        </SubmitButton>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\create-event\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\analytics\\AnalyticsClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[767,770],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[767,770],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":38,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":38,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":54,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1867,1870],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1867,1870],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getColor' is assigned a value but never used.","line":115,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":115,"endColumn":19},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":148,"column":115,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[5900,5930],"text":"Chief Medical Officer&apos;s Report"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[5900,5930],"text":"Chief Medical Officer&lsquo;s Report"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[5900,5930],"text":"Chief Medical Officer&#39;s Report"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[5900,5930],"text":"Chief Medical Officer&rsquo;s Report"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":201,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":201,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8891,8894],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8891,8894],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { generateSmartInsight } from '@/lib/analytics';\r\nimport { generateMedicalReport } from '@/app/dashboard/actions';\r\nimport { Button } from '@/components/ui/Button';\r\nimport {\r\n    Users, Activity, Clock, Info, Loader2, AlertCircle, Sparkles, Bot, Download\r\n} from 'lucide-react';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport dynamic from 'next/dynamic';\r\n\r\nconst AnalyticsPieChart = dynamic(() => import('./AnalyticsPieChart'), {\r\n    loading: () => <div className=\"h-[200px] flex items-center justify-center text-slate-400\">Loading Chart...</div>,\r\n    ssr: false\r\n});\r\n\r\n\r\nexport default function AnalyticsClient({ eventId }: { eventId: string }) {\r\n    const [data, setData] = useState<any>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n\r\n    // AI State\r\n    const [aiReport, setAiReport] = useState<string | null>(null);\r\n    const [analyzing, setAnalyzing] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const res = await fetch(`/api/events/${eventId}/analytics`);\r\n                const json = await res.json();\r\n                if (json.success) {\r\n                    setData(json);\r\n                } else {\r\n                    setError(json.message);\r\n                }\r\n            } catch (err) {\r\n                setError('Failed to load analytics');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [eventId]);\r\n\r\n    const handleAnalyze = async () => {\r\n        if (!data) return;\r\n        setAnalyzing(true);\r\n        // Pass relevant data to AI\r\n        const res = await generateMedicalReport({\r\n            kpis: data.kpis,\r\n            fields: data.fields.map((f: any) => ({\r\n                label: f.label,\r\n                type: f.type,\r\n                stats: f.stats,\r\n                data: f.type === 'categorical' ? f.data : undefined\r\n            }))\r\n        });\r\n\r\n        if (res.success && res.report) {\r\n            setAiReport(res.report);\r\n        } else {\r\n            alert(res.message || 'Failed to analyze');\r\n        }\r\n        setAnalyzing(false);\r\n    };\r\n\r\n    const handleDownloadReport = () => {\r\n        if (!aiReport) return;\r\n        const blob = new Blob([aiReport], { type: 'text/markdown' });\r\n        const url = URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `Medical_Report_${new Date().toISOString().split('T')[0]}.md`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n        URL.revokeObjectURL(url);\r\n    };\r\n\r\n    if (loading) return (\r\n        <div className=\"flex items-center justify-center min-h-[400px]\">\r\n            <Loader2 className=\"animate-spin text-emerald-600\" size={32} />\r\n        </div>\r\n    );\r\n\r\n    if (error) return (\r\n        <div className=\"flex items-center justify-center min-h-[400px] text-red-500 gap-2\">\r\n            <AlertCircle size={24} /> {error}\r\n        </div>\r\n    );\r\n\r\n    if (!data) return null;\r\n\r\n    // Helper for Time Ago\r\n    const timeAgo = (dateStr: string) => {\r\n        if (!dateStr) return 'Never';\r\n        const seconds = Math.floor((new Date().getTime() - new Date(dateStr).getTime()) / 1000);\r\n        let interval = seconds / 31536000;\r\n        if (interval > 1) return Math.floor(interval) + \" years ago\";\r\n        interval = seconds / 2592000;\r\n        if (interval > 1) return Math.floor(interval) + \" months ago\";\r\n        interval = seconds / 86400;\r\n        if (interval > 1) return Math.floor(interval) + \" days ago\";\r\n        interval = seconds / 3600;\r\n        if (interval > 1) return Math.floor(interval) + \" hours ago\";\r\n        interval = seconds / 60;\r\n        if (interval > 1) return Math.floor(interval) + \" minutes ago\";\r\n        return Math.floor(seconds) + \" seconds ago\";\r\n    };\r\n\r\n    // Color Logic\r\n    const getColor = (name: string, index: number) => {\r\n        const n = name.toLowerCase();\r\n        if (n.includes('positive') || n.includes('reactive')) return '#ef4444'; // Red\r\n        if (n.includes('negative') || n.includes('non-reactive')) return '#22c55e'; // Green\r\n\r\n        const COLORS = ['#3b82f6', '#8b5cf6', '#f59e0b', '#06b6d4', '#ec4899'];\r\n        return COLORS[index % COLORS.length];\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            {/* ACTION BAR */}\r\n            <div className=\"flex justify-between items-center\">\r\n                <p className=\"text-slate-500 text-sm\">Last updated: Just now</p>\r\n                <Button\r\n                    onClick={handleAnalyze}\r\n                    isLoading={analyzing}\r\n                    className=\"flex items-center gap-2\"\r\n                >\r\n                    <Sparkles size={18} /> Analyze with AI\r\n                </Button>\r\n            </div>\r\n\r\n            {/* AI REPORT SECTION */}\r\n            {aiReport && (\r\n                <div className=\"bg-brand-cream border border-brand-gold/20 rounded-xl p-8 mb-8 animate-in fade-in slide-in-from-top-4 duration-500 shadow-sm relative overflow-hidden\">\r\n                    <div className=\"absolute top-0 right-0 w-32 h-32 bg-brand-gold/5 rounded-full blur-3xl -mr-16 -mt-16\"></div>\r\n                    <div className=\"flex items-center justify-between mb-6 pb-4 border-b border-brand-gold/10 relative z-10\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"p-2 bg-white text-brand-gold rounded-lg shadow-sm border border-brand-cream\">\r\n                                <Bot size={24} />\r\n                            </div>\r\n                            <div>\r\n                                <h2 className=\"text-xl font-bold font-serif text-brand-dark\">Chief Medical Officer's Report</h2>\r\n                                <p className=\"text-sm text-brand-dark/70\">AI-generated insights based on aggregate population data.</p>\r\n                            </div>\r\n                        </div>\r\n                        <Button\r\n                            variant=\"secondary\"\r\n                            onClick={handleDownloadReport}\r\n                            title=\"Download Report\"\r\n                        >\r\n                            <Download size={20} /> <span className=\"hidden sm:inline\">Download</span>\r\n                        </Button>\r\n                    </div>\r\n                    <div className=\"prose prose-indigo max-w-none text-slate-700\">\r\n                        <ReactMarkdown>{aiReport}</ReactMarkdown>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* KPI CARDS */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                <div className=\"bg-white p-6 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 flex items-center gap-4\">\r\n                    <div className=\"p-3 bg-brand-cream text-brand-dark rounded-lg\">\r\n                        <Users size={28} />\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"text-sm font-bold text-slate-500 uppercase tracking-wider\">Total Patients</p>\r\n                        <h3 className=\"text-3xl font-serif font-bold text-brand-dark\">{data.kpis.totalPatients}</h3>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 flex items-center gap-4\">\r\n                    <div className=\"p-3 bg-brand-cream text-brand-gold rounded-lg\">\r\n                        <Activity size={28} />\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"text-sm font-bold text-slate-500 uppercase tracking-wider\">Completion Rate</p>\r\n                        <h3 className=\"text-3xl font-serif font-bold text-brand-dark\">{data.kpis.completionRate}%</h3>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white p-6 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 flex items-center gap-4\">\r\n                    <div className=\"p-3 bg-brand-cream text-brand-dark/80 rounded-lg\">\r\n                        <Clock size={28} />\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"text-sm font-bold text-slate-500 uppercase tracking-wider\">Last Entry</p>\r\n                        <h3 className=\"text-2xl font-serif font-bold text-brand-dark\">{timeAgo(data.kpis.lastEntry)}</h3>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* DYNAMIC GRID */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {data.fields.map((field: any, i: number) => (\r\n                    <div key={i} className=\"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col overflow-hidden\">\r\n                        <div className=\"p-5 border-b border-slate-50\">\r\n                            <h3 className=\"font-bold text-slate-800 truncate\" title={field.label}>{field.label}</h3>\r\n                            <p className=\"text-xs text-slate-400 uppercase font-semibold mt-1\">{field.type}</p>\r\n                        </div>\r\n\r\n                        <div className=\"p-6 flex-1 flex items-center justify-center min-h-[200px]\">\r\n                            {field.type === 'categorical' ? (\r\n                                <AnalyticsPieChart data={field.data} />\r\n                            ) : (\r\n                                <div className=\"text-center w-full\">\r\n                                    {field.stats ? (\r\n                                        <>\r\n                                            <h2 className=\"text-4xl font-extrabold text-slate-800 mb-2\">\r\n                                                {Math.round(field.stats.average)} <span className=\"text-sm text-slate-400 font-normal\">avg</span>\r\n                                            </h2>\r\n                                            <div className=\"w-full bg-slate-100 h-2 rounded-full mt-4 overflow-hidden relative\">\r\n                                                {/* Visual Range bar placeholder: Width relative to 200 (arbitrary max) or just static visual */}\r\n                                                <div className=\"bg-emerald-500 h-full w-1/2 mx-auto rounded-full opacity-50\"></div>\r\n                                            </div>\r\n                                            <div className=\"flex justify-between text-xs text-slate-500 mt-2 px-4\">\r\n                                                <span>Min: {field.stats.min}</span>\r\n                                                <span>Max: {field.stats.max}</span>\r\n                                            </div>\r\n                                        </>\r\n                                    ) : (\r\n                                        <p className=\"text-slate-400\">No data collected</p>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* INSIGHT FOOTER */}\r\n                        <div className=\"p-4 bg-brand-cream/30 border-t border-slate-100 flex gap-3\">\r\n                            <Info className=\"text-brand-gold flex-shrink-0 mt-0.5\" size={16} />\r\n                            <p className=\"text-sm text-slate-600 leading-snug font-medium\">\r\n                                {generateSmartInsight(field)}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\analytics\\AnalyticsPieChart.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":11,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":14,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[154,157],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[154,157],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1127,1130],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1127,1130],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\n'use client';\r\n\r\nimport { PieChart, Pie, Cell, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\n\r\ninterface AnalyticsPieChartProps {\r\n    data: any[];\r\n}\r\n\r\nexport default function AnalyticsPieChart({ data }: AnalyticsPieChartProps) {\r\n    // Color Logic\r\n    const getColor = (name: string, index: number) => {\r\n        const n = name.toLowerCase();\r\n        if (n.includes('positive') || n.includes('reactive')) return '#ef4444'; // Red\r\n        if (n.includes('negative') || n.includes('non-reactive')) return '#22c55e'; // Green\r\n\r\n        const COLORS = ['#3b82f6', '#8b5cf6', '#f59e0b', '#06b6d4', '#ec4899'];\r\n        return COLORS[index % COLORS.length];\r\n    };\r\n\r\n    return (\r\n        <div className=\"w-full h-[200px]\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                <PieChart>\r\n                    <Pie\r\n                        data={data}\r\n                        innerRadius={50}\r\n                        outerRadius={70}\r\n                        paddingAngle={5}\r\n                        dataKey=\"value\"\r\n                    >\r\n                        {data.map((entry: any, index: number) => (\r\n                            <Cell key={`cell-${index}`} fill={getColor(entry.name, index)} />\r\n                        ))}\r\n                    </Pie>\r\n                    <Tooltip />\r\n                    <Legend verticalAlign=\"bottom\" height={36} />\r\n                </PieChart>\r\n            </ResponsiveContainer>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\analytics\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\EventBuilderClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[780,783],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[780,783],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":87,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":90,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[794,797],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[794,797],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1361,1364],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1361,1364],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":72,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":72,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'addField' is assigned a value but never used.","line":80,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":80,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":88,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":88,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3334,3337],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3334,3337],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":163,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":163,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6639,6642],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6639,6642],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":249,"column":127,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[12526,12634],"text":" into this event. Changing proper templates later won&apos;t affect this event.\r\n                                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[12526,12634],"text":" into this event. Changing proper templates later won&lsquo;t affect this event.\r\n                                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[12526,12634],"text":" into this event. Changing proper templates later won&#39;t affect this event.\r\n                                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[12526,12634],"text":" into this event. Changing proper templates later won&rsquo;t affect this event.\r\n                                "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { updateEventSchema, updateEventSettings } from '@/app/dashboard/actions';\r\nimport { deleteRecord, updateRecordById, sendResultEmail } from '@/app/events/actions';\r\nimport {\r\n    LayoutTemplate, Settings, Share2, MessageSquare, Activity,\r\n    PlusCircle, Trash2, Save, Copy, Eye, Lock, Globe, AlertCircle, Edit, X, RotateCw, Download, Package, Mail\r\n} from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { Spinner } from '@/components/ui/Spinner';\r\n\r\ntype FormField = {\r\n    label: string;\r\n    type: string;\r\n    options?: string[];\r\n    required: boolean;\r\n    width?: 'full' | 'half';\r\n};\r\n\r\nexport default function EventBuilderClient({ event, records }: { event: any, records: any[] }) {\r\n    const [activeTab, setActiveTab] = useState('builder');\r\n    const [formFields, setFormFields] = useState<FormField[]>(event.formFields || []);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n    const [isRefreshing, setIsRefreshing] = useState(false);\r\n    const router = useRouter();\r\n\r\n    // Settings State\r\n    const [isPublic, setIsPublic] = useState(event.isPublic || false);\r\n    const [accessCode, setAccessCode] = useState(event.accessCode || '');\r\n\r\n    // Record Editing Logic\r\n    const [editingRecord, setEditingRecord] = useState<any>(null);\r\n    const [isUpdatingRecord, setIsUpdatingRecord] = useState(false);\r\n    const [sendingIds, setSendingIds] = useState<Set<string>>(new Set());\r\n\r\n    const handleUpdateRecord = async () => {\r\n        if (!editingRecord) return;\r\n        setIsUpdatingRecord(true);\r\n        const result = await updateRecordById(editingRecord._id, editingRecord.data);\r\n        if (result.success) {\r\n            alert('Record updated successfully');\r\n            setEditingRecord(null);\r\n            window.location.reload();\r\n        } else {\r\n            alert('Failed to update: ' + result.message);\r\n        }\r\n        setIsUpdatingRecord(false);\r\n    };\r\n\r\n    const handleDeleteRecord = async (id: string) => {\r\n        if (!confirm('Are you sure you want to delete this response?')) return;\r\n        const result = await deleteRecord(id);\r\n        if (result.success) {\r\n            window.location.reload();\r\n        } else {\r\n            alert('Failed to delete');\r\n        }\r\n    };\r\n\r\n    const handleSendResult = async (recordId: string) => {\r\n        setSendingIds(prev => { const n = new Set(prev); n.add(recordId); return n; });\r\n        try {\r\n            const result = await sendResultEmail(recordId);\r\n            if (result.success) {\r\n                alert(result.message);\r\n                router.refresh();\r\n            } else {\r\n                alert('Error: ' + result.message);\r\n            }\r\n        } catch (err) {\r\n            alert('Failed to send');\r\n        } finally {\r\n            setSendingIds(prev => { const n = new Set(prev); n.delete(recordId); return n; });\r\n        }\r\n    };\r\n\r\n    // Builder Logic\r\n    const addField = () => {\r\n        setFormFields([...formFields, { label: '', type: 'text', required: false, width: 'full' }]);\r\n    };\r\n\r\n    const removeField = (index: number) => {\r\n        setFormFields(formFields.filter((_, i) => i !== index));\r\n    };\r\n\r\n    const updateField = (index: number, key: keyof FormField, value: any) => {\r\n        const updated = [...formFields];\r\n        updated[index] = { ...updated[index], [key]: value };\r\n        setFormFields(updated);\r\n    };\r\n\r\n    const saveSchema = async () => {\r\n        setIsSaving(true);\r\n        const result = await updateEventSchema(event._id, formFields);\r\n        alert(result.message);\r\n        setIsSaving(false);\r\n    };\r\n\r\n    const saveSettings = async () => {\r\n        setIsSaving(true);\r\n        const result = await updateEventSettings(event._id, isPublic, accessCode);\r\n        alert(result.message);\r\n        setIsSaving(false);\r\n    };\r\n\r\n    const handleDownloadCSV = () => {\r\n        if (!records.length) return alert('No records to download');\r\n\r\n        // Headers: Only form fields\r\n        const headers = formFields.map(f => f.label);\r\n\r\n        const rows = records.map(rec => {\r\n            // Values: Only form data\r\n            const fieldValues = formFields.map(f => {\r\n                let val = rec.data?.[f.label] || '';\r\n                if (typeof val === 'string') {\r\n                    // Escape quotes and wrap in quotes if contains comma/newline\r\n                    if (val.includes(',') || val.includes('\"') || val.includes('\\n')) {\r\n                        val = `\"${val.replace(/\"/g, '\"\"')}\"`;\r\n                    }\r\n                }\r\n                return val;\r\n            });\r\n\r\n            return fieldValues.join(',');\r\n        });\r\n\r\n        const csvContent = [headers.join(','), ...rows].join('\\n');\r\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n        const url = URL.createObjectURL(blob);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.setAttribute('download', `${event.title.replace(/[^a-z0-9]/gi, '_')}_responses.csv`);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    };\r\n\r\n    const publicUrl = typeof window !== 'undefined' ? `${window.location.origin}/e/${event._id}` : '';\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header Tabs */}\r\n            {/* ... */}\r\n\r\n            {/* IN RENDER - RESPONSES TAB */}\r\n            {/* ... */}\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-lg font-bold text-slate-800\">Collected Responses</h2>\r\n                <button\r\n                    onClick={handleDownloadCSV}\r\n                    className=\"text-sm bg-emerald-50 text-emerald-600 hover:bg-emerald-100 px-3 py-1.5 rounded-lg border border-emerald-200 font-medium transition-colors flex items-center gap-2\"\r\n                >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\" /><polyline points=\"7 10 12 15 17 10\" /><line x1=\"12\" x2=\"12\" y1=\"15\" y2=\"3\" /></svg>\r\n                    Download CSV\r\n                </button>\r\n            </div>\r\n            {/* Inventory Tracker Card */}\r\n            {event.inventory && event.inventory.length > 0 && (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\">\r\n                    {event.inventory.map((item: any, i: number) => {\r\n                        const used = records.length;\r\n                        const remaining = item.startingStock - used;\r\n                        const percentage = Math.max(0, (remaining / item.startingStock) * 100);\r\n                        const isLow = percentage < 20;\r\n\r\n                        return (\r\n                            <div key={i} className={`bg-white p-5 rounded-xl border shadow-sm flex flex-col justify-between ${isLow ? 'border-red-200 bg-red-50' : 'border-slate-200'}`}>\r\n                                <div className=\"flex justify-between items-start mb-2\">\r\n                                    <div>\r\n                                        <h4 className=\"font-bold text-slate-700\">{item.itemName}</h4>\r\n                                        <p className=\"text-xs text-slate-500 uppercase font-semibold tracking-wider\">Stock Level</p>\r\n                                    </div>\r\n                                    <div className={`p-2 rounded-lg ${isLow ? 'bg-red-100 text-red-600' : 'bg-emerald-100 text-emerald-600'}`}>\r\n                                        <Package size={20} />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"mt-2\">\r\n                                    <div className=\"flex items-end gap-2 mb-1\">\r\n                                        <span className={`text-3xl font-bold ${isLow ? 'text-red-700' : 'text-slate-800'}`}>{remaining}</span>\r\n                                        <span className=\"text-sm text-slate-500 mb-1\">/ {item.startingStock} left</span>\r\n                                    </div>\r\n                                    <div className=\"w-full h-2 bg-slate-100 rounded-full overflow-hidden\">\r\n                                        <div\r\n                                            className={`h-full rounded-full transition-all duration-500 ${isLow ? 'bg-red-500' : 'bg-emerald-500'}`}\r\n                                            style={{ width: `${percentage}%` }}\r\n                                        />\r\n                                    </div>\r\n                                    {isLow && <p className=\"text-xs text-red-600 font-bold mt-2 flex items-center gap-1\"><AlertCircle size={12} /> Low Stock Warning</p>}\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"flex items-center gap-6 overflow-x-auto pb-px scrollbar-hide\">\r\n                <button\r\n                    onClick={() => setActiveTab('builder')}\r\n                    className={`flex items-center gap-2 px-4 py-3 border-b-2 font-serif font-bold transition-all whitespace-nowrap ${activeTab === 'builder' ? 'border-brand-gold text-brand-dark' : 'border-transparent text-slate-500 hover:text-brand-dark'}`}\r\n                >\r\n                    <LayoutTemplate size={18} /> Form Builder\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('settings')}\r\n                    className={`flex items-center gap-2 px-4 py-3 border-b-2 font-serif font-bold transition-all whitespace-nowrap ${activeTab === 'settings' ? 'border-brand-gold text-brand-dark' : 'border-transparent text-slate-500 hover:text-brand-dark'}`}\r\n                >\r\n                    <Settings size={18} /> Settings\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('responses')}\r\n                    className={`flex items-center gap-2 px-4 py-3 border-b-2 font-serif font-bold transition-all whitespace-nowrap ${activeTab === 'responses' ? 'border-brand-gold text-brand-dark' : 'border-transparent text-slate-500 hover:text-brand-dark'}`}\r\n                >\r\n                    <MessageSquare size={18} /> Responses <span className=\"text-xs bg-brand-cream px-2 py-0.5 rounded-full text-brand-dark border border-brand-gold/20\">{records.length}</span>\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('share')}\r\n                    className={`flex items-center gap-2 px-4 py-3 border-b-2 font-serif font-bold transition-all whitespace-nowrap ${activeTab === 'share' ? 'border-brand-gold text-brand-dark' : 'border-transparent text-slate-500 hover:text-brand-dark'}`}\r\n                >\r\n                    <Share2 size={18} /> Share\r\n                </button>\r\n                <Link\r\n                    href={`/dashboard/event/${event._id}/analytics`}\r\n                    className=\"flex items-center gap-2 px-4 py-3 border-b-2 border-transparent text-slate-500 hover:text-brand-gold font-serif font-bold transition-colors whitespace-nowrap\"\r\n                >\r\n                    <Activity size={18} /> Analytics\r\n                </Link>\r\n            </div>\r\n\r\n\r\n            {/* TAB CONTENT */}\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 min-h-[500px] p-6\">\r\n\r\n\r\n                {/* BUILDER TAB */}\r\n                {activeTab === 'builder' && (\r\n                    <div className=\"flex flex-col-reverse lg:flex-row h-[calc(100vh-250px)] min-h-[600px]\">\r\n                        {/* LEFT SIDEBAR - TOOLBOX */}\r\n                        <div className=\"w-full lg:w-64 bg-slate-50 border-t lg:border-t-0 lg:border-r border-slate-200 p-4 overflow-y-auto shrink-0 max-h-[250px] lg:max-h-full\">\r\n\r\n\r\n                            {/* Template Section */}\r\n                            <div className=\"mb-6 pb-6 border-b border-slate-200\">\r\n                                <h3 className=\"font-bold text-slate-700 mb-3 px-2\">Quick Start Templates</h3>\r\n                                <p className=\"text-xs text-slate-500 mb-4 px-2\">\r\n                                    Templates are <strong>copied</strong> into this event. Changing proper templates later won't affect this event.\r\n                                </p>\r\n\r\n                                <button\r\n                                    onClick={async () => {\r\n                                        setIsRefreshing(true);\r\n                                        if (records.length > 0) {\r\n                                            if (!confirm('âš ï¸ WARNING: This event already has captured data. Changing the form structure now may mismatch old records. Are you sure you want to proceed?')) {\r\n                                                setIsRefreshing(false);\r\n                                                return;\r\n                                            }\r\n                                        }\r\n\r\n                                        if (formFields.length > 0) {\r\n                                            if (!confirm('This will replace your current fields. Are you sure?')) {\r\n                                                setIsRefreshing(false);\r\n                                                return;\r\n                                            }\r\n                                        }\r\n\r\n                                        // Simulate a small delay for better UX feel (or real async load if needed)\r\n                                        await new Promise(r => setTimeout(r, 500));\r\n\r\n                                        setFormFields([\r\n                                            { label: 'Full Name', type: 'text', required: true, width: 'full' },\r\n                                            { label: 'Age', type: 'number', required: true, width: 'half' },\r\n                                            { label: 'Sex', type: 'select', options: ['Male', 'Female'], required: true, width: 'half' },\r\n                                            { label: 'Phone Number', type: 'text', required: false, width: 'full' },\r\n                                            { label: 'Systolic BP (mmHg)', type: 'number', required: false, width: 'half' },\r\n                                            { label: 'Diastolic BP (mmHg)', type: 'number', required: false, width: 'half' },\r\n                                            { label: 'Weight (kg)', type: 'number', required: false, width: 'half' },\r\n                                            { label: 'Height (cm)', type: 'number', required: false, width: 'half' },\r\n                                            { label: 'BMI', type: 'number', required: false, width: 'full' },\r\n                                            { label: 'Temperature (C)', type: 'number', required: false, width: 'half' },\r\n                                            { label: 'Malaria RDT', type: 'select', options: ['Positive', 'Negative', 'Not Done'], required: false, width: 'half' },\r\n                                            { label: 'Remarks', type: 'textarea', required: false, width: 'full' }\r\n                                        ]);\r\n                                        setIsRefreshing(false);\r\n                                    }}\r\n                                    disabled={isRefreshing}\r\n                                    className=\"w-full flex items-center gap-2 p-3 bg-brand-cream border border-brand-gold/30 text-brand-dark font-serif font-bold rounded-lg hover:bg-brand-gold/10 transition-colors shadow-sm mb-3 disabled:opacity-50\"\r\n                                >\r\n                                    {isRefreshing ? <Spinner size={18} className=\"text-brand-gold\" /> : <LayoutTemplate size={18} className=\"text-brand-gold\" />}\r\n                                    {isRefreshing ? 'Loading...' : 'Load Medical Template'}\r\n                                </button>\r\n\r\n                                <button\r\n                                    onClick={async () => {\r\n                                        setIsRefreshing(true);\r\n                                        if (records.length > 0) {\r\n                                            if (!confirm('âš ï¸ WARNING: This event already has captured data. Changing the form structure now may mismatch old records. Are you sure you want to proceed?')) {\r\n                                                setIsRefreshing(false);\r\n                                                return;\r\n                                            }\r\n                                        }\r\n\r\n                                        if (formFields.length > 0) {\r\n                                            if (!confirm('This will replace your current fields. Are you sure?')) {\r\n                                                setIsRefreshing(false);\r\n                                                return;\r\n                                            }\r\n                                        }\r\n\r\n                                        await new Promise(r => setTimeout(r, 500));\r\n\r\n                                        setFormFields([\r\n                                            { label: 'Full Name', type: 'text', required: true, width: 'full' },\r\n                                            { label: 'Age', type: 'number', required: true, width: 'half' },\r\n                                            { label: 'Sex', type: 'select', options: ['Male', 'Female'], required: true, width: 'half' },\r\n                                            { label: 'PCV', type: 'number', required: true, width: 'half' },\r\n                                            { label: 'Weight (kg)', type: 'number', required: true, width: 'half' },\r\n                                            { label: 'HBsAg', type: 'select', options: ['Non-Reactive', 'Reactive'], required: true, width: 'half' },\r\n                                            { label: 'HIV', type: 'select', options: ['Non-Reactive', 'Reactive'], required: true, width: 'half' },\r\n                                            { label: 'Blood Group', type: 'select', options: ['A', 'B', 'AB', 'O'], required: true, width: 'half' },\r\n                                            { label: 'Rhesus', type: 'select', options: ['Positive', 'Negative'], required: true, width: 'half' },\r\n                                            { label: 'Remarks', type: 'textarea', required: false, width: 'full' }\r\n                                        ]);\r\n                                        setIsRefreshing(false);\r\n                                    }}\r\n                                    disabled={isRefreshing}\r\n                                    className=\"w-full flex items-center gap-2 p-3 bg-red-50 border border-red-200 text-red-800 font-serif font-bold rounded-lg hover:bg-red-100 transition-colors shadow-sm disabled:opacity-50\"\r\n                                >\r\n                                    {isRefreshing ? <Spinner size={18} className=\"text-red-600\" /> : <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"text-red-600\"><path d=\"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\" /><path d=\"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27\" /></svg>}\r\n                                    {isRefreshing ? 'Loading...' : 'Load Blood Drive Template'}\r\n                                </button>\r\n                            </div>\r\n\r\n                            <h3 className=\"font-bold text-slate-700 mb-4 px-2\">Form Elements</h3>\r\n                            <div className=\"space-y-3\">\r\n                                <button onClick={() => setFormFields([...formFields, { label: 'New Text Question', type: 'text', required: true }])} className=\"w-full flex items-center gap-3 p-3 bg-white border border-slate-200 shadow-sm rounded-lg hover:border-brand-gold hover:text-brand-dark transition-all text-left group\">\r\n                                    <div className=\"p-1.5 bg-brand-cream rounded group-hover:bg-brand-gold group-hover:text-white transition-colors\"><LayoutTemplate size={16} /></div>\r\n                                    <span className=\"text-sm font-bold text-slate-600 group-hover:text-brand-dark\">Short Text</span>\r\n                                </button>\r\n                                <button onClick={() => setFormFields([...formFields, { label: 'New Number Question', type: 'number', required: true }])} className=\"w-full flex items-center gap-3 p-3 bg-white border border-slate-200 shadow-sm rounded-lg hover:border-brand-gold hover:text-brand-dark transition-all text-left group\">\r\n                                    <div className=\"p-1.5 bg-brand-cream rounded group-hover:bg-brand-gold group-hover:text-white transition-colors\"><LayoutTemplate size={16} /></div>\r\n                                    <span className=\"text-sm font-bold text-slate-600 group-hover:text-brand-dark\">Number</span>\r\n                                </button>\r\n                                <button onClick={() => setFormFields([...formFields, { label: 'New Date Field', type: 'date', required: true }])} className=\"w-full flex items-center gap-3 p-3 bg-white border border-slate-200 shadow-sm rounded-lg hover:border-brand-gold hover:text-brand-dark transition-all text-left group\">\r\n                                    <div className=\"p-1.5 bg-brand-cream rounded group-hover:bg-brand-gold group-hover:text-white transition-colors\"><LayoutTemplate size={16} /></div>\r\n                                    <span className=\"text-sm font-bold text-slate-600 group-hover:text-brand-dark\">Date</span>\r\n                                </button>\r\n                                <button onClick={() => setFormFields([...formFields, { label: 'New Long Text', type: 'textarea', required: false }])} className=\"w-full flex items-center gap-3 p-3 bg-white border border-slate-200 shadow-sm rounded-lg hover:border-brand-gold hover:text-brand-dark transition-all text-left group\">\r\n                                    <div className=\"p-1.5 bg-brand-cream rounded group-hover:bg-brand-gold group-hover:text-white transition-colors\"><LayoutTemplate size={16} /></div>\r\n                                    <span className=\"text-sm font-bold text-slate-600 group-hover:text-brand-dark\">Long Text</span>\r\n                                </button>\r\n                                <button onClick={() => setFormFields([...formFields, { label: 'New Dropdown', type: 'select', options: ['Option 1', 'Option 2'], required: true }])} className=\"w-full flex items-center gap-3 p-3 bg-white border border-slate-200 shadow-sm rounded-lg hover:border-brand-gold hover:text-brand-dark transition-all text-left group\">\r\n                                    <div className=\"p-1.5 bg-brand-cream rounded group-hover:bg-brand-gold group-hover:text-white transition-colors\"><LayoutTemplate size={16} /></div>\r\n                                    <span className=\"text-sm font-bold text-slate-600 group-hover:text-brand-dark\">Dropdown</span>\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className=\"mt-8 pt-6 border-t border-slate-200\">\r\n                                <button\r\n                                    onClick={saveSchema}\r\n                                    disabled={isSaving}\r\n                                    className=\"w-full py-2.5 bg-brand-dark text-white rounded-lg hover:bg-slate-800 disabled:opacity-50 transition-colors flex items-center justify-center gap-2 font-bold shadow-md\"\r\n                                >\r\n                                    {isSaving ? <Spinner size={16} className=\"text-white\" /> : <Save size={16} />}\r\n                                    Save Form\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        {/* RIGHT MAIN STAGE - CANVAS */}\r\n                        <div className=\"flex-1 bg-slate-100 p-4 lg:p-8 overflow-y-auto w-full\">\r\n                            <div className=\"max-w-3xl mx-auto\">\r\n\r\n                                {/* Safety Warning Banner */}\r\n                                {records.length > 0 && (\r\n                                    <div className=\"mb-6 bg-amber-50 border border-amber-200 p-4 rounded-xl flex items-start gap-3\">\r\n                                        <AlertCircle className=\"text-amber-600 shrink-0 mt-0.5\" size={20} />\r\n                                        <div>\r\n                                            <h4 className=\"font-bold text-amber-900 text-sm\">Active Event Warning</h4>\r\n                                            <p className=\"text-amber-800 text-xs mt-1\">\r\n                                                This event already has <strong>{records.length} collected responses</strong>.\r\n                                                Editing the form questions now may cause data inconsistency (e.g., old answers may not match new labels).\r\n                                                Proceed with caution.\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {formFields.length === 0 ? (\r\n                                    <div className=\"text-center py-20 border-2 border-dashed border-slate-300 rounded-xl bg-slate-50\">\r\n                                        <div className=\"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm\">\r\n                                            <PlusCircle size={24} className=\"text-slate-400\" />\r\n                                        </div>\r\n                                        <h3 className=\"text-lg font-semibold text-slate-700\">Canvas is Empty</h3>\r\n                                        <p className=\"text-slate-500 text-sm mt-1\">Click an element on the left (or top on mobile) to add it.</p>\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                        {formFields.map((field, index) => (\r\n                                            <div\r\n                                                key={index}\r\n                                                className={`bg-white rounded-xl shadow-sm border border-slate-200 p-4 lg:p-5 group hover:border-emerald-400 hover:shadow-md transition-all ${field.width === 'half' ? 'col-span-1' : 'col-span-1 md:col-span-2'}`}\r\n                                            >\r\n                                                <div className=\"flex flex-col lg:flex-row items-start gap-4 h-full\">\r\n\r\n                                                    {/* Drag Handles / Position Controls - Mobile Optimized */}\r\n                                                    <div className=\"flex lg:flex-col gap-1 pt-2 w-full lg:w-auto justify-end lg:justify-start border-b lg:border-b-0 border-slate-100 pb-2 lg:pb-0 mb-2 lg:mb-0\">\r\n                                                        <button\r\n                                                            disabled={index === 0}\r\n                                                            onClick={() => {\r\n                                                                const newFields = [...formFields];\r\n                                                                [newFields[index - 1], newFields[index]] = [newFields[index], newFields[index - 1]];\r\n                                                                setFormFields(newFields);\r\n                                                            }}\r\n                                                            className=\"p-1 px-3 lg:px-1 bg-slate-50 lg:bg-transparent rounded lg:rounded-none text-slate-400 hover:text-emerald-600 disabled:opacity-30 transition-colors\"\r\n                                                            title=\"Move Up\"\r\n                                                        >\r\n                                                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"rotate-270 lg:rotate-0\"><path d=\"m18 15-6-6-6 6\" /></svg>\r\n                                                        </button>\r\n                                                        <button\r\n                                                            disabled={index === formFields.length - 1}\r\n                                                            onClick={() => {\r\n                                                                const newFields = [...formFields];\r\n                                                                [newFields[index + 1], newFields[index]] = [newFields[index], newFields[index + 1]];\r\n                                                                setFormFields(newFields);\r\n                                                            }}\r\n                                                            className=\"p-1 px-3 lg:px-1 bg-slate-50 lg:bg-transparent rounded lg:rounded-none text-slate-400 hover:text-emerald-600 disabled:opacity-30 transition-colors\"\r\n                                                            title=\"Move Down\"\r\n                                                        >\r\n                                                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"rotate-270 lg:rotate-0\"><path d=\"m6 9 6 6 6-6\" /></svg>\r\n                                                        </button>\r\n                                                    </div>\r\n\r\n                                                    <div className=\"flex-1 space-y-4 w-full\">\r\n                                                        {/* Label & Type Row */}\r\n                                                        <div className=\"flex flex-col lg:flex-row lg:items-center gap-3\">\r\n                                                            <input\r\n                                                                type=\"text\"\r\n                                                                value={field.label}\r\n                                                                onChange={(e) => updateField(index, 'label', e.target.value)}\r\n                                                                className=\"flex-1 px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:bg-white focus:ring-2 focus:ring-brand-gold outline-none font-bold text-brand-dark transition-colors placeholder:text-slate-400 w-full\"\r\n                                                                placeholder=\"Enter question title...\"\r\n                                                            />\r\n                                                            <div className=\"flex items-center gap-2 p-1 bg-slate-50 rounded-lg border border-slate-200 self-start md:self-auto\">\r\n                                                                <span className=\"text-xs font-semibold text-slate-500 uppercase px-2\">{field.type}</span>\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n                                                        {field.type === 'select' && (\r\n                                                            <div className=\"pl-1\">\r\n                                                                <label className=\"text-xs font-semibold text-slate-500 uppercase tracking-wide\">Options</label>\r\n                                                                <input\r\n                                                                    type=\"text\"\r\n                                                                    value={field.options?.join(', ') || ''}\r\n                                                                    onChange={(e) => updateField(index, 'options', e.target.value.split(',').map(s => s.trim()))}\r\n                                                                    className=\"w-full mt-1 px-3 py-2 text-sm border border-slate-200 rounded-md focus:border-brand-gold outline-none\"\r\n                                                                    placeholder=\"Option 1, Option 2, Option 3\"\r\n                                                                />\r\n                                                            </div>\r\n                                                        )}\r\n\r\n                                                        <div className=\"flex flex-wrap items-center justify-between pt-2 gap-4\">\r\n                                                            <div className=\"flex items-center gap-4\">\r\n                                                                <label className=\"flex items-center gap-2 text-sm text-slate-600 cursor-pointer select-none hover:text-brand-dark transition-colors\">\r\n                                                                    <div className={`w-4 h-4 rounded border flex items-center justify-center transition-colors ${field.required ? 'bg-brand-dark border-brand-dark text-white' : 'border-slate-300 bg-white'}`}>\r\n                                                                        {field.required && <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M20 6 9 17l-5-5\" /></svg>}\r\n                                                                    </div>\r\n                                                                    <input\r\n                                                                        type=\"checkbox\"\r\n                                                                        checked={field.required}\r\n                                                                        onChange={(e) => updateField(index, 'required', e.target.checked)}\r\n                                                                        className=\"hidden\"\r\n                                                                    />\r\n                                                                    Required\r\n                                                                </label>\r\n\r\n                                                                {/* WIDTH TOGGLE */}\r\n                                                                <div className=\"flex items-center bg-slate-100 rounded-lg p-0.5 border border-slate-200\">\r\n                                                                    <button\r\n                                                                        onClick={() => updateField(index, 'width', 'half')}\r\n                                                                        className={`px-2 py-1 text-xs font-medium rounded-md transition-all ${field.width === 'half' ? 'bg-white text-brand-dark shadow-sm ring-1 ring-slate-200' : 'text-slate-500 hover:text-slate-700'}`}\r\n                                                                    >\r\n                                                                        50%\r\n                                                                    </button>\r\n                                                                    <button\r\n                                                                        onClick={() => updateField(index, 'width', 'full')}\r\n                                                                        className={`px-2 py-1 text-xs font-medium rounded-md transition-all ${!field.width || field.width === 'full' ? 'bg-white text-brand-dark shadow-sm ring-1 ring-slate-200' : 'text-slate-500 hover:text-slate-700'}`}\r\n                                                                    >\r\n                                                                        100%\r\n                                                                    </button>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                            <div className=\"flex items-center gap-2 ml-auto\">\r\n                                                                <button\r\n                                                                    onClick={() => {\r\n                                                                        const newFields = [...formFields];\r\n                                                                        const fieldToCopy = JSON.parse(JSON.stringify(formFields[index]));\r\n                                                                        fieldToCopy.label = `${fieldToCopy.label} (Copy)`;\r\n                                                                        newFields.splice(index + 1, 0, fieldToCopy);\r\n                                                                        setFormFields(newFields);\r\n                                                                    }}\r\n                                                                    className=\"text-slate-400 hover:text-blue-500 px-2 py-1 transition-colors\"\r\n                                                                    title=\"Duplicate\"\r\n                                                                >\r\n                                                                    <Copy size={16} />\r\n                                                                </button>\r\n\r\n                                                                <button\r\n                                                                    onClick={() => removeField(index)}\r\n                                                                    className=\"text-slate-400 hover:text-red-500 px-2 py-1 transition-colors\"\r\n                                                                    title=\"Remove\"\r\n                                                                >\r\n                                                                    <Trash2 size={16} />\r\n                                                                </button>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* SETTINGS TAB */}\r\n                {activeTab === 'settings' && (\r\n                    <div className=\"max-w-2xl mx-auto space-y-8\">\r\n                        <div>\r\n                            <h2 className=\"text-lg font-bold text-slate-800 mb-6\">Security & Access</h2>\r\n\r\n                            <div className=\"bg-slate-50 p-6 rounded-xl border border-slate-200 space-y-6\">\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <div className={`p-2 rounded-lg ${isPublic ? 'bg-brand-cream text-brand-gold' : 'bg-slate-200 text-slate-500'}`}>\r\n                                            <Globe size={24} />\r\n                                        </div>\r\n                                        <div>\r\n                                            <h3 className=\"font-semibold text-slate-800\">Public Access Link</h3>\r\n                                            <p className=\"text-sm text-slate-500\">Allow anyone with the link to submit data</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            className=\"sr-only peer\"\r\n                                            checked={isPublic}\r\n                                            onChange={(e) => setIsPublic(e.target.checked)}\r\n                                        />\r\n                                        <div className=\"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-gold/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-brand-dark\"></div>\r\n                                    </label>\r\n                                </div>\r\n\r\n                                <div className=\"border-t border-slate-200 pt-6\">\r\n                                    <div className=\"flex items-center gap-3 mb-4\">\r\n                                        <div className={`p-2 rounded-lg ${accessCode ? 'bg-brand-cream text-brand-gold' : 'bg-slate-200 text-slate-500'}`}>\r\n                                            <Lock size={24} />\r\n                                        </div>\r\n                                        <div>\r\n                                            <h3 className=\"font-semibold text-slate-800\">Password Protection</h3>\r\n                                            <p className=\"text-sm text-slate-500\">Optional access code required to view form</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={accessCode}\r\n                                        onChange={(e) => setAccessCode(e.target.value)}\r\n                                        placeholder=\"Enter secure access code (e.g. EVENT2024)\"\r\n                                        className=\"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-brand-gold outline-none transition-all focus:border-brand-gold\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex justify-end\">\r\n                            <button\r\n                                onClick={saveSettings}\r\n                                disabled={isSaving}\r\n                                className=\"flex items-center gap-2 px-6 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors\"\r\n                            >\r\n                                {isSaving ? <Spinner size={18} className=\"text-white\" /> : <Save size={18} />}\r\n                                Save Settings\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* RESPONSES TAB */}\r\n                {activeTab === 'responses' && (\r\n                    <div>\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <h2 className=\"text-lg font-bold text-slate-800\">Collected Responses</h2>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <button\r\n                                    onClick={() => {\r\n                                        setIsRefreshing(true);\r\n                                        router.refresh();\r\n                                        setTimeout(() => setIsRefreshing(false), 1000);\r\n                                    }}\r\n                                    className=\"p-2 text-slate-500 hover:text-brand-dark hover:bg-slate-100 rounded-lg transition-colors border border-transparent hover:border-slate-200\"\r\n                                    title=\"Refresh Data\"\r\n                                >\r\n                                    {isRefreshing ? <Spinner size={18} className=\"text-brand-gold\" /> : <RotateCw size={18} />}\r\n                                </button>\r\n                                <button\r\n                                    onClick={handleDownloadCSV}\r\n                                    className=\"text-sm bg-brand-cream text-brand-dark border border-brand-gold/30 hover:bg-brand-gold hover:text-white px-3 py-1.5 rounded-lg font-bold transition-colors flex items-center gap-2\"\r\n                                >\r\n                                    <Download size={16} /> Download CSV\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {records.length === 0 ? (\r\n                            <div className=\"text-center py-12 text-slate-400\">\r\n                                <MessageSquare size={48} className=\"mx-auto mb-4 opacity-50\" />\r\n                                <p>No responses yet.</p>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"overflow-x-auto border border-slate-200 rounded-lg\">\r\n                                <table className=\"w-full text-left text-sm whitespace-nowrap\">\r\n                                    <thead className=\"bg-slate-50 text-slate-700 border-b border-slate-200\">\r\n                                        <tr>\r\n                                            <th className=\"px-4 py-3 font-semibold\">Time</th>\r\n                                            <th className=\"px-4 py-3 font-semibold\">Code</th>\r\n                                            {/* Render headings based on form schema if available, otherwise generic */}\r\n                                            {formFields.slice(0, 4).map((f, i) => (\r\n                                                <th key={i} className=\"px-4 py-3 font-semibold\">{f.label}</th>\r\n                                            ))}\r\n                                            <th className=\"px-4 py-3 font-semibold\">User</th>\r\n                                            <th className=\"px-4 py-3 font-semibold text-right\">Actions</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody className=\"divide-y divide-slate-100\">\r\n                                        {records.map((rec) => (\r\n                                            <tr key={rec._id} className=\"hover:bg-slate-50\">\r\n                                                <td className=\"px-4 py-3 text-slate-500\">\r\n                                                    {new Date(rec.createdAt).toLocaleString()}\r\n                                                </td>\r\n                                                <td className=\"px-4 py-3 font-mono font-bold text-brand-dark\">\r\n                                                    {rec.retrievalCode || '-'}\r\n                                                </td>\r\n                                                {formFields.slice(0, 4).map((f, i) => (\r\n                                                    <td key={i} className=\"px-4 py-3\">\r\n                                                        {rec.data?.[f.label] || '-'}\r\n                                                    </td>\r\n                                                ))}\r\n                                                <td className=\"px-4 py-3 text-slate-500\">\r\n                                                    {rec.recordedBy ? 'Staff' : 'Public'}\r\n                                                </td>\r\n                                                <td className=\"px-4 py-3 text-right\">\r\n                                                    <div className=\"flex items-center justify-end gap-2\">\r\n                                                        <button\r\n                                                            onClick={() => handleSendResult(rec._id)}\r\n                                                            disabled={sendingIds.has(rec._id)}\r\n                                                            className={`flex items-center gap-1 px-2 py-1 rounded text-xs font-bold transition-colors border ${rec.resultEmailSent\r\n                                                                    ? 'bg-slate-50 text-slate-400 border-slate-200 hover:bg-slate-100'\r\n                                                                    : 'bg-emerald-50 text-emerald-600 border-emerald-200 hover:bg-emerald-100'\r\n                                                                }`}\r\n                                                            title={rec.resultEmailSent ? \"Result already sent. Click to re-send.\" : \"Send Result Email\"}\r\n                                                        >\r\n                                                            {sendingIds.has(rec._id) ? <Spinner size={12} className={rec.resultEmailSent ? \"text-slate-400\" : \"text-emerald-600\"} /> : <Mail size={12} />}\r\n                                                            {rec.resultEmailSent ? 'Re-send' : 'Send Result'}\r\n                                                        </button>\r\n                                                        <button\r\n                                                            onClick={() => setEditingRecord(JSON.parse(JSON.stringify(rec)))}\r\n                                                            className=\"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors\"\r\n                                                            title=\"Edit\"\r\n                                                        >\r\n                                                            <Edit size={16} />\r\n                                                        </button>\r\n                                                        <button\r\n                                                            onClick={() => handleDeleteRecord(rec._id)}\r\n                                                            className=\"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors\"\r\n                                                            title=\"Delete\"\r\n                                                        >\r\n                                                            <Trash2 size={16} />\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </td>\r\n                                            </tr>\r\n                                        ))}\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* SHARE TAB */}\r\n                {activeTab === 'share' && (\r\n                    <div className=\"max-w-xl mx-auto text-center space-y-8 py-8\">\r\n                        <div className=\"w-20 h-20 bg-brand-cream text-brand-gold rounded-full flex items-center justify-center mx-auto mb-6\">\r\n                            <Share2 size={40} />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <h2 className=\"text-2xl font-bold text-slate-800\">Share Your Event Form</h2>\r\n                            <p className=\"text-slate-500 mt-2\">Send this link to volunteers or patients to collect data.</p>\r\n                        </div>\r\n\r\n                        {!isPublic ? (\r\n                            <div className=\"bg-amber-50 border border-amber-200 rounded-xl p-4 text-amber-800 text-sm\">\r\n                                <AlertCircle className=\"w-5 h-5 inline-block mr-2 -mt-0.5\" />\r\n                                <strong>Warning:</strong> Public access is currently disabled. Enable it in the <strong>Settings</strong> tab.\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"space-y-4\">\r\n                                <div className=\"flex items-center gap-2 p-2 bg-slate-100 rounded-lg border border-slate-200\">\r\n                                    <div className=\"flex-1 text-left px-2 font-mono text-sm text-slate-600 truncate\">\r\n                                        {publicUrl}\r\n                                    </div>\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            navigator.clipboard.writeText(publicUrl);\r\n                                            alert('Copied to clipboard!');\r\n                                        }}\r\n                                        className=\"p-2 hover:bg-white rounded-md transition-colors\"\r\n                                        title=\"Copy Link\"\r\n                                    >\r\n                                        <Copy size={18} />\r\n                                    </button>\r\n                                    <Link href={`/e/${event._id}`} target=\"_blank\" className=\"p-2 hover:bg-white rounded-md transition-colors text-emerald-600\">\r\n                                        <Eye size={18} />\r\n                                    </Link>\r\n                                </div>\r\n\r\n                                {accessCode && (\r\n                                    <div className=\"inline-block px-4 py-1 bg-slate-100 rounded-full text-sm font-medium text-slate-600\">\r\n                                        Access Code: <span className=\"text-slate-900\">{accessCode}</span>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* EDIT RECORD MODAL */}\r\n            {\r\n                editingRecord && (\r\n                    <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in\">\r\n                        <div className=\"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto flex flex-col\">\r\n                            <div className=\"p-6 border-b border-slate-100 flex justify-between items-center sticky top-0 bg-white z-10\">\r\n                                <h3 className=\"text-xl font-bold text-slate-800\">Edit Record</h3>\r\n                                <button onClick={() => setEditingRecord(null)} className=\"text-slate-400 hover:text-slate-600 transition-colors\">\r\n                                    <X size={24} />\r\n                                </button>\r\n                            </div>\r\n\r\n\r\n                            <div className=\"p-8 space-y-6 flex-1 overflow-y-auto\">\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                    {formFields.map((field, i) => (\r\n                                        <div key={i} className={field.type === 'textarea' || field.width === 'full' ? 'col-span-1 md:col-span-2' : 'col-span-1'}>\r\n                                            <label className=\"block text-sm font-semibold text-slate-700 mb-2\">{field.label}</label>\r\n                                            {field.type === 'textarea' ? (\r\n                                                <textarea\r\n                                                    value={editingRecord.data?.[field.label] || ''}\r\n                                                    onChange={(e) => setEditingRecord({ ...editingRecord, data: { ...editingRecord.data, [field.label]: e.target.value } })}\r\n                                                    className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition-all\"\r\n                                                    rows={4}\r\n                                                />\r\n                                            ) : field.type === 'select' ? (\r\n                                                <select\r\n                                                    value={editingRecord.data?.[field.label] || ''}\r\n                                                    onChange={(e) => setEditingRecord({ ...editingRecord, data: { ...editingRecord.data, [field.label]: e.target.value } })}\r\n                                                    className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-brand-gold focus:border-brand-gold outline-none transition-all bg-white\"\r\n                                                >\r\n                                                    <option value=\"\">Select Option</option>\r\n                                                    {field.options?.map((opt, idx) => (\r\n                                                        <option key={idx} value={opt}>{opt}</option>\r\n                                                    ))}\r\n                                                </select>\r\n                                            ) : (\r\n                                                <input\r\n                                                    type={field.type === 'number' ? 'number' : field.type === 'date' ? 'date' : 'text'}\r\n                                                    value={editingRecord.data?.[field.label] || ''}\r\n                                                    onChange={(e) => setEditingRecord({ ...editingRecord, data: { ...editingRecord.data, [field.label]: e.target.value } })}\r\n                                                    className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all\"\r\n                                                />\r\n                                            )}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"p-6 bg-slate-50 border-t border-slate-100 flex justify-end gap-3 sticky bottom-0 z-10\">\r\n                                <button\r\n                                    onClick={() => setEditingRecord(null)}\r\n                                    className=\"px-5 py-2.5 text-slate-600 font-medium hover:bg-slate-200 rounded-lg transition-colors\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    onClick={handleUpdateRecord}\r\n                                    disabled={isUpdatingRecord}\r\n                                    className=\"px-5 py-2.5 bg-emerald-600 text-white font-semibold rounded-lg hover:bg-emerald-700 flex items-center gap-2 shadow-lg shadow-emerald-200 transition-all hover:translate-y-[-1px]\"\r\n                                >\r\n                                    {isUpdatingRecord ? <Spinner className=\"text-white\" size={18} /> : <Save size={18} />}\r\n                                    Save Changes\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n        </div >\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx","messages":[{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:31:17\n  29 |         if (event.status !== 'approved' && session.user.role !== 'admin') {\n  30 |             return (\n> 31 |                 <div className=\"max-w-2xl mx-auto py-12 text-center\">\n     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 32 |                     <div className=\"w-20 h-20 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-6\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 33 |                         <Clock size={40} />\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 44 |                     </Link>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 45 |                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  46 |             );\n  47 |         }\n  48 |","line":31,"column":17,"nodeType":null,"endLine":45,"endColumn":23},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:32:21\n  30 |             return (\n  31 |                 <div className=\"max-w-2xl mx-auto py-12 text-center\">\n> 32 |                     <div className=\"w-20 h-20 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-6\">\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 33 |                         <Clock size={40} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 34 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  35 |                     <h1 className=\"text-2xl font-bold text-slate-800 mb-2\">Review in Progress</h1>\n  36 |                     <p className=\"text-slate-600 mb-6\">\n  37 |                         This event is currently pending Admin approval. You will be able to design the form once it is approved.","line":32,"column":21,"nodeType":null,"endLine":34,"endColumn":27},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:33:25\n  31 |                 <div className=\"max-w-2xl mx-auto py-12 text-center\">\n  32 |                     <div className=\"w-20 h-20 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-6\">\n> 33 |                         <Clock size={40} />\n     |                         ^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  34 |                     </div>\n  35 |                     <h1 className=\"text-2xl font-bold text-slate-800 mb-2\">Review in Progress</h1>\n  36 |                     <p className=\"text-slate-600 mb-6\">","line":33,"column":25,"nodeType":null,"endLine":33,"endColumn":44},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:35:21\n  33 |                         <Clock size={40} />\n  34 |                     </div>\n> 35 |                     <h1 className=\"text-2xl font-bold text-slate-800 mb-2\">Review in Progress</h1>\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  36 |                     <p className=\"text-slate-600 mb-6\">\n  37 |                         This event is currently pending Admin approval. You will be able to design the form once it is approved.\n  38 |                     </p>","line":35,"column":21,"nodeType":null,"endLine":35,"endColumn":99},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:36:21\n  34 |                     </div>\n  35 |                     <h1 className=\"text-2xl font-bold text-slate-800 mb-2\">Review in Progress</h1>\n> 36 |                     <p className=\"text-slate-600 mb-6\">\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 37 |                         This event is currently pending Admin approval. You will be able to design the form once it is approved.\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 38 |                     </p>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  39 |                     <Link\n  40 |                         href=\"/dashboard/my-events\"\n  41 |                         className=\"inline-flex items-center gap-2 px-6 py-2.5 bg-slate-100 font-medium text-slate-700 rounded-lg hover:bg-slate-200 transition-colors\"","line":36,"column":21,"nodeType":null,"endLine":38,"endColumn":25},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:39:21\n  37 |                         This event is currently pending Admin approval. You will be able to design the form once it is approved.\n  38 |                     </p>\n> 39 |                     <Link\n     |                     ^^^^^\n> 40 |                         href=\"/dashboard/my-events\"\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 41 |                         className=\"inline-flex items-center gap-2 px-6 py-2.5 bg-slate-100 font-medium text-slate-700 rounded-lg hover:bg-slate-200 transition-colors\"\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 42 |                     >\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 43 |                         <ArrowLeft size={18} /> Back to Dashboard\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 44 |                     </Link>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  45 |                 </div>\n  46 |             );\n  47 |         }","line":39,"column":21,"nodeType":null,"endLine":44,"endColumn":28},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:43:25\n  41 |                         className=\"inline-flex items-center gap-2 px-6 py-2.5 bg-slate-100 font-medium text-slate-700 rounded-lg hover:bg-slate-200 transition-colors\"\n  42 |                     >\n> 43 |                         <ArrowLeft size={18} /> Back to Dashboard\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  44 |                     </Link>\n  45 |                 </div>\n  46 |             );","line":43,"column":25,"nodeType":null,"endLine":43,"endColumn":48},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:53:13\n  51 |\n  52 |         return (\n> 53 |             <div className=\"space-y-6\">\n     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 54 |                 <div className=\"flex items-center gap-4 mb-4\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 55 |                     <Link href=\"/dashboard/my-events\" className=\"p-2 text-slate-400 hover:text-slate-600 transition-colors\">\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 69 |                 <EventBuilderClient event={JSON.parse(JSON.stringify(event))} records={JSON.parse(JSON.stringify(records))} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 70 |             </div>\n     | ^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  71 |         );\n  72 |     } catch (error) {\n  73 |         console.error(\"Database connection failed:\", error);","line":53,"column":13,"nodeType":null,"endLine":70,"endColumn":19},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:54:17\n  52 |         return (\n  53 |             <div className=\"space-y-6\">\n> 54 |                 <div className=\"flex items-center gap-4 mb-4\">\n     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 55 |                     <Link href=\"/dashboard/my-events\" className=\"p-2 text-slate-400 hover:text-slate-600 transition-colors\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 56 |                         <ArrowLeft size={20} />\n     â€¦\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 66 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 67 |                 </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  68 |\n  69 |                 <EventBuilderClient event={JSON.parse(JSON.stringify(event))} records={JSON.parse(JSON.stringify(records))} />\n  70 |             </div>","line":54,"column":17,"nodeType":null,"endLine":67,"endColumn":23},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:55:21\n  53 |             <div className=\"space-y-6\">\n  54 |                 <div className=\"flex items-center gap-4 mb-4\">\n> 55 |                     <Link href=\"/dashboard/my-events\" className=\"p-2 text-slate-400 hover:text-slate-600 transition-colors\">\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 56 |                         <ArrowLeft size={20} />\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 57 |                     </Link>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  58 |                     <div>\n  59 |                         <h1 className=\"text-2xl font-bold text-slate-800\">{event.title}</h1>\n  60 |                         <p className=\"text-sm text-slate-500\">Event Manager</p>","line":55,"column":21,"nodeType":null,"endLine":57,"endColumn":28},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:56:25\n  54 |                 <div className=\"flex items-center gap-4 mb-4\">\n  55 |                     <Link href=\"/dashboard/my-events\" className=\"p-2 text-slate-400 hover:text-slate-600 transition-colors\">\n> 56 |                         <ArrowLeft size={20} />\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  57 |                     </Link>\n  58 |                     <div>\n  59 |                         <h1 className=\"text-2xl font-bold text-slate-800\">{event.title}</h1>","line":56,"column":25,"nodeType":null,"endLine":56,"endColumn":48},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:58:21\n  56 |                         <ArrowLeft size={20} />\n  57 |                     </Link>\n> 58 |                     <div>\n     |                     ^^^^^\n> 59 |                         <h1 className=\"text-2xl font-bold text-slate-800\">{event.title}</h1>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 60 |                         <p className=\"text-sm text-slate-500\">Event Manager</p>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 61 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  62 |                     <div className=\"ml-auto\">\n  63 |                         <span className=\"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold uppercase tracking-wide\">\n  64 |                             Approved","line":58,"column":21,"nodeType":null,"endLine":61,"endColumn":27},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:59:25\n  57 |                     </Link>\n  58 |                     <div>\n> 59 |                         <h1 className=\"text-2xl font-bold text-slate-800\">{event.title}</h1>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  60 |                         <p className=\"text-sm text-slate-500\">Event Manager</p>\n  61 |                     </div>\n  62 |                     <div className=\"ml-auto\">","line":59,"column":25,"nodeType":null,"endLine":59,"endColumn":93},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:60:25\n  58 |                     <div>\n  59 |                         <h1 className=\"text-2xl font-bold text-slate-800\">{event.title}</h1>\n> 60 |                         <p className=\"text-sm text-slate-500\">Event Manager</p>\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  61 |                     </div>\n  62 |                     <div className=\"ml-auto\">\n  63 |                         <span className=\"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold uppercase tracking-wide\">","line":60,"column":25,"nodeType":null,"endLine":60,"endColumn":80},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:62:21\n  60 |                         <p className=\"text-sm text-slate-500\">Event Manager</p>\n  61 |                     </div>\n> 62 |                     <div className=\"ml-auto\">\n     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 63 |                         <span className=\"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold uppercase tracking-wide\">\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 64 |                             Approved\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 65 |                         </span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 66 |                     </div>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  67 |                 </div>\n  68 |\n  69 |                 <EventBuilderClient event={JSON.parse(JSON.stringify(event))} records={JSON.parse(JSON.stringify(records))} />","line":62,"column":21,"nodeType":null,"endLine":66,"endColumn":27},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:63:25\n  61 |                     </div>\n  62 |                     <div className=\"ml-auto\">\n> 63 |                         <span className=\"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold uppercase tracking-wide\">\n     |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 64 |                             Approved\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 65 |                         </span>\n     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  66 |                     </div>\n  67 |                 </div>\n  68 |","line":63,"column":25,"nodeType":null,"endLine":65,"endColumn":32},{"ruleId":"react-hooks/error-boundaries","severity":2,"message":"Error: Avoid constructing JSX within try/catch\n\nReact does not immediately render components when JSX is rendered, so any errors from this component will not be caught by the try/catch. To catch errors in rendering a given component, wrap that component in an error boundary. (https://react.dev/reference/react/Component#catching-rendering-errors-with-an-error-boundary).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\event\\[id]\\builder\\page.tsx:69:17\n  67 |                 </div>\n  68 |\n> 69 |                 <EventBuilderClient event={JSON.parse(JSON.stringify(event))} records={JSON.parse(JSON.stringify(records))} />\n     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Avoid constructing JSX within try/catch\n  70 |             </div>\n  71 |         );\n  72 |     } catch (error) {","line":69,"column":17,"nodeType":null,"endLine":69,"endColumn":127}],"suppressedMessages":[],"errorCount":17,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { auth } from \"@/auth\";\r\nimport dbConnect from \"@/lib/db\";\r\nimport Event from \"@/models/Event\";\r\nimport Record from \"@/models/Record\";\r\nimport EventBuilderClient from \"./EventBuilderClient\";\r\nimport { notFound, redirect } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { ArrowLeft, Clock, X } from \"lucide-react\";\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport default async function BuilderPage({ params }: { params: Promise<{ id: string }> }) {\r\n    const session = await auth();\r\n    if (!session?.user) redirect(\"/login\");\r\n\r\n    const { id } = await params;\r\n\r\n    try {\r\n        await dbConnect();\r\n\r\n        const event = await Event.findById(id);\r\n        if (!event) notFound();\r\n\r\n        // Authorization\r\n        if (event.createdBy.toString() !== session.user.id && session.user.role !== 'admin') {\r\n            redirect(\"/dashboard/my-events\");\r\n        }\r\n\r\n        if (event.status !== 'approved' && session.user.role !== 'admin') {\r\n            return (\r\n                <div className=\"max-w-2xl mx-auto py-12 text-center\">\r\n                    <div className=\"w-20 h-20 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n                        <Clock size={40} />\r\n                    </div>\r\n                    <h1 className=\"text-2xl font-bold text-slate-800 mb-2\">Review in Progress</h1>\r\n                    <p className=\"text-slate-600 mb-6\">\r\n                        This event is currently pending Admin approval. You will be able to design the form once it is approved.\r\n                    </p>\r\n                    <Link\r\n                        href=\"/dashboard/my-events\"\r\n                        className=\"inline-flex items-center gap-2 px-6 py-2.5 bg-slate-100 font-medium text-slate-700 rounded-lg hover:bg-slate-200 transition-colors\"\r\n                    >\r\n                        <ArrowLeft size={18} /> Back to Dashboard\r\n                    </Link>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // Fetch records (limit 100 for performance, or pagination later)\r\n        const records = await Record.find({ eventId: id }).sort({ createdAt: -1 }).limit(100);\r\n\r\n        return (\r\n            <div className=\"space-y-6\">\r\n                <div className=\"flex items-center gap-4 mb-4\">\r\n                    <Link href=\"/dashboard/my-events\" className=\"p-2 text-slate-400 hover:text-slate-600 transition-colors\">\r\n                        <ArrowLeft size={20} />\r\n                    </Link>\r\n                    <div>\r\n                        <h1 className=\"text-2xl font-bold text-slate-800\">{event.title}</h1>\r\n                        <p className=\"text-sm text-slate-500\">Event Manager</p>\r\n                    </div>\r\n                    <div className=\"ml-auto\">\r\n                        <span className=\"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold uppercase tracking-wide\">\r\n                            Approved\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <EventBuilderClient event={JSON.parse(JSON.stringify(event))} records={JSON.parse(JSON.stringify(records))} />\r\n            </div>\r\n        );\r\n    } catch (error) {\r\n        console.error(\"Database connection failed:\", error);\r\n        return (\r\n            <div className=\"max-w-xl mx-auto mt-20 p-12 text-center text-slate-500 bg-white rounded-xl border border-red-100 shadow-sm\">\r\n                <div className=\"w-16 h-16 bg-red-50 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                    <X size={32} />\r\n                </div>\r\n                <h2 className=\"text-xl font-bold text-slate-800 mb-2\">Connection Error</h2>\r\n                <p className=\"mb-4\">\r\n                    Could not connect to the database to load the event.\r\n                </p>\r\n                <div className=\"text-xs bg-slate-100 p-4 rounded text-left overflow-auto font-mono text-slate-600\">\r\n                    {(error as Error).message || \"Unknown error\"}\r\n                </div>\r\n                <div className=\"mt-6\">\r\n                    <Link href=\"/dashboard/my-events\" className=\"text-brand-dark hover:underline flex items-center justify-center gap-2\">\r\n                        <ArrowLeft size={16} /> Return to Dashboard\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\my-events\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":131,"column":75,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":131,"endColumn":78,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8394,8397],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8394,8397],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":185,"column":123,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[11943,12122],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&apos;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[11943,12122],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&lsquo;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[11943,12122],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&#39;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[11943,12122],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&rsquo;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { auth } from \"@/auth\";\r\nimport dbConnect from \"@/lib/db\";\r\nimport Event from \"@/models/Event\";\r\nimport { Calendar, MapPin, CheckCircle, Clock, FileText, PlusCircle, X } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\n\r\nimport RefreshButton from \"@/components/ui/RefreshButton\";\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport default async function MyEventsPage() {\r\n    try {\r\n        const session = await auth();\r\n        await dbConnect();\r\n\r\n        const events = await Event.find({ createdBy: session?.user?.id }).sort({ createdAt: -1 });\r\n\r\n        return (\r\n            <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                        <h2 className=\"text-3xl font-serif font-bold text-brand-dark\">My Projects</h2>\r\n                        <p className=\"text-slate-500 mt-1\">View and manage your research initiatives.</p>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <RefreshButton />\r\n                        <Link\r\n                            href=\"/dashboard/create-event\"\r\n                            className=\"px-5 py-2.5 bg-brand-dark text-white rounded-lg hover:bg-slate-800 transition-colors font-medium shadow-lg flex items-center gap-2\"\r\n                        >\r\n                            <PlusCircle size={18} />\r\n                            Create New Project\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 gap-8\">\r\n                    {events.map((event) => (\r\n                        <div key={event._id.toString()} className=\"bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 overflow-hidden group hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] transition-all\">\r\n\r\n                            {/* Cover Image */}\r\n                            {event.coverImage ? (\r\n                                <div className=\"relative w-full h-48 bg-slate-100\">\r\n                                    <Image\r\n                                        src={event.coverImage}\r\n                                        alt={event.title}\r\n                                        fill\r\n                                        className=\"object-cover group-hover:scale-105 transition-transform duration-700\"\r\n                                    />\r\n                                    <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\"></div>\r\n                                    <div className=\"absolute bottom-4 left-6 text-white\">\r\n                                        <h3 className=\"text-2xl font-bold font-serif shadow-black drop-shadow-md\">{event.title}</h3>\r\n                                    </div>\r\n                                </div>\r\n                            ) : (\r\n                                // Fallback header strip if no image\r\n                                <div className=\"h-4 bg-brand-dark w-full\"></div>\r\n                            )}\r\n\r\n                            <div className=\"p-6\">\r\n                                <div className=\"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-6\">\r\n                                    <div className=\"flex-1\">\r\n                                        {!event.coverImage && (\r\n                                            <h3 className=\"text-2xl font-bold font-serif text-brand-dark mb-2\">{event.title}</h3>\r\n                                        )}\r\n\r\n                                        <div className=\"flex items-center gap-3 mb-3\">\r\n                                            <span className={`px-2.5 py-1 rounded-full text-xs font-bold border flex items-center gap-1.5 uppercase tracking-wider\r\n                                                ${event.status === 'approved' ? 'bg-green-50 text-green-700 border-green-200' : 'bg-amber-50 text-amber-700 border-amber-200'}\r\n                                            `}>\r\n                                                {event.status === 'approved' ? (\r\n                                                    <>\r\n                                                        <CheckCircle size={12} /> Approved\r\n                                                    </>\r\n                                                ) : (\r\n                                                    <>\r\n                                                        <Clock size={12} /> Pending Approval\r\n                                                    </>\r\n                                                )}\r\n                                            </span>\r\n                                        </div>\r\n\r\n                                        {event.description && (\r\n                                            <p className=\"text-slate-600 mb-4 leading-relaxed max-w-3xl\">{event.description}</p>\r\n                                        )}\r\n\r\n                                        <div className=\"flex flex-wrap items-center gap-6 text-sm text-slate-500\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <Calendar size={16} className=\"text-brand-gold\" />\r\n                                                <span className=\"font-medium text-brand-dark\">\r\n                                                    {new Date(event.date).toLocaleDateString('en-US', {\r\n                                                        weekday: 'short',\r\n                                                        year: 'numeric',\r\n                                                        month: 'long',\r\n                                                        day: 'numeric'\r\n                                                    })}\r\n                                                </span>\r\n                                            </div>\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <MapPin size={16} className=\"text-brand-gold\" />\r\n                                                <span className=\"font-medium text-brand-dark\">{event.location}</span>\r\n                                            </div>\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <FileText size={16} className=\"text-brand-gold\" />\r\n                                                <span>{event.formFields?.length || 0} collection fields</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {event.status === 'approved' && (\r\n                                        <div className=\"flex-shrink-0 pt-2\">\r\n                                            <Link\r\n                                                href={`/dashboard/event/${event._id}/builder`}\r\n                                                className=\"inline-flex px-6 py-3 bg-brand-dark text-white rounded-lg hover:bg-slate-800 transition-colors font-medium shadow-md items-center gap-2\"\r\n                                            >\r\n                                                <FileText size={18} />\r\n                                                Form Builder\r\n                                            </Link>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* Form Fields Preview */}\r\n                                <div className=\"pt-6 border-t border-slate-50\">\r\n                                    <p className=\"text-xs font-bold text-brand-gold uppercase tracking-widest mb-3\">Data Collection Fields</p>\r\n                                    {(!event.formFields || event.formFields.length === 0) ? (\r\n                                        <p className=\"text-sm text-slate-400 italic\">No fields configured yet.</p>\r\n                                    ) : (\r\n                                        <div className=\"flex flex-wrap gap-2\">\r\n                                            {event.formFields.map((field: any, idx: number) => (\r\n                                                <span key={idx} className=\"px-3 py-1.5 bg-slate-50 border border-slate-100 rounded-lg text-xs text-brand-dark flex items-center gap-1.5 font-medium\">\r\n                                                    {field.label}\r\n                                                    <span className=\"text-slate-300\">|</span>\r\n                                                    <span className=\"text-slate-500 uppercase text-[10px]\">{field.type}</span>\r\n                                                    {field.required && <span className=\"text-red-500\" title=\"Required\">*</span>}\r\n                                                </span>\r\n                                            ))}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {event.status === 'pending' && (\r\n                                    <div className=\"mt-6 p-4 bg-amber-50/50 border border-amber-100 rounded-xl flex items-start gap-3\">\r\n                                        <Clock className=\"text-amber-600 mt-0.5\" size={18} />\r\n                                        <div>\r\n                                            <h4 className=\"text-sm font-bold text-amber-900\">Awaiting Analysis</h4>\r\n                                            <p className=\"text-sm text-amber-800/80 mt-1\">\r\n                                                This project proposal is currently under review. Automated or Admin approval is required before data collection can begin.\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                {events.length === 0 && (\r\n                    <div className=\"py-20 text-center bg-white rounded-xl border-2 border-slate-100 border-dashed\">\r\n                        <div className=\"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-400\">\r\n                            <Calendar size={32} />\r\n                        </div>\r\n                        <h3 className=\"text-xl font-bold font-serif text-brand-dark mb-2\">No projects yet</h3>\r\n                        <p className=\"text-slate-500 mb-8 max-w-md mx-auto\">Create your first research project to start collecting vital health data.</p>\r\n                        <Link\r\n                            href=\"/dashboard/create-event\"\r\n                            className=\"inline-block px-8 py-3 bg-brand-dark text-white rounded-lg hover:bg-slate-800 transition-colors font-medium shadow-lg\"\r\n                        >\r\n                            Create First Project\r\n                        </Link>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    } catch (error) {\r\n        console.error(\"Database connection failed:\", error);\r\n        return (\r\n            <div className=\"p-12 text-center text-slate-500 bg-white rounded-xl border border-red-100 shadow-sm mt-8\">\r\n                <div className=\"w-16 h-16 bg-red-50 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                    <X size={32} />\r\n                </div>\r\n                <h2 className=\"text-xl font-bold text-slate-800 mb-2\">Connection Error</h2>\r\n                <p className=\"max-w-md mx-auto mb-4\">\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn't been whitelisted in MongoDB Atlas.\r\n                </p>\r\n                <div className=\"text-xs bg-slate-100 p-4 rounded text-left max-w-lg mx-auto overflow-auto font-mono text-slate-600\">\r\n                    {(error as Error).message || \"Unknown error\"}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":134,"column":123,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[7834,8013],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&apos;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[7834,8013],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&lsquo;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[7834,8013],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&#39;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[7834,8013],"text":"\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn&rsquo;t been whitelisted in MongoDB Atlas.\r\n                "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { auth } from \"@/auth\";\r\nimport dbConnect from \"@/lib/db\";\r\nimport Event from \"@/models/Event\";\r\nimport Record from \"@/models/Record\";\r\nimport User from \"@/models/User\";\r\nimport { Calendar, FileText, Activity, X, Zap, Shield } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nasync function getUserStats(userId: string) {\r\n    await dbConnect();\r\n    const myEvents = await Event.countDocuments({ createdBy: userId });\r\n    const approvedEvents = await Event.countDocuments({ createdBy: userId, status: 'approved' });\r\n    const pendingEvents = await Event.countDocuments({ createdBy: userId, status: 'pending' });\r\n    const totalRecords = await Record.countDocuments({ recordedBy: userId });\r\n\r\n    // Get user's trusted status\r\n    const user = await User.findById(userId).select('isTrusted role').lean();\r\n    const isTrusted = user?.isTrusted || false;\r\n    const isAdmin = user?.role === 'admin';\r\n\r\n    return { myEvents, approvedEvents, pendingEvents, totalRecords, isTrusted, isAdmin };\r\n}\r\n\r\nexport default async function DashboardPage() {\r\n    const session = await auth();\r\n    const userId = session?.user?.id;\r\n\r\n    if (!userId) {\r\n        return <div>Unauthorized</div>;\r\n    }\r\n\r\n    try {\r\n        const stats = await getUserStats(userId);\r\n\r\n        return (\r\n            <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700\">\r\n                <div>\r\n                    <div className=\"flex items-center gap-3 mb-1\">\r\n                        <h1 className=\"text-3xl font-serif font-bold text-brand-dark\">Welcome back, {session?.user?.name}!</h1>\r\n                        {stats.isAdmin && (\r\n                            <span className=\"inline-flex items-center gap-1.5 px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-bold\">\r\n                                <Shield size={14} />\r\n                                Admin\r\n                            </span>\r\n                        )}\r\n                        {stats.isTrusted && !stats.isAdmin && (\r\n                            <span className=\"inline-flex items-center gap-1.5 px-3 py-1 bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-700 rounded-full text-sm font-bold border border-amber-200 shadow-sm\">\r\n                                <Zap size={14} className=\"text-amber-500\" />\r\n                                Trusted Creator\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                    <p className=\"text-slate-500 mt-1\">Manage your research projects and data collection.</p>\r\n                    {stats.isTrusted && !stats.isAdmin && (\r\n                        <p className=\"text-sm text-amber-600 mt-2 flex items-center gap-1\">\r\n                            <Zap size={14} />\r\n                            <span>Auto-Approval Enabled â€” Your projects are published instantly</span>\r\n                        </p>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                    <div className=\"bg-white p-6 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-md transition-shadow\">\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                            <div className=\"p-3 bg-brand-cream text-brand-dark rounded-lg\">\r\n                                <Calendar size={24} />\r\n                            </div>\r\n                            <span className=\"text-2xl font-bold text-brand-dark\">{stats.myEvents}</span>\r\n                        </div>\r\n                        <h3 className=\"text-slate-500 font-medium\">My Projects</h3>\r\n                        <p className=\"text-xs text-slate-400 mt-1\">Total Created</p>\r\n                    </div>\r\n\r\n                    <div className=\"bg-white p-6 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-md transition-shadow\">\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                            <div className=\"p-3 bg-brand-cream text-brand-gold rounded-lg\">\r\n                                <Activity size={24} />\r\n                            </div>\r\n                            <span className=\"text-2xl font-bold text-brand-dark\">{stats.approvedEvents}</span>\r\n                        </div>\r\n                        <h3 className=\"text-slate-500 font-medium\">Active Projects</h3>\r\n                        <p className=\"text-xs text-brand-gold mt-1 font-medium\">Approved & Ready</p>\r\n                    </div>\r\n\r\n                    <div className=\"bg-white p-6 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-md transition-shadow\">\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                            <div className=\"p-3 bg-brand-cream text-orange-500 rounded-lg\">\r\n                                <Calendar size={24} />\r\n                            </div>\r\n                            <span className=\"text-2xl font-bold text-brand-dark\">{stats.pendingEvents}</span>\r\n                        </div>\r\n                        <h3 className=\"text-slate-500 font-medium\">Pending Projects</h3>\r\n                        <p className=\"text-xs text-orange-500 mt-1 font-medium\">Awaiting Approval</p>\r\n                    </div>\r\n\r\n                    <div className=\"bg-white p-6 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-md transition-shadow\">\r\n                        <div className=\"flex items-center justify-between mb-4\">\r\n                            <div className=\"p-3 bg-brand-cream text-blue-600 rounded-lg\">\r\n                                <FileText size={24} />\r\n                            </div>\r\n                            <span className=\"text-2xl font-bold text-brand-dark\">{stats.totalRecords}</span>\r\n                        </div>\r\n                        <h3 className=\"text-slate-500 font-medium\">Records Entered</h3>\r\n                        <p className=\"text-xs text-slate-400 mt-1\">Total Data Points</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-brand-dark rounded-xl shadow-lg p-8 text-white relative overflow-hidden\">\r\n                    <div className=\"relative z-10\">\r\n                        <h2 className=\"text-2xl font-serif font-bold mb-2 text-brand-gold\">Ready to plan your next project?</h2>\r\n                        <p className=\"text-slate-300 mb-6 max-w-xl\">\r\n                            {stats.isTrusted || stats.isAdmin\r\n                                ? 'Create a new project and start collecting data immediately. Your projects are auto-approved!'\r\n                                : 'Create a new project and define what data you need to collect. Once approved by the admin, you can start recording participant information.'}\r\n                        </p>\r\n                        <Link href=\"/dashboard/create-event\" className=\"inline-block px-6 py-3 bg-white text-brand-dark rounded-lg font-semibold hover:bg-brand-gold hover:text-white transition-colors shadow-md\">\r\n                            Create New Project\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } catch (error) {\r\n        console.error(\"Database connection failed:\", error);\r\n        return (\r\n            <div className=\"p-12 text-center text-slate-500 bg-white rounded-xl border border-red-100 shadow-sm mt-8\">\r\n                <div className=\"w-16 h-16 bg-red-50 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                    <X size={32} />\r\n                </div>\r\n                <h2 className=\"text-xl font-bold text-slate-800 mb-2\">Connection Error</h2>\r\n                <p className=\"max-w-md mx-auto mb-4\">\r\n                    Could not connect to the database. This is usually caused by network issues or an IP address that hasn't been whitelisted in MongoDB Atlas.\r\n                </p>\r\n                <div className=\"text-xs bg-slate-100 p-4 rounded text-left max-w-lg mx-auto overflow-auto font-mono text-slate-600\">\r\n                    {(error as Error).message || \"Unknown error\"}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\dashboard\\settings\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\e\\[id]\\PublicEventClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":9,"column":63,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":9,"endColumn":66,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[410,413],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[410,413],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[995,998],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[995,998],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport DataEntryForm from '@/app/events/[id]/enter-data/DataEntryForm';\r\nimport { Lock, ArrowRight, ShieldCheck, UserPlus, RefreshCw, Search } from 'lucide-react';\r\nimport { getRecordByCode, updateRecordByCode } from '@/app/events/actions';\r\nimport { Spinner } from '@/components/ui/Spinner';\r\n\r\nexport default function PublicEventClient({ event }: { event: any }) {\r\n    const hasPassword = !!event.accessCode;\r\n    const [isUnlocked, setIsUnlocked] = useState(!hasPassword);\r\n    const [passwordInput, setPasswordInput] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    // Multi-Stage Logic\r\n    const [entryMode, setEntryMode] = useState<'new' | 'update'>('new');\r\n    const [retrievalCodeInput, setRetrievalCodeInput] = useState('');\r\n    const [retrievalError, setRetrievalError] = useState('');\r\n    const [isFetchingInfo, setIsFetchingInfo] = useState(false);\r\n    const [recordToUpdate, setRecordToUpdate] = useState<any>(null);\r\n\r\n    const handleUnlock = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (passwordInput === event.accessCode) {\r\n            setIsUnlocked(true);\r\n            setError('');\r\n        } else {\r\n            setError('Incorrect access code');\r\n        }\r\n    };\r\n\r\n    const handleFetchRecord = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!retrievalCodeInput) return;\r\n\r\n        setIsFetchingInfo(true);\r\n        setRetrievalError('');\r\n        setRecordToUpdate(null);\r\n\r\n        const result = await getRecordByCode(retrievalCodeInput.trim());\r\n\r\n        console.log('ðŸ” Client - Search result:', result);\r\n        console.log('ðŸ” Client - Result data:', result.data);\r\n        console.log('ðŸ” Client - Data.data fields:', result.data?.data ? Object.keys(result.data.data) : 'No data.data');\r\n\r\n        if (result.success) {\r\n            console.log('âœ… Client - Setting recordToUpdate with keys:', Object.keys(result.data || {}));\r\n            setRecordToUpdate(result.data);\r\n        } else {\r\n            setRetrievalError(result.message || 'Record not found. Check the code.');\r\n        }\r\n        setIsFetchingInfo(false);\r\n    };\r\n\r\n    if (!isUnlocked) {\r\n        return (\r\n            <div className=\"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4\">\r\n                <div className=\"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center\">\r\n                    <div className=\"w-16 h-16 bg-slate-100 text-slate-800 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n                        <Lock size={32} />\r\n                    </div>\r\n\r\n                    <h1 className=\"text-2xl font-bold text-slate-900 mb-2\">{event.title}</h1>\r\n                    <p className=\"text-slate-500 mb-8\">This event is protected. Please enter the access code provided by the organizer.</p>\r\n\r\n                    <form onSubmit={handleUnlock} className=\"space-y-4\">\r\n                        <input\r\n                            type=\"text\"\r\n                            value={passwordInput}\r\n                            onChange={(e) => setPasswordInput(e.target.value)}\r\n                            className=\"w-full px-4 py-3 text-center text-lg tracking-widest border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none uppercase\"\r\n                            placeholder=\"ACCESS CODE\"\r\n                        />\r\n                        {error && <p className=\"text-red-500 text-sm font-medium\">{error}</p>}\r\n\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"w-full py-3 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors font-semibold flex items-center justify-center gap-2\"\r\n                        >\r\n                            Unlock Event <ArrowRight size={18} />\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-50 py-8 px-4\">\r\n            <div className=\"max-w-3xl mx-auto mb-8\">\r\n                <div className=\"text-center mb-6\">\r\n                    <div className=\"inline-flex items-center gap-2 px-3 py-1 bg-emerald-100 text-emerald-800 rounded-full text-xs font-bold uppercase tracking-wide mb-4\">\r\n                        <ShieldCheck size={14} /> Secure Data Collection\r\n                    </div>\r\n                </div>\r\n\r\n                {/* MODE SWITCHER */}\r\n                <div className=\"bg-white p-1 rounded-xl shadow-sm border border-slate-200 flex mb-8\">\r\n                    <button\r\n                        onClick={() => { setEntryMode('new'); setRecordToUpdate(null); }}\r\n                        className={`flex-1 py-3 text-sm font-bold rounded-lg flex items-center justify-center gap-2 transition-all ${entryMode === 'new' ? 'bg-slate-900 text-white shadow-md' : 'text-slate-500 hover:bg-slate-50'}`}\r\n                    >\r\n                        <UserPlus size={16} /> New Patient\r\n                    </button>\r\n                    <button\r\n                        onClick={() => { setEntryMode('update'); }}\r\n                        className={`flex-1 py-3 text-sm font-bold rounded-lg flex items-center justify-center gap-2 transition-all ${entryMode === 'update' ? 'bg-slate-900 text-white shadow-md' : 'text-slate-500 hover:bg-slate-50'}`}\r\n                    >\r\n                        <RefreshCw size={16} /> Update Record\r\n                    </button>\r\n                </div>\r\n\r\n                {/* NEW MODE */}\r\n                {entryMode === 'new' && (\r\n                    <DataEntryForm\r\n                        eventId={event._id}\r\n                        eventTitle={event.title}\r\n                        formFields={event.formFields || []}\r\n                        submitButtonText=\"Register Patient\"\r\n                    />\r\n                )}\r\n\r\n                {/* UPDATE MODE */}\r\n                {entryMode === 'update' && (\r\n                    <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden\">\r\n                        {!recordToUpdate ? (\r\n                            <div className=\"p-8 text-center\">\r\n                                <h2 className=\"text-xl font-bold text-slate-800 mb-2\">Continue Existing Record</h2>\r\n                                <p className=\"text-slate-500 mb-6\">Enter the Retrieval Code provided during registration.</p>\r\n\r\n                                <form onSubmit={handleFetchRecord} className=\"max-w-sm mx-auto space-y-4\">\r\n                                    <div className=\"relative\">\r\n                                        <Search className=\"absolute left-3 top-3.5 text-slate-400\" size={20} />\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={retrievalCodeInput}\r\n                                            onChange={(e) => setRetrievalCodeInput(e.target.value)}\r\n                                            className=\"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none\"\r\n                                            placeholder=\"Enter Patient Code or Phone Number\"\r\n                                        />\r\n                                    </div>\r\n                                    {retrievalError && <p className=\"text-red-500 text-sm font-medium\">{retrievalError}</p>}\r\n                                    <button\r\n                                        type=\"submit\"\r\n                                        disabled={isFetchingInfo}\r\n                                        className=\"w-full py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors font-bold disabled:opacity-50 flex items-center justify-center gap-2\"\r\n                                    >\r\n                                        {isFetchingInfo ? <Spinner className=\"text-white\" /> : 'Find Record'}\r\n                                    </button>\r\n                                </form>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"animate-in fade-in slide-in-from-bottom-4 duration-300\">\r\n                                <div className=\"bg-indigo-50 px-8 py-4 border-b border-indigo-100 flex items-center justify-between\">\r\n                                    <div className=\"flex items-center gap-2 text-indigo-800 font-medium\">\r\n                                        <span className=\"bg-white px-2 py-0.5 rounded border border-indigo-200 text-xs font-mono uppercase\">{recordToUpdate.retrievalCode}</span>\r\n                                        <span>Editing Record</span>\r\n                                    </div>\r\n                                    <button onClick={() => setRecordToUpdate(null)} className=\"text-xs text-indigo-600 hover:text-indigo-900 underline\">Change</button>\r\n                                </div>\r\n                                <div className=\"p-2 md:p-0\"> {/* Padding adjustment */}\r\n                                    <DataEntryForm\r\n                                        key={recordToUpdate._id} // Force re-render when record changes\r\n                                        eventId={event._id}\r\n                                        eventTitle={event.title}\r\n                                        formFields={event.formFields || []}\r\n                                        initialData={recordToUpdate.data}\r\n                                        submitButtonText=\"Update Record\"\r\n                                        onSubmit={async (data) => {\r\n                                            console.log('ðŸ“ Submitting update with data:', data);\r\n                                            console.log('ðŸ“ Original recordToUpdate.data:', recordToUpdate.data);\r\n                                            return await updateRecordByCode(recordToUpdate.retrievalCode, data);\r\n                                        }\r\n                                        }\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"mt-12 text-center text-slate-400 text-sm\">\r\n                Powered by ReachPoint\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\e\\[id]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\events\\[id]\\blood-drive\\actions.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Event' is defined but never used.","line":5,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":13,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Event"},"fix":{"range":[95,130],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[303,306],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[303,306],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":24,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[835,838],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[835,838],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\r\n\r\nimport dbConnect from '@/lib/db';\r\nimport Donation from '@/models/Donation';\r\nimport Event from '@/models/Event'; // Ensure Event model is imported if needed for validation\r\nimport { revalidatePath } from 'next/cache';\r\n\r\nexport async function submitDonation(eventId: string, formData: any) {\r\n    try {\r\n        await dbConnect();\r\n\r\n        // Basic validation could go here, but the Schema handles most of the heavy lifting including the logic gates for fitness.\r\n\r\n        const newDonation = new Donation({\r\n            eventId,\r\n            ...formData\r\n        });\r\n\r\n        await newDonation.save();\r\n\r\n        revalidatePath(`/events/${eventId}/blood-drive`);\r\n\r\n        return { success: true, message: 'Donation record created successfully.', donationId: newDonation._id.toString() };\r\n    } catch (error: any) {\r\n        console.error('Error submitting donation:', error);\r\n        return { success: false, message: error.message || 'Failed to submit donation.' };\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\events\\[id]\\blood-drive\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":10,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":303,"column":84,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":303,"endColumn":87,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15314,15317],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15314,15317],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { submitDonation } from './actions';\r\nimport { useParams, useRouter } from 'next/navigation';\r\n\r\nexport default function BloodDrivePage() {\r\n    const params = useParams();\r\n    const router = useRouter();\r\n    const eventId = params.id as string;\r\n\r\n    const [step, setStep] = useState(1);\r\n    const [formData, setFormData] = useState({\r\n        donorName: '',\r\n        donorVitals: {\r\n            age: '',\r\n            weight: '',\r\n            bloodPressure: '',\r\n            pcv: '',\r\n        },\r\n        serology: {\r\n            hiv: false,\r\n            hbsag: false,\r\n            hcv: false,\r\n            vdrl: false,\r\n        },\r\n        bloodGroup: {\r\n            group: '',\r\n            rh: '', // 'Positive' or 'Negative'\r\n        },\r\n    });\r\n\r\n    const [status, setStatus] = useState<'IDLE' | 'SUBMITTING' | 'SUCCESS' | 'ERROR'>('IDLE');\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const [deferReason, setDeferReason] = useState<string | null>(null);\r\n\r\n    const handleVitalChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setFormData({\r\n            ...formData,\r\n            donorVitals: {\r\n                ...formData.donorVitals,\r\n                [e.target.name]: e.target.value,\r\n            },\r\n        });\r\n    };\r\n\r\n    const handleSerologyChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setFormData({\r\n            ...formData,\r\n            serology: {\r\n                ...formData.serology,\r\n                [e.target.name]: e.target.checked,\r\n            },\r\n        });\r\n    };\r\n\r\n    const handleGroupChange = (field: 'group' | 'rh', value: string) => {\r\n        setFormData({\r\n            ...formData,\r\n            bloodGroup: {\r\n                ...formData.bloodGroup,\r\n                [field]: value,\r\n            },\r\n        });\r\n    };\r\n\r\n    const validateStep1 = () => {\r\n        const { weight, pcv, age, bloodPressure } = formData.donorVitals;\r\n        if (!formData.donorName || !weight || !pcv || !age || !bloodPressure) {\r\n            setErrorMessage('Please fill in all fields.');\r\n            return false;\r\n        }\r\n\r\n        const weightNum = Number(weight);\r\n        const pcvNum = Number(pcv);\r\n\r\n        if (weightNum < 50) {\r\n            setDeferReason('Donor weight is below 50kg.');\r\n            return false;\r\n        }\r\n        if (pcvNum < 38) {\r\n            setDeferReason('Donor PCV is below 38%.');\r\n            return false;\r\n        }\r\n\r\n        setErrorMessage('');\r\n        setDeferReason(null);\r\n        return true;\r\n    };\r\n\r\n    const validateStep2 = () => {\r\n        const { hiv, hbsag, hcv, vdrl } = formData.serology;\r\n        if (hiv || hbsag || hcv || vdrl) {\r\n            setDeferReason('Donor is reactive to TTI screening.');\r\n            return false; // Stop process\r\n        }\r\n        setDeferReason(null);\r\n        return true;\r\n    };\r\n\r\n    const nextStep = () => {\r\n        if (step === 1) {\r\n            if (validateStep1()) setStep(2);\r\n        } else if (step === 2) {\r\n            if (validateStep2()) setStep(3);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        if (!formData.bloodGroup.group || !formData.bloodGroup.rh) {\r\n            setErrorMessage('Please select Blood Group and RH Factor.');\r\n            return;\r\n        }\r\n\r\n        setStatus('SUBMITTING');\r\n        const submissionData = {\r\n            donorName: formData.donorName,\r\n            donorVitals: {\r\n                age: Number(formData.donorVitals.age),\r\n                weight: Number(formData.donorVitals.weight),\r\n                pcv: Number(formData.donorVitals.pcv),\r\n                bloodPressure: formData.donorVitals.bloodPressure\r\n            },\r\n            serology: formData.serology,\r\n            bloodGroup: formData.bloodGroup\r\n        };\r\n\r\n        const result = await submitDonation(eventId, submissionData);\r\n\r\n        if (result.success) {\r\n            setStatus('SUCCESS');\r\n        } else {\r\n            setStatus('ERROR');\r\n            setErrorMessage(result.message);\r\n        }\r\n    };\r\n\r\n    // Render logic...\r\n    if (status === 'SUCCESS') {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-green-50\">\r\n                <div className=\"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md\">\r\n                    <h2 className=\"text-3xl font-bold text-green-600 mb-4\">Donation Recorded!</h2>\r\n                    <p className=\"text-gray-600 mb-6\">The donor has been successfully screened and recorded.</p>\r\n                    <button onClick={() => window.location.reload()} className=\"px-6 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors\">\r\n                        Process New Donor\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // If deferred (hard stop)\r\n    if (deferReason) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center bg-red-50\">\r\n                <div className=\"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md border-l-4 border-red-500\">\r\n                    <h2 className=\"text-3xl font-bold text-red-600 mb-4\">Donor Deferred</h2>\r\n                    <p className=\"text-gray-800 text-lg mb-6\">{deferReason}</p>\r\n                    <p className=\"text-sm text-gray-500 mb-6\">According to safety protocols, this donor cannot proceed.</p>\r\n                    <button onClick={() => window.location.reload()} className=\"px-6 py-3 bg-gray-800 text-white rounded-lg font-semibold hover:bg-gray-900 transition-colors\">\r\n                        Start Over\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"max-w-3xl mx-auto\">\r\n                <div className=\"mb-8 text-center\">\r\n                    <h1 className=\"text-4xl font-extrabold text-gray-900 tracking-tight\">Blood Donation Drive</h1>\r\n                    <p className=\"mt-2 text-lg text-gray-600\">Smart Screening & Record Keeping</p>\r\n                </div>\r\n\r\n                {/* Progress Bar */}\r\n                <div className=\"mb-8\">\r\n                    <div className=\"flex justify-between mb-2\">\r\n                        <span className={`text-sm font-medium ${step >= 1 ? 'text-blue-600' : 'text-gray-400'}`}>01 Vitals</span>\r\n                        <span className={`text-sm font-medium ${step >= 2 ? 'text-blue-600' : 'text-gray-400'}`}>02 Screening</span>\r\n                        <span className={`text-sm font-medium ${step >= 3 ? 'text-blue-600' : 'text-gray-400'}`}>03 Grouping</span>\r\n                    </div>\r\n                    <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n                        <div\r\n                            className=\"bg-blue-600 h-2.5 rounded-full transition-all duration-500 ease-out\"\r\n                            style={{ width: step === 1 ? '33%' : step === 2 ? '66%' : '100%' }}\r\n                        ></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white shadow-xl rounded-2xl overflow-hidden relative min-h-[400px]\">\r\n                    <AnimatePresence mode=\"wait\">\r\n\r\n                        {/* STEP 1: VITALS */}\r\n                        {step === 1 && (\r\n                            <motion.div\r\n                                key=\"step1\"\r\n                                initial={{ opacity: 0, x: 20 }}\r\n                                animate={{ opacity: 1, x: 0 }}\r\n                                exit={{ opacity: 0, x: -20 }}\r\n                                transition={{ duration: 0.3 }}\r\n                                className=\"p-8\"\r\n                            >\r\n                                <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Donor Vitals</h2>\r\n                                <div className=\"space-y-6\">\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">Full Name</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            name=\"donorName\"\r\n                                            value={formData.donorName}\r\n                                            onChange={(e) => setFormData({ ...formData, donorName: e.target.value })}\r\n                                            className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\"\r\n                                            placeholder=\"John Doe\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"grid grid-cols-2 gap-6\">\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Age</label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                name=\"age\"\r\n                                                value={formData.donorVitals.age}\r\n                                                onChange={handleVitalChange}\r\n                                                className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\"\r\n                                                placeholder=\"Years\"\r\n                                            />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Weight (kg)</label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                name=\"weight\"\r\n                                                value={formData.donorVitals.weight}\r\n                                                onChange={handleVitalChange}\r\n                                                className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\"\r\n                                                placeholder=\"Min 50kg\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"grid grid-cols-2 gap-6\">\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">PCV (%)</label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                name=\"pcv\"\r\n                                                value={formData.donorVitals.pcv}\r\n                                                onChange={handleVitalChange}\r\n                                                className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\"\r\n                                                placeholder=\"Min 38%\"\r\n                                            />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Blood Pressure</label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                name=\"bloodPressure\"\r\n                                                value={formData.donorVitals.bloodPressure}\r\n                                                onChange={handleVitalChange}\r\n                                                className=\"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all\"\r\n                                                placeholder=\"e.g. 120/80\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                {errorMessage && <p className=\"text-red-500 mt-4 text-sm font-medium\">{errorMessage}</p>}\r\n                                <div className=\"mt-8 flex justify-end\">\r\n                                    <button\r\n                                        onClick={nextStep}\r\n                                        className=\"px-8 py-3 bg-blue-600 text-white rounded-xl font-semibold shadow-lg hover:bg-blue-700 transform hover:scale-105 transition-all\"\r\n                                    >\r\n                                        Next: Screening\r\n                                    </button>\r\n                                </div>\r\n                            </motion.div>\r\n                        )}\r\n\r\n                        {/* STEP 2: SCREENING (TTI) */}\r\n                        {step === 2 && (\r\n                            <motion.div\r\n                                key=\"step2\"\r\n                                initial={{ opacity: 0, x: 20 }}\r\n                                animate={{ opacity: 1, x: 0 }}\r\n                                exit={{ opacity: 0, x: -20 }}\r\n                                transition={{ duration: 0.3 }}\r\n                                className=\"p-8\"\r\n                            >\r\n                                <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">TTI Screening</h2>\r\n                                <p className=\"text-gray-500 mb-6 text-sm\">Mark any checkbox that is REACTIVE. All must be non-reactive to proceed.</p>\r\n\r\n                                <div className=\"space-y-4 bg-gray-50 p-6 rounded-xl border border-gray-100\">\r\n                                    {['hiv', 'hbsag', 'hcv', 'vdrl'].map((key) => (\r\n                                        <div key={key} className=\"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 shadow-sm\">\r\n                                            <label htmlFor={key} className=\"text-lg font-medium text-gray-700 uppercase\">{key}</label>\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <span className=\"text-xs font-semibold text-gray-400 uppercase tracking-wider\">Reactive?</span>\r\n                                                <input\r\n                                                    type=\"checkbox\"\r\n                                                    id={key}\r\n                                                    name={key}\r\n                                                    checked={(formData.serology as any)[key]}\r\n                                                    onChange={handleSerologyChange}\r\n                                                    className=\"w-6 h-6 text-red-600 rounded focus:ring-red-500 border-gray-300 cursor-pointer\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n\r\n                                <div className=\"mt-8 flex justify-between\">\r\n                                    <button\r\n                                        onClick={() => setStep(1)}\r\n                                        className=\"text-gray-500 font-medium hover:text-gray-700 px-4\"\r\n                                    >\r\n                                        Back\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={nextStep}\r\n                                        className=\"px-8 py-3 bg-blue-600 text-white rounded-xl font-semibold shadow-lg hover:bg-blue-700 transform hover:scale-105 transition-all\"\r\n                                    >\r\n                                        Next: Grouping\r\n                                    </button>\r\n                                </div>\r\n                            </motion.div>\r\n                        )}\r\n\r\n                        {/* STEP 3: GROUPING */}\r\n                        {step === 3 && (\r\n                            <motion.div\r\n                                key=\"step3\"\r\n                                initial={{ opacity: 0, x: 20 }}\r\n                                animate={{ opacity: 1, x: 0 }}\r\n                                exit={{ opacity: 0, x: -20 }}\r\n                                transition={{ duration: 0.3 }}\r\n                                className=\"p-8\"\r\n                            >\r\n                                <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Blood Grouping</h2>\r\n\r\n                                <div className=\"grid grid-cols-2 gap-8 mb-8\">\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 mb-3\">ABO Group</label>\r\n                                        <div className=\"grid grid-cols-2 gap-3\">\r\n                                            {['A', 'B', 'AB', 'O'].map((g) => (\r\n                                                <button\r\n                                                    key={g}\r\n                                                    onClick={() => handleGroupChange('group', g)}\r\n                                                    className={`py-3 px-4 rounded-lg font-bold border-2 transition-all ${formData.bloodGroup.group === g\r\n                                                            ? 'border-blue-600 bg-blue-50 text-blue-600'\r\n                                                            : 'border-gray-200 text-gray-500 hover:border-blue-300'\r\n                                                        }`}\r\n                                                >\r\n                                                    {g}\r\n                                                </button>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium text-gray-700 mb-3\">Rh Factor</label>\r\n                                        <div className=\"grid grid-cols-1 gap-3\">\r\n                                            {['Positive', 'Negative'].map((r) => (\r\n                                                <button\r\n                                                    key={r}\r\n                                                    onClick={() => handleGroupChange('rh', r)}\r\n                                                    className={`py-3 px-4 rounded-lg font-bold border-2 transition-all ${formData.bloodGroup.rh === r\r\n                                                            ? 'border-blue-600 bg-blue-50 text-blue-600'\r\n                                                            : 'border-gray-200 text-gray-500 hover:border-blue-300'\r\n                                                        }`}\r\n                                                >\r\n                                                    {r === 'Positive' ? 'Positive (+)' : 'Negative (-)'}\r\n                                                </button>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {errorMessage && <p className=\"text-red-500 mb-6 text-sm font-medium\">{errorMessage}</p>}\r\n\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <button\r\n                                        onClick={() => setStep(2)}\r\n                                        className=\"text-gray-500 font-medium hover:text-gray-700 px-4\"\r\n                                    >\r\n                                        Back\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={handleSubmit}\r\n                                        disabled={status === 'SUBMITTING'}\r\n                                        className=\"px-8 py-3 bg-green-600 text-white rounded-xl font-semibold shadow-lg hover:bg-green-700 transform hover:scale-105 transition-all text-lg flex items-center gap-2\"\r\n                                    >\r\n                                        {status === 'SUBMITTING' ? 'Saving...' : 'Complete Donation'}\r\n                                    </button>\r\n                                </div>\r\n                            </motion.div>\r\n                        )}\r\n\r\n                    </AnimatePresence>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\events\\[id]\\enter-data\\DataEntryForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":30,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[813,816],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[813,816],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[842,845],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[842,845],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[858,861],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[858,861],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":39,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1267,1270],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1267,1270],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\events\\[id]\\enter-data\\DataEntryForm.tsx:54:13\n  52 |         if (Object.keys(initialData).length > 0) {\n  53 |             console.log('âœ… Setting formData with initialData');\n> 54 |             setFormData(initialData);\n     |             ^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  55 |         } else {\n  56 |             console.log('âŒ Not setting formData - initialData is empty');\n  57 |         }","line":54,"column":13,"nodeType":null,"endLine":54,"endColumn":24},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'formData'. Either include it or remove the dependency array.","line":58,"column":8,"nodeType":"ArrayExpression","endLine":58,"endColumn":21,"suggestions":[{"desc":"Update the dependencies array to be: [formData, initialData]","fix":{"range":[2153,2166],"text":"[formData, initialData]"}}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\events\\[id]\\enter-data\\DataEntryForm.tsx:113:17\n  111 |             // Only update if changed to avoid loop\n  112 |             if (formData['BMI'] !== bmi) {\n> 113 |                 setFormData(prev => ({ ...prev, 'BMI': bmi }));\n      |                 ^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  114 |             }\n  115 |         }\n  116 |     }, [formData]);","line":113,"column":17,"nodeType":null,"endLine":113,"endColumn":28},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\events\\[id]\\enter-data\\DataEntryForm.tsx:169:13\n  167 |             if (hbsag === 'Reactive') fit = false;\n  168 |\n> 169 |             setCompatibility({ fit, recipients });\n      |             ^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  170 |         } else {\n  171 |             setCompatibility(null);\n  172 |         }","line":169,"column":13,"nodeType":null,"endLine":169,"endColumn":29},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":175,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":175,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6877,6880],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6877,6880],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'index' is defined but never used.","line":391,"column":66,"nodeType":"Identifier","messageId":"unusedVar","endLine":391,"endColumn":71},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":418,"column":55,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[19017,19136],"text":"\r\n                                    Compare with today&apos;s readings to track progress\r\n                                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[19017,19136],"text":"\r\n                                    Compare with today&lsquo;s readings to track progress\r\n                                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[19017,19136],"text":"\r\n                                    Compare with today&#39;s readings to track progress\r\n                                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[19017,19136],"text":"\r\n                                    Compare with today&rsquo;s readings to track progress\r\n                                "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { submitRecord, searchPatientHistory } from '../../actions';\r\nimport { CheckCircle, AlertCircle, RefreshCw, History, Clock, AlertTriangle } from 'lucide-react';\r\nimport { SubmitButton } from '@/components/ui/SubmitButton';\r\nimport { Spinner } from '@/components/ui/Spinner';\r\n\r\ntype FormField = {\r\n    label: string;\r\n    type: string;\r\n    options?: string[];\r\n    required: boolean;\r\n    width?: 'full' | 'half';\r\n};\r\n\r\ntype PatientHistory = {\r\n    _id: string;\r\n    eventTitle: string;\r\n    eventDate: string;\r\n    recordDate: string;\r\n    timeAgo: string;\r\n    vitals: Record<string, string>;\r\n};\r\n\r\ntype Props = {\r\n    eventId: string;\r\n    eventTitle: string;\r\n    formFields: FormField[];\r\n    initialData?: Record<string, any>;\r\n    onSubmit?: (data: any) => Promise<any>;\r\n    submitButtonText?: string;\r\n};\r\n\r\nexport default function DataEntryForm({ eventId, eventTitle, formFields, initialData = {}, onSubmit, submitButtonText = \"Submit Record\" }: Props) {\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n    const [retrievalCode, setRetrievalCode] = useState('');\r\n    const [formData, setFormData] = useState<Record<string, any>>(initialData);\r\n\r\n    // Patient history tracking\r\n    const [patientHistory, setPatientHistory] = useState<PatientHistory[] | null>(null);\r\n    const [isSearchingHistory, setIsSearchingHistory] = useState(false);\r\n    const [historySearched, setHistorySearched] = useState(false);\r\n\r\n    // Update formData if initialData changes (e.g. after fetch)\r\n    useEffect(() => {\r\n        console.log('ðŸ”„ DataEntryForm - initialData changed:', initialData);\r\n        console.log('ðŸ”„ DataEntryForm - initialData keys:', Object.keys(initialData));\r\n        console.log('ðŸ”„ DataEntryForm - Current formData:', formData);\r\n\r\n        if (Object.keys(initialData).length > 0) {\r\n            console.log('âœ… Setting formData with initialData');\r\n            setFormData(initialData);\r\n        } else {\r\n            console.log('âŒ Not setting formData - initialData is empty');\r\n        }\r\n    }, [initialData]);\r\n\r\n    // Debounced patient history search\r\n    const searchHistory = useCallback(async () => {\r\n        // Check if we have enough identifying info\r\n        const hasName = Object.entries(formData).some(([key, value]) =>\r\n            key.toLowerCase().includes('name') && value && String(value).trim().length > 2\r\n        );\r\n        const hasPhone = Object.entries(formData).some(([key, value]) =>\r\n            (key.toLowerCase().includes('phone') || key.toLowerCase().includes('mobile')) && value\r\n        );\r\n        const hasGender = Object.entries(formData).some(([key, value]) =>\r\n            (key.toLowerCase().includes('gender') || key.toLowerCase().includes('sex')) && value\r\n        );\r\n\r\n        if (hasName && (hasPhone || hasGender)) {\r\n            setIsSearchingHistory(true);\r\n            try {\r\n                const result = await searchPatientHistory(formData, eventId);\r\n                if (result.success && result.found && result.history) {\r\n                    setPatientHistory(result.history as PatientHistory[]);\r\n                } else {\r\n                    setPatientHistory(null);\r\n                }\r\n                setHistorySearched(true);\r\n            } catch (err) {\r\n                console.error('History search error:', err);\r\n            }\r\n            setIsSearchingHistory(false);\r\n        }\r\n    }, [formData, eventId]);\r\n\r\n    // Trigger history search when identifying fields change\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            if (!historySearched && Object.keys(formData).length > 0) {\r\n                searchHistory();\r\n            }\r\n        }, 800); // Debounce 800ms\r\n\r\n        return () => clearTimeout(timer);\r\n    }, [formData, searchHistory, historySearched]);\r\n\r\n\r\n    // Auto-calculate BMI\r\n    useEffect(() => {\r\n        const weight = parseFloat(formData['Weight (kg)'] || formData['Weight']);\r\n        const height = parseFloat(formData['Height (cm)'] || formData['Height']);\r\n\r\n        if (!isNaN(weight) && !isNaN(height) && height > 0) {\r\n            const heightInMeters = height / 100;\r\n            const bmi = (weight / (heightInMeters * heightInMeters)).toFixed(1);\r\n\r\n            // Only update if changed to avoid loop\r\n            if (formData['BMI'] !== bmi) {\r\n                setFormData(prev => ({ ...prev, 'BMI': bmi }));\r\n            }\r\n        }\r\n    }, [formData]);\r\n\r\n    // Blood Donation Compatibility Logic\r\n    const [compatibility, setCompatibility] = useState<{ fit: boolean | null, recipients: string[] } | null>(null);\r\n\r\n    useEffect(() => {\r\n        const group = formData['Blood Group'];\r\n        const rh = formData['Rhesus'];\r\n\r\n        if (group && rh) {\r\n            // Calculate Recipients\r\n            const isRhPos = rh === 'Positive';\r\n            let recipients: string[] = [];\r\n\r\n            // Logic:\r\n            // O- : Universal -> All\r\n            // O+ : O+, A+, B+, AB+\r\n            // A- : A-, A+, AB-, AB+\r\n            // A+ : A+, AB+\r\n            // B- : B-, B+, AB-, AB+\r\n            // B+ : B+, AB+\r\n            // AB- : AB-, AB+\r\n            // AB+ : AB+ Only\r\n\r\n            if (group === 'O') {\r\n                if (!isRhPos) recipients = ['O-', 'O+', 'A-', 'A+', 'B-', 'B+', 'AB-', 'AB+'];\r\n                else recipients = ['O+', 'A+', 'B+', 'AB+'];\r\n            } else if (group === 'A') {\r\n                if (!isRhPos) recipients = ['A-', 'A+', 'AB-', 'AB+'];\r\n                else recipients = ['A+', 'AB+'];\r\n            } else if (group === 'B') {\r\n                if (!isRhPos) recipients = ['B-', 'B+', 'AB-', 'AB+'];\r\n                else recipients = ['B+', 'AB+'];\r\n            } else if (group === 'AB') {\r\n                if (!isRhPos) recipients = ['AB-', 'AB+'];\r\n                else recipients = ['AB+'];\r\n            }\r\n\r\n            // Check Fitness (Basic checks if fields exist)\r\n            let fit = true;\r\n            const pcv = parseFloat(formData['PCV']);\r\n            const weight = parseFloat(formData['Weight (kg)'] || formData['Weight']);\r\n            const hiv = formData['HIV'];\r\n            const hbsag = formData['HBsAg'];\r\n\r\n            // Only mark as strictly UNFIT if we know for sure.\r\n            // If fields are missing, we can't say for sure, but prompt asks \"Fit to Donate? [Check other fields]\"\r\n\r\n            if (!isNaN(pcv) && pcv < 38) fit = false;\r\n            if (!isNaN(weight) && weight < 50) fit = false;\r\n            if (hiv === 'Reactive') fit = false;\r\n            if (hbsag === 'Reactive') fit = false;\r\n\r\n            setCompatibility({ fit, recipients });\r\n        } else {\r\n            setCompatibility(null);\r\n        }\r\n    }, [formData]);\r\n\r\n    const handleInputChange = (label: string, value: any) => {\r\n        setFormData(prev => ({ ...prev, [label]: value }));\r\n        // Reset history search when identifying fields change\r\n        if (label.toLowerCase().includes('name') ||\r\n            label.toLowerCase().includes('phone') ||\r\n            label.toLowerCase().includes('gender')) {\r\n            setHistorySearched(false);\r\n            setPatientHistory(null);\r\n        }\r\n    };\r\n\r\n    const handleAction = async () => {\r\n        setError('');\r\n        setSuccess('');\r\n        setRetrievalCode('');\r\n\r\n        // Validate required fields\r\n        const missingFields = formFields.filter(f => f.required && !formData[f.label]);\r\n        if (missingFields.length > 0) {\r\n            setError(`Please fill in all required fields: ${missingFields.map(f => f.label).join(', ')}`);\r\n            return;\r\n        }\r\n\r\n        let result;\r\n        if (onSubmit) {\r\n            result = await onSubmit(formData);\r\n        } else {\r\n            try {\r\n                result = await submitRecord(eventId, formData);\r\n            } catch (err) {\r\n                // Network error or server unreachable\r\n                console.error(\"Submission error:\", err);\r\n\r\n                // Fallback to offline save\r\n                const unsynced = JSON.parse(localStorage.getItem('unsynced_records') || '[]');\r\n                unsynced.push({\r\n                    eventId,\r\n                    data: formData,\r\n                    timestamp: Date.now()\r\n                });\r\n                localStorage.setItem('unsynced_records', JSON.stringify(unsynced));\r\n\r\n                // Dispatch event for SyncManager\r\n                window.dispatchEvent(new Event('recordSavedOffline'));\r\n\r\n                result = { success: true, message: 'Saved offline! Will sync when online.' };\r\n                // We fake success so form clears\r\n            }\r\n        }\r\n\r\n        if (result.success) {\r\n            setSuccess(result.message);\r\n            if (result.code) setRetrievalCode(result.code);\r\n\r\n            if (!onSubmit) {\r\n                // Default behavior: reset\r\n                setFormData({});\r\n                setPatientHistory(null);\r\n                setHistorySearched(false);\r\n            }\r\n        } else {\r\n            setError(result.message);\r\n        }\r\n    };\r\n\r\n    const renderField = (field: FormField) => {\r\n        const { label, type, required } = field;\r\n        const commonClasses = \"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-colors\";\r\n\r\n        switch (type) {\r\n            case 'textarea':\r\n                return (\r\n                    <textarea\r\n                        name={label}\r\n                        rows={3}\r\n                        required={required}\r\n                        className={commonClasses}\r\n                        onChange={(e) => handleInputChange(label, e.target.value)}\r\n                        value={formData[label] || ''}\r\n                    />\r\n                );\r\n            case 'select':\r\n                // Debug: Check if the value exists in formData\r\n                const selectValue = formData[label] || '';\r\n                if (label.includes('SEX') || label.includes('Sex')) {\r\n                    console.log(`ðŸŽ¯ SELECT field \"${label}\":`, {\r\n                        formDataValue: formData[label],\r\n                        selectValue,\r\n                        formDataKeys: Object.keys(formData)\r\n                    });\r\n                }\r\n\r\n                return (\r\n                    <select\r\n                        name={label}\r\n                        required={required}\r\n                        className={commonClasses}\r\n                        onChange={(e) => handleInputChange(label, e.target.value)}\r\n                        value={selectValue}\r\n                    >\r\n                        <option value=\"\">Select...</option>\r\n                        {field.options?.map((opt, i) => (\r\n                            <option key={i} value={opt}>{opt}</option>\r\n                        ))}\r\n                    </select>\r\n                );\r\n            case 'number':\r\n                return (\r\n                    <input\r\n                        name={label}\r\n                        type=\"number\"\r\n                        required={required}\r\n                        className={commonClasses}\r\n                        onChange={(e) => handleInputChange(label, e.target.value)}\r\n                        value={formData[label] || ''}\r\n                    />\r\n                );\r\n            case 'date':\r\n                return (\r\n                    <input\r\n                        name={label}\r\n                        type=\"date\"\r\n                        required={required}\r\n                        className={commonClasses}\r\n                        onChange={(e) => handleInputChange(label, e.target.value)}\r\n                        value={formData[label] || ''}\r\n                    />\r\n                );\r\n            default:\r\n                return (\r\n                    <input\r\n                        name={label}\r\n                        type=\"text\"\r\n                        required={required}\r\n                        className={commonClasses}\r\n                        onChange={(e) => handleInputChange(label, e.target.value)}\r\n                        value={formData[label] || ''}\r\n                    />\r\n                );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-3xl mx-auto\">\r\n            <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 p-8\">\r\n                <div className=\"mb-6\">\r\n                    <h1 className=\"text-2xl font-bold text-slate-800 mb-1\">{eventTitle}</h1>\r\n                    <p className=\"text-slate-500\">Enter patient data for this event.</p>\r\n                </div>\r\n\r\n                {success ? (\r\n                    <div className=\"py-8 text-center bg-green-50 rounded-xl border border-green-100\">\r\n                        <div className=\"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                            <CheckCircle size={32} />\r\n                        </div>\r\n                        <h2 className=\"text-xl font-bold text-slate-800 mb-2\">Success!</h2>\r\n                        <p className=\"text-slate-600 mb-6\">{success}</p>\r\n\r\n                        {retrievalCode && (\r\n                            <div className=\"mb-8 p-4 bg-white border-2 border-dashed border-emerald-200 rounded-lg inline-block text-left max-w-sm\">\r\n                                <p className=\"text-xs text-slate-500 uppercase tracking-widest font-semibold mb-1 text-center\">Retrieval Code</p>\r\n                                <div className=\"text-3xl font-mono font-bold text-slate-800 text-center tracking-wider selection:bg-emerald-100\">\r\n                                    {retrievalCode}\r\n                                </div>\r\n                                <p className=\"text-xs text-slate-400 mt-2 text-center\">\r\n                                    Write this code down to update this record later.\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"flex justify-center\">\r\n                            <button\r\n                                onClick={() => {\r\n                                    setSuccess('');\r\n                                    setRetrievalCode('');\r\n                                    setFormData({}); // Clear form for next entry\r\n                                }}\r\n                                className=\"inline-flex items-center gap-2 px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors font-semibold shadow-md\"\r\n                            >\r\n                                <RefreshCw className=\"w-4 h-4\" />\r\n                                {retrievalCode ? 'Register Next Patient' : 'Continue'}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <>\r\n                        {error && (\r\n                            <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3 text-red-800\">\r\n                                <AlertCircle size={20} className=\"flex-shrink-0 mt-0.5\" />\r\n                                <p>{error}</p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Patient History Card */}\r\n                        {isSearchingHistory && (\r\n                            <div className=\"mb-6 p-4 bg-slate-50 border border-slate-200 rounded-lg flex items-center gap-3\">\r\n                                <Spinner size={18} className=\"text-slate-500\" />\r\n                                <span className=\"text-slate-600 text-sm\">Checking for patient history...</span>\r\n                            </div>\r\n                        )}\r\n\r\n                        {patientHistory && patientHistory.length > 0 && (\r\n                            <div className=\"mb-6 p-5 bg-amber-50 border-2 border-amber-200 rounded-xl animate-in fade-in slide-in-from-top-2\">\r\n                                <div className=\"flex items-start gap-3 mb-4\">\r\n                                    <div className=\"p-2 bg-amber-100 rounded-lg\">\r\n                                        <AlertTriangle size={20} className=\"text-amber-600\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <h3 className=\"font-bold text-amber-800\">âš ï¸ Patient History Found</h3>\r\n                                        <p className=\"text-sm text-amber-700\">\r\n                                            This patient was seen {patientHistory.length} time{patientHistory.length > 1 ? 's' : ''} before\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"space-y-3\">\r\n                                    {patientHistory.map((record, index) => (\r\n                                        <div key={record._id} className=\"bg-white/80 rounded-lg p-4 border border-amber-100\">\r\n                                            <div className=\"flex items-center gap-2 mb-2\">\r\n                                                <Clock size={14} className=\"text-amber-600\" />\r\n                                                <span className=\"text-sm font-semibold text-slate-700\">{record.timeAgo}</span>\r\n                                                <span className=\"text-slate-400\">â€¢</span>\r\n                                                <span className=\"text-sm text-slate-600\">{record.eventTitle}</span>\r\n                                            </div>\r\n\r\n                                            {Object.keys(record.vitals).length > 0 && (\r\n                                                <div className=\"flex flex-wrap gap-2\">\r\n                                                    {Object.entries(record.vitals).map(([label, value]) => (\r\n                                                        <span\r\n                                                            key={label}\r\n                                                            className=\"px-2 py-1 bg-amber-100/50 border border-amber-200 rounded text-xs font-medium text-amber-800\"\r\n                                                        >\r\n                                                            <strong>{label}:</strong> {value}\r\n                                                        </span>\r\n                                                    ))}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n\r\n                                <p className=\"text-xs text-amber-600 mt-3 flex items-center gap-1\">\r\n                                    <History size={12} />\r\n                                    Compare with today's readings to track progress\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n\r\n                        <form action={handleAction} className=\"space-y-6\">\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\r\n                                {formFields.map((field, index) => (\r\n                                    <div\r\n                                        key={index}\r\n                                        className={field.width === 'half' ? 'col-span-1' : 'col-span-1 md:col-span-2'}\r\n                                    >\r\n                                        <label className=\"block text-sm font-bold text-slate-700 mb-1.5 uppercase tracking-wide text-[0.75rem]\">\r\n                                            {field.label} {field.required && <span className=\"text-red-500\">*</span>}\r\n                                        </label>\r\n                                        {renderField(field)}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n\r\n                            {/* Compatibility Card - Real-time Feedback */}\r\n                            {compatibility && (\r\n                                <div className={`mt-8 p-6 rounded-xl border-2 transition-all animate-in fade-in slide-in-from-bottom-4 ${compatibility.fit ? 'bg-emerald-50 border-emerald-100' : 'bg-red-50 border-red-100'}`}>\r\n                                    <div className=\"flex items-start gap-4\">\r\n                                        <div className={`p-3 rounded-full flex items-center justify-center shrink-0 ${compatibility.fit ? 'bg-emerald-100 text-emerald-600' : 'bg-red-100 text-red-600'}`}>\r\n                                            {compatibility.fit ? <CheckCircle size={28} /> : <AlertCircle size={28} />}\r\n                                        </div>\r\n                                        <div className=\"flex-1\">\r\n                                            <h3 className={`text-lg font-bold mb-1 ${compatibility.fit ? 'text-emerald-800' : 'text-red-800'}`}>\r\n                                                {compatibility.fit ? 'Likely Fit to Donate' : 'Check Deferral Criteria'}\r\n                                            </h3>\r\n                                            <p className={`text-sm mb-4 ${compatibility.fit ? 'text-emerald-700' : 'text-red-700'}`}>\r\n                                                {compatibility.fit\r\n                                                    ? 'Based on current entries, this donor meets the basic criteria.'\r\n                                                    : 'Warning: One or more vitals or screening results indicate the donor may be unfit.'}\r\n                                            </p>\r\n\r\n                                            <div className=\"bg-white/60 rounded-lg p-4 border border-black/5\">\r\n                                                <div className=\"flex items-center gap-2 mb-2 font-semibold text-slate-700\">\r\n                                                    <span className=\"text-xl\">ðŸ©¸</span>\r\n                                                    <span>Compatible Recipients</span>\r\n                                                </div>\r\n                                                <div className=\"flex flex-wrap gap-2\">\r\n                                                    {compatibility.recipients.map((r, i) => (\r\n                                                        <span key={i} className=\"px-3 py-1 bg-white border border-slate-200 shadow-sm rounded-full text-sm font-bold text-slate-700\">\r\n                                                            {r}\r\n                                                        </span>\r\n                                                    ))}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"pt-6 border-t border-slate-200\">\r\n                                <SubmitButton className=\"w-full px-6 py-3 bg-slate-900 text-white rounded-lg hover:bg-slate-800 disabled:bg-slate-400 disabled:cursor-not-allowed font-semibold transition-colors flex items-center justify-center gap-2 shadow-md\">\r\n                                    {submitButtonText}\r\n                                </SubmitButton>\r\n                            </div>\r\n                        </form>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div >\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\events\\[id]\\enter-data\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\events\\actions.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[725,728],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[725,728],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":50,"column":74,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":77,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1857,1860],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1857,1860],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":95,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3306,3309],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3306,3309],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":119,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4199,4202],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4199,4202],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":254,"column":77,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":254,"endColumn":80,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9751,9754],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9751,9754],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":304,"column":79,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":304,"endColumn":82,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11711,11714],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11711,11714],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":314,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":314,"endColumn":19}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\r\n\r\nimport dbConnect from \"@/lib/db\";\r\nimport { sendMedicalResultEmail } from \"@/lib/medical-email\";\r\nimport Record from \"@/models/Record\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { auth } from \"@/auth\";\r\nimport crypto from \"crypto\";\r\n\r\nimport Event from \"@/models/Event\";\r\n\r\nfunction generateRetrievalCode() {\r\n    // Generate a 6-character alphanumeric code (e.g., A7X92B)\r\n    return Math.random().toString(36).substring(2, 8).toUpperCase();\r\n}\r\n\r\n/**\r\n * Generate a patient hash from identifying information.\r\n * Uses Name + Phone + Gender to create a unique identifier.\r\n * This allows tracking the same patient across different events.\r\n */\r\nfunction generatePatientHash(data: Record<string, any>): string | null {\r\n    // Try to extract identifying fields (case-insensitive key matching)\r\n    const findField = (patterns: string[]): string => {\r\n        for (const [key, value] of Object.entries(data)) {\r\n            const lowerKey = key.toLowerCase();\r\n            for (const pattern of patterns) {\r\n                if (lowerKey.includes(pattern.toLowerCase())) {\r\n                    return String(value || '').trim().toLowerCase();\r\n                }\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n\r\n    const name = findField(['name', 'patient name', 'full name', 'fullname']);\r\n    const phone = findField(['phone', 'mobile', 'telephone', 'contact']);\r\n    const gender = findField(['gender', 'sex']);\r\n\r\n    // Need at least name and one other identifier\r\n    if (!name || (!phone && !gender)) {\r\n        return null;\r\n    }\r\n\r\n    // Create a hash from the combined values\r\n    const combined = `${name}|${phone}|${gender}`.toLowerCase();\r\n    return crypto.createHash('sha256').update(combined).digest('hex').substring(0, 32);\r\n}\r\n\r\nexport async function submitRecord(eventId: string, data: Record<string, any>) {\r\n    try {\r\n        const session = await auth();\r\n        await dbConnect();\r\n\r\n        // Check if event exists and its public status\r\n        const event = await Event.findById(eventId);\r\n        if (!event) return { success: false, message: 'Event not found' };\r\n\r\n        let recordedBy = undefined;\r\n\r\n        if (event.isPublic) {\r\n            recordedBy = session?.user?.id;\r\n        } else {\r\n            if (!session?.user?.id) {\r\n                return { success: false, message: 'Unauthorized' };\r\n            }\r\n            recordedBy = session.user.id;\r\n        }\r\n\r\n        const retrievalCode = generateRetrievalCode();\r\n        const patientHash = generatePatientHash(data);\r\n\r\n        await Record.create({\r\n            eventId,\r\n            data,\r\n            recordedBy,\r\n            retrievalCode,\r\n            patientHash\r\n        });\r\n\r\n        revalidatePath(`/events/${eventId}/enter-data`);\r\n        revalidatePath(`/e/${eventId}`);\r\n\r\n        return { success: true, message: 'Record saved successfully!', code: retrievalCode };\r\n    } catch (error) {\r\n        console.error('Failed to submit record:', error);\r\n        return { success: false, message: 'Failed to save record' };\r\n    }\r\n}\r\n\r\n/**\r\n * Search for patient history by computing the hash from current input.\r\n * Returns previous records for the same patient from different events.\r\n */\r\nexport async function searchPatientHistory(data: Record<string, any>, currentEventId: string) {\r\n    try {\r\n        await dbConnect();\r\n\r\n        const patientHash = generatePatientHash(data);\r\n        if (!patientHash) {\r\n            return { success: false, found: false, message: 'Insufficient data for patient lookup' };\r\n        }\r\n\r\n        // Find previous records with this hash, excluding current event\r\n        const previousRecords = await Record.find({\r\n            patientHash,\r\n            eventId: { $ne: currentEventId }\r\n        })\r\n            .populate('eventId', 'title location date')\r\n            .sort({ createdAt: -1 })\r\n            .limit(5)\r\n            .lean();\r\n\r\n        if (!previousRecords || previousRecords.length === 0) {\r\n            return { success: true, found: false, message: 'No previous records found' };\r\n        }\r\n\r\n        // Format the history for display\r\n        const history = previousRecords.map((record: any) => {\r\n            const eventTitle = record.eventId?.title || 'Unknown Event';\r\n            const eventDate = record.eventId?.date ? new Date(record.eventId.date) : new Date(record.createdAt);\r\n            const recordDate = new Date(record.createdAt);\r\n\r\n            // Calculate time ago\r\n            const monthsAgo = Math.floor((Date.now() - recordDate.getTime()) / (1000 * 60 * 60 * 24 * 30));\r\n            const timeAgo = monthsAgo < 1 ? 'Less than a month ago' :\r\n                monthsAgo === 1 ? '1 month ago' :\r\n                    `${monthsAgo} months ago`;\r\n\r\n            // Extract key vitals from previous record data\r\n            const prevData = record.data || {};\r\n            const vitals: Record<string, string> = {};\r\n\r\n            // Try to find common vital fields\r\n            const vitalPatterns = [\r\n                { patterns: ['bp', 'blood pressure'], label: 'BP' },\r\n                { patterns: ['weight'], label: 'Weight' },\r\n                { patterns: ['bmi'], label: 'BMI' },\r\n                { patterns: ['blood sugar', 'glucose', 'fbs', 'rbs'], label: 'Blood Sugar' },\r\n                { patterns: ['pcv', 'hematocrit'], label: 'PCV' },\r\n            ];\r\n\r\n            for (const { patterns, label } of vitalPatterns) {\r\n                for (const [key, value] of Object.entries(prevData)) {\r\n                    const lowerKey = key.toLowerCase();\r\n                    for (const pattern of patterns) {\r\n                        if (lowerKey.includes(pattern) && value) {\r\n                            vitals[label] = String(value);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return {\r\n                _id: record._id.toString(),\r\n                eventTitle,\r\n                eventDate: eventDate.toISOString(),\r\n                recordDate: recordDate.toISOString(),\r\n                timeAgo,\r\n                vitals\r\n            };\r\n        });\r\n\r\n        return {\r\n            success: true,\r\n            found: true,\r\n            history,\r\n            message: `Found ${history.length} previous record(s)`\r\n        };\r\n    } catch (error) {\r\n        console.error('Failed to search patient history:', error);\r\n        return { success: false, found: false, message: 'Error searching patient history' };\r\n    }\r\n}\r\n\r\nexport async function getRecordByCode(query: string) {\r\n    try {\r\n        await dbConnect();\r\n\r\n        // Trim whitespace from query\r\n        const trimmedQuery = query.trim();\r\n\r\n        console.log(`ðŸ” Searching for record with query: \"${trimmedQuery}\"`); // Debug Log\r\n\r\n        // Normalize phone number by removing all non-digit characters\r\n        const normalizePhone = (str: string) => str.replace(/\\D/g, '');\r\n        const normalizedQuery = normalizePhone(trimmedQuery);\r\n\r\n        // First, try exact code match (case-insensitive)\r\n        let record = await Record.findOne({\r\n            retrievalCode: { $regex: new RegExp(`^${trimmedQuery}$`, 'i') }\r\n        });\r\n\r\n        // If not found and query contains digits, search by phone number\r\n        if (!record && normalizedQuery.length >= 5) {\r\n            console.log(`ðŸ“± Searching by normalized phone: \"${normalizedQuery}\"`);\r\n\r\n            // Get all records and search through data fields\r\n            const allRecords = await Record.find({}).lean();\r\n\r\n            let foundRecordId = null;\r\n\r\n            for (const rec of allRecords) {\r\n                const data = rec.data || {};\r\n\r\n                // Check all fields in the data object\r\n                for (const [key, value] of Object.entries(data)) {\r\n                    const lowerKey = key.toLowerCase();\r\n\r\n                    // If key suggests it's a phone field\r\n                    if (lowerKey.includes('phone') ||\r\n                        lowerKey.includes('mobile') ||\r\n                        lowerKey.includes('telephone') ||\r\n                        lowerKey.includes('contact')) {\r\n\r\n                        // Normalize the stored value and compare\r\n                        const normalizedValue = normalizePhone(String(value || ''));\r\n\r\n                        if (normalizedValue === normalizedQuery ||\r\n                            normalizedValue.endsWith(normalizedQuery) ||\r\n                            normalizedQuery.endsWith(normalizedValue)) {\r\n                            foundRecordId = rec._id;\r\n                            console.log(`âœ… Found by phone in field: ${key}`);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (foundRecordId) break;\r\n            }\r\n\r\n            // Fetch the complete record from database if found\r\n            if (foundRecordId) {\r\n                record = await Record.findById(foundRecordId);\r\n                console.log('DEBUG Phone search - Found record:', record?._id, 'Data keys:', Object.keys(record?.data || {}));\r\n            }\r\n        }\r\n\r\n        if (!record) {\r\n            console.log(`âŒ Record not found for query: \"${trimmedQuery}\"`);\r\n            return { success: false, message: 'Record not found' };\r\n        }\r\n\r\n        console.log(`âœ… Record found: ${record._id}`);\r\n        // Return clear data\r\n        return { success: true, data: JSON.parse(JSON.stringify(record)) };\r\n    } catch (error) {\r\n        console.error('Failed to fetch record:', error);\r\n        return { success: false, message: 'Error fetching record' };\r\n    }\r\n}\r\n\r\nexport async function updateRecordByCode(code: string, data: Record<string, any>) {\r\n    try {\r\n        await dbConnect();\r\n\r\n        // Merge data? Or overwrite? \r\n        // User workflow: \"Fills missing fields\". Usually implies merge.\r\n        // Mongoose generic update doesn't automatically deep merge map/mixed unless specified.\r\n        // But for this simple key-value store, we can merge in JS or use $set.\r\n\r\n        // Let's fetch first to merge safely or use $set for each key if data is flat.\r\n        // Since `data` is Mixed, updating `data` usually replaces it unless we dot-walk.\r\n        // EASIEST: Read, Merge, Save.\r\n\r\n        const record = await Record.findOne({ retrievalCode: code });\r\n        if (!record) return { success: false, message: 'Invalid code' };\r\n\r\n        // Check if event allows updates? (Assuming yes for now)\r\n\r\n        // Merge existing data with new data\r\n        record.data = { ...record.data, ...data };\r\n        await record.save();\r\n\r\n        revalidatePath(`/e/${record.eventId}`);\r\n\r\n        return { success: true, message: 'Record updated successfully!' };\r\n    } catch (error) {\r\n        console.error('Failed to update record:', error);\r\n        return { success: false, message: 'Update failed' };\r\n    }\r\n}\r\n\r\nexport async function deleteRecord(recordId: string) {\r\n    try {\r\n        const session = await auth();\r\n        if (!session?.user) return { success: false, message: 'Unauthorized' };\r\n\r\n        await dbConnect();\r\n        const record = await Record.findByIdAndDelete(recordId);\r\n        if (!record) return { success: false, message: 'Record not found' };\r\n\r\n        // Revalidate to update UI\r\n        revalidatePath(`/dashboard/event/${record.eventId}/builder`);\r\n\r\n        return { success: true, message: 'Record deleted' };\r\n    } catch (error) {\r\n        console.error('Failed to delete record:', error);\r\n        return { success: false, message: 'Delete failed' };\r\n    }\r\n}\r\n\r\nexport async function updateRecordById(recordId: string, data: Record<string, any>) {\r\n    try {\r\n        const session = await auth();\r\n        if (!session?.user) return { success: false, message: 'Unauthorized' };\r\n\r\n        await dbConnect();\r\n        const record = await Record.findByIdAndUpdate(recordId, { data }, { new: true });\r\n\r\n        revalidatePath(`/dashboard/event/${record.eventId}/builder`);\r\n        return { success: true, message: 'Record updated' };\r\n    } catch (error) {\r\n        return { success: false, message: 'Update failed' };\r\n    }\r\n}\r\n\r\nexport async function sendResultEmail(recordId: string) {\r\n    try {\r\n        const session = await auth();\r\n        if (!session?.user) return { success: false, message: 'Unauthorized' };\r\n\r\n        await dbConnect();\r\n\r\n        const record = await Record.findById(recordId).populate('eventId');\r\n\r\n        if (!record) {\r\n            return { success: false, message: 'Record not found' };\r\n        }\r\n\r\n        const data = record.data || {};\r\n\r\n        // precise extraction of email and name\r\n        // Keys might be case-insensitive, so we search\r\n        const findValue = (keys: string[]) => {\r\n            for (const key of Object.keys(data)) {\r\n                if (keys.includes(key.toLowerCase())) return data[key];\r\n            }\r\n            return null;\r\n        };\r\n\r\n        const email = findValue(['email', 'patient email', 'e-mail']);\r\n        const name = findValue(['name', 'patient name', 'fullname', 'full name', 'patientname']) || 'Patient';\r\n\r\n        if (!email) {\r\n            return { success: false, message: 'No email address found for this patient' };\r\n        }\r\n\r\n        const eventName = record.eventId?.title || 'Medical Outreach';\r\n\r\n        // Send the email\r\n        // We pass the entire data object as 'vitals' (the template filters out internal keys)\r\n        const emailResult = await sendMedicalResultEmail(\r\n            email,\r\n            name,\r\n            eventName,\r\n            data, // vitals\r\n            {}    // tests (merged anyway)\r\n        );\r\n\r\n        if (!emailResult.success) {\r\n            return { success: false, message: 'Failed to send email: ' + emailResult.message };\r\n        }\r\n\r\n        // Update record status\r\n        record.resultEmailSent = true;\r\n        await record.save();\r\n\r\n        revalidatePath(`/dashboard/event/${record.eventId._id || record.eventId}/builder`);\r\n\r\n        return { success: true, message: 'Result sent to ' + email };\r\n\r\n    } catch (error) {\r\n        console.error('Error sending result email:', error);\r\n        return { success: false, message: 'Server error sending email' };\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\forgot-password\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":34,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":34,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { SubmitButton } from '@/components/ui/SubmitButton';\r\nimport { Mail, ArrowLeft, CheckCircle, AlertCircle } from 'lucide-react';\r\nimport Link from 'next/link';\r\n\r\nexport default function ForgotPasswordPage() {\r\n    const [status, setStatus] = useState<'idle' | 'success' | 'error'>('idle');\r\n    const [message, setMessage] = useState('');\r\n\r\n    const handleSubmit = async (formData: FormData) => {\r\n        setStatus('idle');\r\n        const email = formData.get('email');\r\n\r\n        try {\r\n            const res = await fetch('/api/auth/forgot-password', {\r\n                method: 'POST',\r\n                body: JSON.stringify({ email }),\r\n                headers: { 'Content-Type': 'application/json' },\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            // Always show success for security, unless server error 500\r\n            if (res.ok) {\r\n                setStatus('success');\r\n                setMessage(data.message);\r\n            } else {\r\n                setStatus('error');\r\n                setMessage(data.message || 'Something went wrong');\r\n            }\r\n        } catch (err) {\r\n            setStatus('error');\r\n            setMessage('Failed to connect to server');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center p-4 bg-slate-50\">\r\n            <div className=\"w-full max-w-md animate-in fade-in slide-in-from-bottom-4 duration-500\">\r\n                <div className=\"text-center mb-8\">\r\n                    <h1 className=\"text-3xl font-serif font-bold text-brand-dark mb-2\">Reset Password</h1>\r\n                    <p className=\"text-slate-500\">Enter your email to receive a reset link</p>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] p-8\">\r\n                    {status === 'success' ? (\r\n                        <div className=\"text-center py-6\">\r\n                            <div className=\"w-16 h-16 bg-green-50 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                                <CheckCircle size={32} />\r\n                            </div>\r\n                            <h3 className=\"text-xl font-bold text-slate-800 mb-2\">Check your inbox</h3>\r\n                            <p className=\"text-slate-600 mb-6\">\r\n                                {message}\r\n                            </p>\r\n                            <Link href=\"/login\" className=\"inline-flex items-center gap-2 font-bold text-brand-dark hover:text-brand-gold transition-colors\">\r\n                                <ArrowLeft size={18} /> Back to Sign In\r\n                            </Link>\r\n                        </div>\r\n                    ) : (\r\n                        <form action={handleSubmit} className=\"space-y-6\">\r\n                            {status === 'error' && (\r\n                                <div className=\"p-4 bg-red-50 text-red-700 rounded-lg flex items-start gap-3\">\r\n                                    <AlertCircle size={20} className=\"flex-shrink-0 mt-0.5\" />\r\n                                    <p className=\"text-sm font-medium\">{message}</p>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div>\r\n                                <label htmlFor=\"email\" className=\"block text-sm font-bold text-slate-700 mb-1\">\r\n                                    Email Address\r\n                                </label>\r\n                                <div className=\"relative\">\r\n                                    <Mail className=\"absolute left-3 top-3.5 text-slate-400\" size={20} />\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        id=\"email\"\r\n                                        name=\"email\"\r\n                                        required\r\n                                        className=\"w-full pl-10 pr-4 py-3 bg-slate-50 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                        placeholder=\"name@example.com\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <SubmitButton className=\"w-full py-3 bg-brand-dark text-white rounded-xl hover:bg-slate-800 transition-all font-bold shadow-md\">\r\n                                Send Reset Link\r\n                            </SubmitButton>\r\n\r\n                            <div className=\"text-center\">\r\n                                <Link href=\"/login\" className=\"text-sm text-slate-500 hover:text-brand-dark transition-colors flex items-center justify-center gap-2\">\r\n                                    <ArrowLeft size={16} /> Back to Sign In\r\n                                </Link>\r\n                            </div>\r\n                        </form>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\login\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":55,"column":34,"nodeType":"Identifier","messageId":"unusedVar","endLine":55,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { signIn } from 'next-auth/react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { AlertCircle, LogIn } from 'lucide-react';\r\nimport { SubmitButton } from '@/components/ui/SubmitButton';\r\n\r\nexport default function LoginPage() {\r\n    const router = useRouter();\r\n    const [error, setError] = useState('');\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center p-4\">\r\n            <div className=\"w-full max-w-md animate-in fade-in slide-in-from-bottom-4 duration-700\">\r\n                <div className=\"text-center mb-8\">\r\n                    <div className=\"inline-block p-4 bg-brand-dark rounded-xl mb-4 shadow-lg\">\r\n                        <span className=\"text-3xl font-serif font-bold text-brand-gold\">R</span>\r\n                    </div>\r\n                    <h1 className=\"text-4xl font-serif font-bold text-brand-dark mb-2\">ReachPoint</h1>\r\n                    <p className=\"text-slate-500\">Secure Professional Access</p>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] p-8\">\r\n                    <h2 className=\"text-2xl font-serif font-bold text-brand-dark mb-6\">Sign In</h2>\r\n\r\n                    {error && (\r\n                        <div className=\"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-start gap-3\">\r\n                            <AlertCircle size={20} className=\"flex-shrink-0 mt-0.5\" />\r\n                            <p className=\"text-sm font-medium\">{error}</p>\r\n                        </div>\r\n                    )}\r\n\r\n\r\n                    <form action={async (formData) => {\r\n                        setError('');\r\n\r\n                        const email = formData.get('email') as string;\r\n                        const password = formData.get('password') as string;\r\n\r\n                        try {\r\n                            const result = await signIn('credentials', {\r\n                                email,\r\n                                password,\r\n                                redirect: false,\r\n                            });\r\n\r\n                            if (result?.error) {\r\n                                setError('Invalid credentials or account not approved yet.');\r\n                            } else {\r\n                                router.push('/dashboard');\r\n                                router.refresh();\r\n                            }\r\n                        } catch (err) {\r\n                            setError('An error occurred. Please try again.');\r\n                        }\r\n                    }} className=\"space-y-5\">\r\n                        <div>\r\n                            <label htmlFor=\"email\" className=\"block text-sm font-bold text-slate-700 mb-1\">\r\n                                Email Address\r\n                            </label>\r\n                            <input\r\n                                type=\"email\"\r\n                                id=\"email\"\r\n                                name=\"email\"\r\n                                required\r\n                                className=\"w-full px-4 py-3 bg-slate-50 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                placeholder=\"name@clinic.com\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <div className=\"flex justify-between items-center mb-1\">\r\n                                <label htmlFor=\"password\" className=\"block text-sm font-bold text-slate-700\">\r\n                                    Password\r\n                                </label>\r\n                                <Link href=\"/forgot-password\" className=\"text-xs text-slate-400 hover:text-brand-dark\">Forgot?</Link>\r\n                            </div>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                required\r\n                                className=\"w-full px-4 py-3 bg-slate-50 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                            />\r\n                        </div>\r\n\r\n                        <SubmitButton className=\"w-full py-3.5 flex items-center justify-center gap-3 bg-brand-dark text-white rounded-xl hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all font-bold shadow-[0_4px_14px_0_rgba(15,23,42,0.39)] hover:shadow-[0_6px_20px_rgba(15,23,42,0.23)] hover:-translate-y-0.5 active:translate-y-0 text-base\">\r\n                            <LogIn size={20} className=\"text-brand-gold\" /> Sign In\r\n                        </SubmitButton>\r\n                    </form>\r\n\r\n                    <div className=\"mt-8 text-center pt-6 border-t border-slate-50\">\r\n                        <p className=\"text-sm text-slate-500\">\r\n                            No account yet?{' '}\r\n                            <Link href=\"/signup\" className=\"text-brand-dark font-bold hover:text-brand-gold transition-colors\">\r\n                                Apply for Access\r\n                            </Link>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\manifest.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":117,"column":123,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[7531,7787],"text":"\n                Absolutely. Our Dynamic Form Builder allows you to create specific data modules for any projectâ€”whether it&apos;s a Malaria Survey, a Blood Drive, or a Thesis Questionnaire. You define the variables; we handle the data structure.\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[7531,7787],"text":"\n                Absolutely. Our Dynamic Form Builder allows you to create specific data modules for any projectâ€”whether it&lsquo;s a Malaria Survey, a Blood Drive, or a Thesis Questionnaire. You define the variables; we handle the data structure.\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[7531,7787],"text":"\n                Absolutely. Our Dynamic Form Builder allows you to create specific data modules for any projectâ€”whether it&#39;s a Malaria Survey, a Blood Drive, or a Thesis Questionnaire. You define the variables; we handle the data structure.\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[7531,7787],"text":"\n                Absolutely. Our Dynamic Form Builder allows you to create specific data modules for any projectâ€”whether it&rsquo;s a Malaria Survey, a Blood Drive, or a Thesis Questionnaire. You define the variables; we handle the data structure.\n              "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":137,"column":41,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[9322,9568],"text":"\n                You can generate secure &quot;Invitation Codes\" from your Admin Dashboard. Send these to your data collectors or students. This allows them to sign up and join your project instantly without waiting for manual approval.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[9322,9568],"text":"\n                You can generate secure &ldquo;Invitation Codes\" from your Admin Dashboard. Send these to your data collectors or students. This allows them to sign up and join your project instantly without waiting for manual approval.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[9322,9568],"text":"\n                You can generate secure &#34;Invitation Codes\" from your Admin Dashboard. Send these to your data collectors or students. This allows them to sign up and join your project instantly without waiting for manual approval.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[9322,9568],"text":"\n                You can generate secure &rdquo;Invitation Codes\" from your Admin Dashboard. Send these to your data collectors or students. This allows them to sign up and join your project instantly without waiting for manual approval.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":137,"column":58,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[9322,9568],"text":"\n                You can generate secure \"Invitation Codes&quot; from your Admin Dashboard. Send these to your data collectors or students. This allows them to sign up and join your project instantly without waiting for manual approval.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[9322,9568],"text":"\n                You can generate secure \"Invitation Codes&ldquo; from your Admin Dashboard. Send these to your data collectors or students. This allows them to sign up and join your project instantly without waiting for manual approval.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[9322,9568],"text":"\n                You can generate secure \"Invitation Codes&#34; from your Admin Dashboard. Send these to your data collectors or students. This allows them to sign up and join your project instantly without waiting for manual approval.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[9322,9568],"text":"\n                You can generate secure \"Invitation Codes&rdquo; from your Admin Dashboard. Send these to your data collectors or students. This allows them to sign up and join your project instantly without waiting for manual approval.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":147,"column":44,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[10211,10445],"text":"\n                Yes. ReachPoint features a &quot;Research-Ready\" export engine. You can download your entire dataset as a clean CSV/Excel file, pre-formatted for immediate analysis in tools like SPSS, Python (Pandas), or R.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[10211,10445],"text":"\n                Yes. ReachPoint features a &ldquo;Research-Ready\" export engine. You can download your entire dataset as a clean CSV/Excel file, pre-formatted for immediate analysis in tools like SPSS, Python (Pandas), or R.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[10211,10445],"text":"\n                Yes. ReachPoint features a &#34;Research-Ready\" export engine. You can download your entire dataset as a clean CSV/Excel file, pre-formatted for immediate analysis in tools like SPSS, Python (Pandas), or R.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[10211,10445],"text":"\n                Yes. ReachPoint features a &rdquo;Research-Ready\" export engine. You can download your entire dataset as a clean CSV/Excel file, pre-formatted for immediate analysis in tools like SPSS, Python (Pandas), or R.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":147,"column":59,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[10211,10445],"text":"\n                Yes. ReachPoint features a \"Research-Ready&quot; export engine. You can download your entire dataset as a clean CSV/Excel file, pre-formatted for immediate analysis in tools like SPSS, Python (Pandas), or R.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[10211,10445],"text":"\n                Yes. ReachPoint features a \"Research-Ready&ldquo; export engine. You can download your entire dataset as a clean CSV/Excel file, pre-formatted for immediate analysis in tools like SPSS, Python (Pandas), or R.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[10211,10445],"text":"\n                Yes. ReachPoint features a \"Research-Ready&#34; export engine. You can download your entire dataset as a clean CSV/Excel file, pre-formatted for immediate analysis in tools like SPSS, Python (Pandas), or R.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[10211,10445],"text":"\n                Yes. ReachPoint features a \"Research-Ready&rdquo; export engine. You can download your entire dataset as a clean CSV/Excel file, pre-formatted for immediate analysis in tools like SPSS, Python (Pandas), or R.\n              "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Link from \"next/link\";\nimport Image from \"next/image\";\nimport { Heart, Activity, Brain, ArrowRight, MessageCircle, Mail, Phone, ChevronDown, LogIn, Sparkles } from \"lucide-react\";\n\nexport default function Home() {\n  return (\n    <div className=\"min-h-screen bg-brand-cream font-sans text-brand-dark flex flex-col\">\n      {/* Header */}\n      <header className=\"fixed top-0 w-full z-50 bg-white/80 backdrop-blur-md border-b border-slate-100 transition-all duration-300\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            {/* LOGO ONLY - No wrapper, specific width/height to prevent cropping */}\n            <Image\n              src=\"/Reach.png\"\n              alt=\"ReachPoint Logo\"\n              width={50}\n              height={50}\n              className=\"object-contain\" // Ensures the full logo is visible\n              priority\n            />\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <Link href=\"/login\" className=\"flex items-center gap-2 text-sm font-bold text-slate-600 hover:text-brand-dark transition-colors px-3 py-2 rounded-lg hover:bg-slate-50\">\n              <LogIn size={18} className=\"text-brand-gold\" />\n              Sign In\n            </Link>\n            <Link href=\"/signup\" className=\"flex items-center gap-2 px-5 py-2.5 bg-brand-dark text-white rounded-lg text-sm font-bold hover:bg-slate-800 hover:shadow-lg transition-all shadow-[0_4px_14px_0_rgba(15,23,42,0.39)] group\">\n              <Sparkles size={16} className=\"text-brand-gold group-hover:animate-pulse\" />\n              Get Started\n            </Link>\n          </div>\n        </div>\n      </header>\n\n      {/* Main */}\n      <main className=\"flex-1 pt-32 pb-20 px-6\">\n        {/* Hero */}\n        <div className=\"max-w-4xl mx-auto text-center mb-24 animate-in fade-in slide-in-from-bottom-8 duration-700\">\n          <div className=\"inline-block px-4 py-1.5 rounded-full bg-slate-100 text-slate-600 text-xs font-bold uppercase tracking-widest mb-6\">\n            The Unified Platform for Field Data Collection & Clinical Research\n          </div>\n          <h1 className=\"text-5xl md:text-7xl font-bold font-serif mb-8 leading-tight text-brand-dark\">\n            Welcome to <br />\n            <span className=\"text-brand-gold italic\">ReachPoint</span>\n          </h1>\n          <p className=\"text-lg md:text-xl text-slate-600 mb-10 max-w-2xl mx-auto leading-relaxed\">\n            Deploy custom data modules, manage multi-site projects, and visualize health analytics in real-time.\n          </p>\n          <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\n            <Link href=\"/signup\" className=\"px-8 py-4 bg-brand-dark text-white rounded-lg hover:shadow-xl hover:shadow-slate-200 transition-all font-bold text-lg flex items-center gap-2 shadow-[0_4px_14px_0_rgba(15,23,42,0.39)] group\">\n              Launch Platform <ArrowRight size={18} className=\"group-hover:translate-x-1 transition-transform\" />\n            </Link>\n            <Link href=\"/login\" className=\"px-8 py-4 bg-white border border-slate-200 text-slate-700 rounded-lg hover:border-brand-gold hover:text-brand-dark transition-all font-bold text-lg hover:shadow-md flex items-center gap-2\">\n              <LogIn size={18} className=\"text-slate-400\" />\n              Access Portal\n            </Link>\n          </div>\n        </div>\n\n        {/* Features */}\n        <div className=\"max-w-7xl mx-auto grid md:grid-cols-3 gap-8\">\n          <div className=\"bg-white p-8 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] transition-all hover:-translate-y-1 duration-300\">\n            <div className=\"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mb-6 text-brand-dark\">\n              <Brain size={28} />\n            </div>\n            <h3 className=\"text-2xl font-serif font-bold mb-3 text-brand-dark\">AI Chief Medical Officer</h3>\n            <p className=\"text-slate-500 leading-relaxed\">\n              Instantly analyze aggregate patient data to identify trends, outbreaks, and intervention opportunities using advanced AI models.\n            </p>\n          </div>\n\n          <div className=\"bg-white p-8 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] transition-all hover:-translate-y-1 duration-300\">\n            <div className=\"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mb-6 text-brand-dark\">\n              <Activity size={28} />\n            </div>\n            <h3 className=\"text-2xl font-serif font-bold mb-3 text-brand-dark\">Dynamic Analytics</h3>\n            <p className=\"text-slate-500 leading-relaxed\">\n              Visualize health metrics with professional charts. Track patient volume, disease prevalence, and completion rates in real-time.\n            </p>\n          </div>\n\n          <div className=\"bg-white p-8 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)] transition-all hover:-translate-y-1 duration-300\">\n            <div className=\"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mb-6 text-brand-dark\">\n              <Heart size={28} />\n            </div>\n            <h3 className=\"text-2xl font-serif font-bold mb-3 text-brand-dark\">Custom Form Builder</h3>\n            <p className=\"text-slate-500 leading-relaxed\">\n              Design tailored data collection forms for any medical specialty. Drag-and-drop interface with validation and security built-in.\n            </p>\n          </div>\n        </div>\n\n        {/* FAQ Section */}\n        <div className=\"max-w-3xl mx-auto mt-32\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl md:text-4xl font-serif font-bold text-brand-dark mb-4\">Frequently Asked Questions</h2>\n            <p className=\"text-slate-500\">Everything you need to know about ReachPoint.</p>\n          </div>\n\n          <div className=\"space-y-4\">\n            <details className=\"group bg-white rounded-xl shadow-sm border border-slate-100 open:border-brand-gold/30 transition-all\">\n              <summary className=\"flex items-center justify-between p-6 cursor-pointer list-none\">\n                <h3 className=\"font-bold text-slate-800 group-hover:text-brand-gold transition-colors\">Does it work offline?</h3>\n                <ChevronDown className=\"text-slate-400 group-open:rotate-180 transition-transform\" />\n              </summary>\n              <div className=\"px-6 pb-6 text-slate-600 leading-relaxed animate-in fade-in slide-in-from-top-2\">\n                Yes! ReachPoint is built as a Progressive Web App (PWA). You can collect data in remote areas with zero internet. The system automatically syncs your records to the secure cloud the moment you regain connectivity.\n              </div>\n            </details>\n\n            <details className=\"group bg-white rounded-xl shadow-sm border border-slate-100 open:border-brand-gold/30 transition-all\">\n              <summary className=\"flex items-center justify-between p-6 cursor-pointer list-none\">\n                <h3 className=\"font-bold text-slate-800 group-hover:text-brand-gold transition-colors\">Can I customize the medical forms?</h3>\n                <ChevronDown className=\"text-slate-400 group-open:rotate-180 transition-transform\" />\n              </summary>\n              <div className=\"px-6 pb-6 text-slate-600 leading-relaxed animate-in fade-in slide-in-from-top-2\">\n                Absolutely. Our Dynamic Form Builder allows you to create specific data modules for any projectâ€”whether it's a Malaria Survey, a Blood Drive, or a Thesis Questionnaire. You define the variables; we handle the data structure.\n              </div>\n            </details>\n\n            <details className=\"group bg-white rounded-xl shadow-sm border border-slate-100 open:border-brand-gold/30 transition-all\">\n              <summary className=\"flex items-center justify-between p-6 cursor-pointer list-none\">\n                <h3 className=\"font-bold text-slate-800 group-hover:text-brand-gold transition-colors\">Is my patient data secure?</h3>\n                <ChevronDown className=\"text-slate-400 group-open:rotate-180 transition-transform\" />\n              </summary>\n              <div className=\"px-6 pb-6 text-slate-600 leading-relaxed animate-in fade-in slide-in-from-top-2\">\n                Security is our foundation. All data is encrypted in transit and at rest. We use strict Role-Based Access Control (RBAC), ensuring that volunteers only see what they need to see, while sensitive admin data remains protected.\n              </div>\n            </details>\n\n            <details className=\"group bg-white rounded-xl shadow-sm border border-slate-100 open:border-brand-gold/30 transition-all\">\n              <summary className=\"flex items-center justify-between p-6 cursor-pointer list-none\">\n                <h3 className=\"font-bold text-slate-800 group-hover:text-brand-gold transition-colors\">How do I add my team members?</h3>\n                <ChevronDown className=\"text-slate-400 group-open:rotate-180 transition-transform\" />\n              </summary>\n              <div className=\"px-6 pb-6 text-slate-600 leading-relaxed animate-in fade-in slide-in-from-top-2\">\n                You can generate secure \"Invitation Codes\" from your Admin Dashboard. Send these to your data collectors or students. This allows them to sign up and join your project instantly without waiting for manual approval.\n              </div>\n            </details>\n\n            <details className=\"group bg-white rounded-xl shadow-sm border border-slate-100 open:border-brand-gold/30 transition-all\">\n              <summary className=\"flex items-center justify-between p-6 cursor-pointer list-none\">\n                <h3 className=\"font-bold text-slate-800 group-hover:text-brand-gold transition-colors\">Can I export data for analysis?</h3>\n                <ChevronDown className=\"text-slate-400 group-open:rotate-180 transition-transform\" />\n              </summary>\n              <div className=\"px-6 pb-6 text-slate-600 leading-relaxed animate-in fade-in slide-in-from-top-2\">\n                Yes. ReachPoint features a \"Research-Ready\" export engine. You can download your entire dataset as a clean CSV/Excel file, pre-formatted for immediate analysis in tools like SPSS, Python (Pandas), or R.\n              </div>\n            </details>\n\n            <details className=\"group bg-white rounded-xl shadow-sm border border-slate-100 open:border-brand-gold/30 transition-all\">\n              <summary className=\"flex items-center justify-between p-6 cursor-pointer list-none\">\n                <h3 className=\"font-bold text-slate-800 group-hover:text-brand-gold transition-colors\">What devices are supported?</h3>\n                <ChevronDown className=\"text-slate-400 group-open:rotate-180 transition-transform\" />\n              </summary>\n              <div className=\"px-6 pb-6 text-slate-600 leading-relaxed animate-in fade-in slide-in-from-top-2\">\n                ReachPoint works on any device with a browser. It is optimized for mobile phones (Android/iOS) for field data collection, and offers a rich dashboard experience on laptops and tablets for project administration.\n              </div>\n            </details>\n          </div>\n        </div>\n\n        {/* Contact Section */}\n        <div className=\"max-w-4xl mx-auto mt-32 bg-brand-dark rounded-3xl p-8 md:p-12 text-center text-white relative overflow-hidden shadow-2xl\">\n          <div className=\"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none\">\n            <div className=\"absolute -top-24 -left-24 w-64 h-64 bg-brand-gold rounded-full filter blur-3xl\"></div>\n            <div className=\"absolute -bottom-24 -right-24 w-64 h-64 bg-blue-500 rounded-full filter blur-3xl\"></div>\n          </div>\n\n          <div className=\"relative z-10\">\n            <h2 className=\"text-3xl md:text-4xl font-serif font-bold mb-6\">Ready to Transform Your Outreach?</h2>\n            <p className=\"text-slate-300 text-lg mb-10 max-w-2xl mx-auto\">\n              Get in touch with our team to schedule a demo or discuss your specific needs.\n            </p>\n\n            <div className=\"flex flex-col md:flex-row items-center justify-center gap-6\">\n              <a href=\"mailto:contact@medoutreach.com\" className=\"flex items-center gap-3 px-6 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/10 rounded-xl transition-all group\">\n                <div className=\"p-2 bg-brand-gold text-brand-dark rounded-lg group-hover:scale-110 transition-transform\">\n                  <Mail size={20} />\n                </div>\n                <div className=\"text-left\">\n                  <p className=\"text-xs text-slate-400 uppercase tracking-wider font-bold\">Email Us</p>\n                  <p className=\"font-medium\">contact@reachpoint.com</p>\n                </div>\n              </a>\n\n              <a href=\"tel:+1234567890\" className=\"flex items-center gap-3 px-6 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/10 rounded-xl transition-all group\">\n                <div className=\"p-2 bg-brand-gold text-brand-dark rounded-lg group-hover:scale-110 transition-transform\">\n                  <Phone size={20} />\n                </div>\n                <div className=\"text-left\">\n                  <p className=\"text-xs text-slate-400 uppercase tracking-wider font-bold\">Call Us</p>\n                  <p className=\"font-medium\">+234 9126461386</p>\n                </div>\n              </a>\n            </div>\n          </div>\n        </div>\n\n        {/* WhatsApp Floating Button */}\n        <a\n          href=\"https://wa.me/+2349126461386\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"fixed bottom-8 right-8 z-50 p-4 bg-[#25D366] text-white rounded-full shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all hover:bg-[#20bd5a] flex items-center justify-center\"\n          aria-label=\"Chat on WhatsApp\"\n        >\n          <MessageCircle size={28} fill=\"white\" className=\"text-white\" />\n        </a>\n\n        {/* Footer */}\n        <div className=\"mt-32 border-t border-slate-200 py-8 text-center text-slate-400 text-sm\">\n          <p>&copy; 2026 ReachPoint. Designed for Excellence.</p>\n        </div>\n      </main>\n    </div>\n  );\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\reset-password\\[token]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowLeft' is defined but never used.","line":6,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":25,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowLeft"},"fix":{"range":[134,145],"text":""},"desc":"Remove unused variable \"ArrowLeft\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":51,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":51,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\n'use client';\r\n\r\nimport { useState, use } from 'react';\r\nimport { SubmitButton } from '@/components/ui/SubmitButton';\r\nimport { Lock, ArrowLeft, CheckCircle, AlertCircle } from 'lucide-react';\r\nimport Link from 'next/link';\r\n\r\nexport default function ResetPasswordPage({ params }: { params: Promise<{ token: string }> }) {\r\n    // Correctly unwrap params using React.use() or await in async component\r\n    // Since this is a client component, we use the `use` hook concept or just access it if passed as prop?\r\n    // In Next.js 15, params is a promise.\r\n    const { token } = use(params);\r\n\r\n    const [status, setStatus] = useState<'idle' | 'success' | 'error'>('idle');\r\n    const [message, setMessage] = useState('');\r\n\r\n    const handleSubmit = async (formData: FormData) => {\r\n        setStatus('idle');\r\n        const password = formData.get('password') as string;\r\n        const confirmPassword = formData.get('confirmPassword') as string;\r\n\r\n        if (password !== confirmPassword) {\r\n            setStatus('error');\r\n            setMessage('Passwords do not match');\r\n            return;\r\n        }\r\n\r\n        if (password.length < 6) {\r\n            setStatus('error');\r\n            setMessage('Password must be at least 6 characters');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const res = await fetch('/api/auth/reset-password', {\r\n                method: 'POST',\r\n                body: JSON.stringify({ token, newPassword: password }),\r\n                headers: { 'Content-Type': 'application/json' },\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (res.ok) {\r\n                setStatus('success');\r\n                setMessage('Your password has been reset successfully.');\r\n            } else {\r\n                setStatus('error');\r\n                setMessage(data.message || 'Failed to reset password');\r\n            }\r\n        } catch (err) {\r\n            setStatus('error');\r\n            setMessage('Failed to connect to server');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center p-4 bg-slate-50\">\r\n            <div className=\"w-full max-w-md animate-in fade-in slide-in-from-bottom-4 duration-500\">\r\n                <div className=\"text-center mb-8\">\r\n                    <h1 className=\"text-3xl font-serif font-bold text-brand-dark mb-2\">New Password</h1>\r\n                    <p className=\"text-slate-500\">Enter your new secure password below</p>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] p-8\">\r\n                    {status === 'success' ? (\r\n                        <div className=\"text-center py-6\">\r\n                            <div className=\"w-16 h-16 bg-green-50 text-green-500 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                                <CheckCircle size={32} />\r\n                            </div>\r\n                            <h3 className=\"text-xl font-bold text-slate-800 mb-2\">Password Updated!</h3>\r\n                            <p className=\"text-slate-600 mb-6\">\r\n                                You can now log in with your new password.\r\n                            </p>\r\n                            <Link href=\"/login\" className=\"block w-full py-3 bg-brand-dark text-white rounded-xl font-bold hover:bg-slate-800 transition-colors shadow-md\">\r\n                                Sign In\r\n                            </Link>\r\n                        </div>\r\n                    ) : (\r\n                        <form action={handleSubmit} className=\"space-y-5\">\r\n                            {status === 'error' && (\r\n                                <div className=\"p-4 bg-red-50 text-red-700 rounded-lg flex items-start gap-3\">\r\n                                    <AlertCircle size={20} className=\"flex-shrink-0 mt-0.5\" />\r\n                                    <p className=\"text-sm font-medium\">{message}</p>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div>\r\n                                <label htmlFor=\"password\" className=\"block text-sm font-bold text-slate-700 mb-1\">\r\n                                    New Password\r\n                                </label>\r\n                                <div className=\"relative\">\r\n                                    <Lock className=\"absolute left-3 top-3.5 text-slate-400\" size={20} />\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id=\"password\"\r\n                                        name=\"password\"\r\n                                        required\r\n                                        className=\"w-full pl-10 pr-4 py-3 bg-slate-50 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                        placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label htmlFor=\"confirmPassword\" className=\"block text-sm font-bold text-slate-700 mb-1\">\r\n                                    Confirm Password\r\n                                </label>\r\n                                <div className=\"relative\">\r\n                                    <Lock className=\"absolute left-3 top-3.5 text-slate-400\" size={20} />\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id=\"confirmPassword\"\r\n                                        name=\"confirmPassword\"\r\n                                        required\r\n                                        className=\"w-full pl-10 pr-4 py-3 bg-slate-50 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                        placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <SubmitButton className=\"w-full py-3 bg-brand-dark text-white rounded-xl hover:bg-slate-800 transition-all font-bold shadow-md\">\r\n                                Set New Password\r\n                            </SubmitButton>\r\n                        </form>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\app\\signup\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":10,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":105,"column":34,"nodeType":"Identifier","messageId":"unusedVar","endLine":105,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { AlertCircle, UserPlus, CheckCircle, Ticket } from 'lucide-react';\r\nimport { SubmitButton } from '@/components/ui/SubmitButton';\r\n\r\nexport default function SignupPage() {\r\n    const router = useRouter();\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const [autoApproved, setAutoApproved] = useState(false);\r\n\r\n    if (success) {\r\n        return (\r\n            <div className=\"min-h-screen flex items-center justify-center p-4\">\r\n                <div className=\"w-full max-w-md bg-white rounded-2xl p-8 shadow-[0_8px_30px_rgb(0,0,0,0.04)] text-center animate-in fade-in zoom-in duration-300\">\r\n                    <div className={`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${autoApproved ? 'bg-green-50' : 'bg-amber-50'}`}>\r\n                        <CheckCircle size={32} className={autoApproved ? 'text-green-600' : 'text-amber-600'} />\r\n                    </div>\r\n                    <h2 className=\"text-2xl font-serif font-bold text-brand-dark mb-3\">\r\n                        {autoApproved ? 'Account Activated!' : 'Registration Successful!'}\r\n                    </h2>\r\n                    <p className=\"text-slate-500 mb-6\">\r\n                        {autoApproved\r\n                            ? 'Your invitation code was valid. Your account is now active and ready to use!'\r\n                            : <>Your account has been created and is <strong>awaiting admin approval</strong>.</>\r\n                        }\r\n                    </p>\r\n                    <Link\r\n                        href=\"/login\"\r\n                        className={`inline-block px-6 py-3 rounded-lg font-semibold transition-colors shadow-lg ${autoApproved\r\n                            ? 'bg-green-600 text-white hover:bg-green-700'\r\n                            : 'bg-brand-dark text-white hover:bg-slate-800'\r\n                            }`}\r\n                    >\r\n                        {autoApproved ? 'Log In Now' : 'Go to Login'}\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen flex items-center justify-center p-4\">\r\n            <div className=\"w-full max-w-md animate-in fade-in slide-in-from-bottom-4 duration-700\">\r\n                <div className=\"text-center mb-8\">\r\n                    <div className=\"inline-block p-4 bg-brand-dark rounded-xl mb-4 shadow-lg\">\r\n                        <span className=\"text-3xl font-serif font-bold text-brand-gold\">R</span>\r\n                    </div>\r\n                    <h1 className=\"text-4xl font-serif font-bold text-brand-dark mb-2\">Create Account</h1>\r\n                    <p className=\"text-slate-500\">Join the ReachPoint platform</p>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] p-8\">\r\n                    <h2 className=\"text-2xl font-serif font-bold text-brand-dark mb-6\">Sign Up</h2>\r\n\r\n                    {error && (\r\n                        <div className=\"mb-6 p-4 bg-red-50 text-red-700 rounded-lg flex items-start gap-3\">\r\n                            <AlertCircle size={20} className=\"flex-shrink-0 mt-0.5\" />\r\n                            <p className=\"text-sm font-medium\">{error}</p>\r\n                        </div>\r\n                    )}\r\n\r\n                    <form action={async (formData) => {\r\n                        setError('');\r\n\r\n                        const name = formData.get('name') as string;\r\n                        const email = formData.get('email') as string;\r\n                        const password = formData.get('password') as string;\r\n                        const confirmPassword = formData.get('confirmPassword') as string;\r\n                        const invitationCode = formData.get('invitationCode') as string;\r\n\r\n                        if (password !== confirmPassword) {\r\n                            setError('Passwords do not match');\r\n                            return;\r\n                        }\r\n\r\n                        if (password.length < 6) {\r\n                            setError('Password must be at least 6 characters');\r\n                            return;\r\n                        }\r\n\r\n                        try {\r\n                            const response = await fetch('/api/auth/register', {\r\n                                method: 'POST',\r\n                                headers: { 'Content-Type': 'application/json' },\r\n                                body: JSON.stringify({\r\n                                    name,\r\n                                    email,\r\n                                    password,\r\n                                    invitationCode: invitationCode || undefined\r\n                                }),\r\n                            });\r\n\r\n                            const data = await response.json();\r\n\r\n                            if (response.ok) {\r\n                                setAutoApproved(data.autoApproved === true);\r\n                                setSuccess(true);\r\n                            } else {\r\n                                setError(data.message || 'Registration failed');\r\n                            }\r\n                        } catch (err) {\r\n                            setError('An error occurred. Please try again.');\r\n                        }\r\n                    }} className=\"space-y-4\">\r\n                        <div>\r\n                            <label htmlFor=\"name\" className=\"block text-sm font-bold text-slate-700 mb-1\">\r\n                                Full Name\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"name\"\r\n                                name=\"name\"\r\n                                required\r\n                                className=\"w-full px-4 py-3 bg-slate-50 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                placeholder=\"Dr. John Doe\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"email\" className=\"block text-sm font-bold text-slate-700 mb-1\">\r\n                                Email Address\r\n                            </label>\r\n                            <input\r\n                                type=\"email\"\r\n                                id=\"email\"\r\n                                name=\"email\"\r\n                                required\r\n                                className=\"w-full px-4 py-3 bg-slate-50 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                placeholder=\"name@clinic.com\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"password\" className=\"block text-sm font-bold text-slate-700 mb-1\">\r\n                                Password\r\n                            </label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                required\r\n                                className=\"w-full px-4 py-3 bg-slate-50 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div>\r\n                            <label htmlFor=\"confirmPassword\" className=\"block text-sm font-bold text-slate-700 mb-1\">\r\n                                Confirm Password\r\n                            </label>\r\n                            <input\r\n                                type=\"password\"\r\n                                id=\"confirmPassword\"\r\n                                name=\"confirmPassword\"\r\n                                required\r\n                                className=\"w-full px-4 py-3 bg-slate-50 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400\"\r\n                                placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Invitation Code Field */}\r\n                        <div className=\"pt-2 border-t border-slate-100\">\r\n                            <label htmlFor=\"invitationCode\" className=\"block text-sm font-bold text-slate-700 mb-1 flex items-center gap-2\">\r\n                                <Ticket size={14} className=\"text-brand-gold\" />\r\n                                Invitation Code <span className=\"font-normal text-slate-400\">(Optional)</span>\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"invitationCode\"\r\n                                name=\"invitationCode\"\r\n                                className=\"w-full px-4 py-3 bg-slate-50 rounded-lg focus:ring-2 focus:ring-brand-gold/50 outline-none transition-all placeholder:text-slate-400 uppercase font-mono tracking-wider\"\r\n                                placeholder=\"XXXX-XXXX-XX\"\r\n                            />\r\n                            <p className=\"text-xs text-slate-400 mt-1\">\r\n                                Have an invitation code? Enter it for instant account activation.\r\n                            </p>\r\n                        </div>\r\n\r\n                        <SubmitButton className=\"w-full py-3.5 mt-4 flex items-center justify-center gap-3 bg-brand-dark text-white rounded-xl hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all font-bold shadow-[0_4px_14px_0_rgba(15,23,42,0.39)] hover:shadow-[0_6px_20px_rgba(15,23,42,0.23)] hover:-translate-y-0.5 active:translate-y-0 text-base\">\r\n                            <UserPlus size={20} className=\"text-brand-gold\" /> Sign Up\r\n                        </SubmitButton>\r\n                    </form>\r\n\r\n                    <div className=\"mt-8 text-center pt-6 border-t border-slate-50\">\r\n                        <p className=\"text-sm text-slate-500\">\r\n                            Already have an account?{' '}\r\n                            <Link href=\"/login\" className=\"text-brand-dark font-bold hover:text-brand-gold transition-colors\">\r\n                                Sign in\r\n                            </Link>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"mt-6 p-4 bg-brand-gold/10 border border-brand-gold/20 rounded-lg text-center\">\r\n                    <p className=\"text-sm text-brand-dark/80\">\r\n                        <strong>Note:</strong> Without an invitation code, your account will need admin approval before you can log in.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\auth.config.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[147,150],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[147,150],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":19,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":19,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[829,832],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[829,832],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":27,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1095,1098],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1095,1098],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export const authConfig = {\r\n    pages: {\r\n        signIn: '/login',\r\n    },\r\n    callbacks: {\r\n        authorized({ auth, request: { nextUrl } }: any) {\r\n            const isLoggedIn = !!auth?.user;\r\n            const isApproved = auth?.user?.accountStatus === 'active';\r\n            const isOnDashboard = nextUrl.pathname.startsWith('/dashboard') || nextUrl.pathname.startsWith('/admin');\r\n\r\n            if (isOnDashboard) {\r\n                if (isLoggedIn && isApproved) return true;\r\n                return false; // Redirect unauthenticated or unapproved users to login page\r\n            } else if (isLoggedIn && isApproved && nextUrl.pathname === '/login') {\r\n                return Response.redirect(new URL('/dashboard', nextUrl));\r\n            }\r\n            return true;\r\n        },\r\n        async jwt({ token, user }: any) {\r\n            if (user) {\r\n                token.role = user.role;\r\n                token.accountStatus = user.accountStatus;\r\n                token.id = user.id;\r\n            }\r\n            return token;\r\n        },\r\n        async session({ session, token }: any) {\r\n            if (token) {\r\n                session.user.role = token.role;\r\n                session.user.accountStatus = token.accountStatus;\r\n                session.user.id = token.id;\r\n            }\r\n            return session;\r\n        },\r\n    },\r\n    providers: [],\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\components\\ui\\Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\components\\ui\\RefreshButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\components\\ui\\Spinner.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":3,"column":11,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":3,"endColumn":23,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[56,102],"text":"type SpinnerProps = LucideProps"},"desc":"Replace empty interface with a type alias."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Loader2, LucideProps } from 'lucide-react';\r\n\r\ninterface SpinnerProps extends LucideProps { }\r\n\r\nexport function Spinner({ className, ...props }: SpinnerProps) {\r\n    return <Loader2 className={`animate-spin ${className || ''}`} {...props} />;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\components\\ui\\SubmitButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\lib\\analytics.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[43,46],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[43,46],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[185,188],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[185,188],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":5,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":5,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[193,196],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[193,196],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export function generateSmartInsight(data: any) {\r\n    if (!data) return \"No data available.\";\r\n\r\n    if (data.type === 'categorical') {\r\n        const sorted = [...data.data].sort((a: any, b: any) => b.value - a.value);\r\n        if (sorted.length === 0) return \"No responses yet.\";\r\n\r\n        const top = sorted[0];\r\n        const percentage = Math.round((top.value / data.totalResponses) * 100);\r\n\r\n        if (percentage >= 50) {\r\n            return `The majority of patients (${percentage}%) reported '${top.name}' for ${data.label}.`;\r\n        } else {\r\n            return `Responses are widely distributed, with '${top.name}' being the most common (${percentage}%).`;\r\n        }\r\n    }\r\n\r\n    if (data.type === 'numerical') {\r\n        if (!data.stats) return \"No stats available.\";\r\n        return `The average ${data.label} is ${Math.round(data.stats.average)}, with a range between ${data.stats.min} and ${data.stats.max}.`;\r\n    }\r\n\r\n    return \"Analysis available.\";\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\lib\\blood-utils-wrapper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\lib\\blood-utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\lib\\db.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":7,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":11},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[603,606],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[603,606],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[617,620],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[617,620],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import mongoose from 'mongoose';\r\nimport dns from 'dns';\r\n\r\n// Fix for Node.js DNS resolution issues (ESERVFAIL)\r\ntry {\r\n  dns.setDefaultResultOrder('ipv4first');\r\n} catch (e) {\r\n  // Ignore if not supported\r\n}\r\n\r\nconst MONGODB_URI = process.env.MONGODB_URI;\r\n\r\nif (!MONGODB_URI) {\r\n  throw new Error(\r\n    'Please define the MONGODB_URI environment variable inside .env.local'\r\n  );\r\n}\r\n\r\n// Global is used here to maintain a cached connection across hot reloads\r\n// in development. This prevents connections growing exponentially\r\n// during API Route usage.\r\ndeclare global {\r\n  var mongoose: { conn: any; promise: any } | undefined;\r\n}\r\n\r\nlet cached = global.mongoose;\r\n\r\nif (!cached) {\r\n  cached = global.mongoose = { conn: null, promise: null };\r\n}\r\n\r\nasync function dbConnect() {\r\n  if (cached!.conn) {\r\n    return cached!.conn;\r\n  }\r\n\r\n  if (!cached!.promise) {\r\n    const opts = {\r\n      bufferCommands: false,\r\n    };\r\n\r\n    cached!.promise = mongoose.connect(MONGODB_URI!, opts).then((mongoose) => {\r\n      return mongoose;\r\n    });\r\n  }\r\n\r\n  try {\r\n    cached!.conn = await cached!.promise;\r\n  } catch (e) {\r\n    cached!.promise = null;\r\n    console.error(\"âŒ MONGODB CONNECTION ERROR âŒ\");\r\n    console.error(\"---------------------------------------------------\");\r\n    console.error(\"The application could not connect to MongoDB Atlas.\");\r\n    console.error(\"Common Cause: Your IP address is not whitelisted.\");\r\n    console.error(\"SOLUTION: Go to MongoDB Atlas -> Network Access -> Add IP Address -> Allow Access from Anywhere (0.0.0.0/0)\");\r\n    console.error(\"---------------------------------------------------\");\r\n    throw e;\r\n  }\r\n\r\n  return cached!.conn;\r\n}\r\n\r\nexport default dbConnect;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\lib\\email.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\lib\\medical-email.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\models\\AuditLog.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[261,264],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[261,264],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import mongoose, { Schema, Document, Model } from \"mongoose\";\r\n\r\nexport interface IAuditLog extends Document {\r\n    action: string;\r\n    performedBy: mongoose.Types.ObjectId;\r\n    targetResource?: string; // e.g., \"User: 12345\" or \"Event: 67890\"\r\n    details?: any; // JSON object with changes or snapshot\r\n    createdAt: Date;\r\n}\r\n\r\nconst AuditLogSchema: Schema = new Schema({\r\n    action: {\r\n        type: String,\r\n        required: true,\r\n        uppercase: true,\r\n    },\r\n    performedBy: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: \"User\",\r\n        required: true,\r\n    },\r\n    targetResource: {\r\n        type: String,\r\n        required: false,\r\n    },\r\n    details: {\r\n        type: Schema.Types.Mixed,\r\n        default: {},\r\n    },\r\n}, {\r\n    timestamps: true, // This adds createdAt and updatedAt\r\n});\r\n\r\n// Prevent model recompilation error in development\r\nconst AuditLog: Model<IAuditLog> = mongoose.models.AuditLog || mongoose.model<IAuditLog>(\"AuditLog\", AuditLogSchema);\r\n\r\nexport default AuditLog;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\models\\Donation.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mongoose' is defined but never used.","line":1,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"mongoose"},"fix":{"range":[7,16],"text":""},"desc":"Remove unused variable \"mongoose\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":87,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":90,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[937,940],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[937,940],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":87,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":90,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1063,1066],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1063,1066],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import mongoose, { Schema, model, models } from 'mongoose';\r\nimport { getCompatibleRecipients, BloodGroup, RhFactor } from '@/lib/blood-utils';\r\n\r\nconst DonationSchema = new Schema({\r\n    eventId: { type: Schema.Types.ObjectId, ref: 'Event', required: true },\r\n    donorName: { type: String, required: true }, // Basic identification\r\n    donorVitals: {\r\n        weight: { type: Number, required: true },\r\n        bloodPressure: { type: String, required: true }, // e.g. \"120/80\"\r\n        pcv: { type: Number, required: true },\r\n        age: { type: Number, required: true }\r\n    },\r\n    serology: {\r\n        hiv: { type: Boolean, required: true }, // True = Reactive (Bad)\r\n        hbsag: { type: Boolean, required: true },\r\n        hcv: { type: Boolean, required: true },\r\n        vdrl: { type: Boolean, required: true }\r\n    },\r\n    bloodGroup: {\r\n        group: { type: String, enum: ['A', 'B', 'AB', 'O'], required: function (this: any) { return this.isFitToDonate; } },\r\n        rh: { type: String, enum: ['Positive', 'Negative'], required: function (this: any) { return this.isFitToDonate; } }\r\n    },\r\n    isFitToDonate: { type: Boolean, default: false },\r\n    compatibleRecipients: { type: [String], default: [] }\r\n}, { timestamps: true });\r\n\r\n// Auto-calculate fields before saving\r\nDonationSchema.pre('save', async function () {\r\n    // 1. Calculate Fitness\r\n    if (!this.donorVitals || !this.serology) {\r\n        this.isFitToDonate = false;\r\n        return;\r\n    }\r\n\r\n    const { weight, pcv } = this.donorVitals;\r\n    const { hiv, hbsag, hcv, vdrl } = this.serology;\r\n\r\n    const isVitalsGood = weight >= 50 && pcv >= 38;\r\n    const isSerologyClean = !hiv && !hbsag && !hcv && !vdrl;\r\n\r\n    this.isFitToDonate = isVitalsGood && isSerologyClean;\r\n\r\n    // 2. Calculate Compatible Recipients if Fit and Group is present\r\n    if (this.isFitToDonate && this.bloodGroup && this.bloodGroup.group && this.bloodGroup.rh) {\r\n        this.compatibleRecipients = getCompatibleRecipients(\r\n            this.bloodGroup.group as BloodGroup,\r\n            this.bloodGroup.rh as RhFactor\r\n        );\r\n    } else {\r\n        this.compatibleRecipients = [];\r\n    }\r\n});\r\n\r\nconst Donation = models.Donation || model('Donation', DonationSchema);\r\n\r\nexport default Donation;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\models\\Event.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mongoose' is defined but never used.","line":1,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"mongoose"},"fix":{"range":[7,16],"text":""},"desc":"Remove unused variable \"mongoose\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import mongoose, { Schema, model, models } from 'mongoose';\r\n\r\nconst FormFieldSchema = new Schema({\r\n    label: { type: String, required: true },\r\n    type: { type: String, required: true }, // e.g., 'text', 'number', 'date', 'select'\r\n    options: [String], // for select inputs if applicable\r\n    required: { type: Boolean, default: false },\r\n    width: { type: String, enum: ['full', 'half'], default: 'full' }\r\n}, { _id: false });\r\n\r\nconst InventoryItemSchema = new Schema({\r\n    itemName: { type: String, required: true },\r\n    startingStock: { type: Number, required: true }\r\n}, { _id: false });\r\n\r\nconst EventSchema = new Schema({\r\n    title: { type: String, required: true },\r\n    description: { type: String },\r\n    reason: { type: String }, // Rationale for the event\r\n    purpose: { type: String }, // Goal/Objective\r\n    date: { type: Date, required: true },\r\n    location: { type: String, required: true },\r\n    coverImage: { type: String },\r\n    createdBy: { type: Schema.Types.ObjectId, ref: 'User', required: true },\r\n    status: {\r\n        type: String,\r\n        enum: ['pending', 'approved', 'rejected'],\r\n        default: 'pending'\r\n    },\r\n    // The Form Builder Schema - defaults to empty until User designs it\r\n    formFields: {\r\n        type: [FormFieldSchema],\r\n        default: []\r\n    },\r\n    // Inventory Management\r\n    inventory: {\r\n        type: [InventoryItemSchema],\r\n        default: []\r\n    },\r\n    // Public Access Settings\r\n    isPublic: { type: Boolean, default: false },\r\n    accessCode: { type: String }, // Optional password for public access\r\n}, { timestamps: true });\r\n\r\nconst Event = models.Event || model('Event', EventSchema);\r\n\r\nexport default Event;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\models\\InvitationCode.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mongoose' is defined but never used.","line":1,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"mongoose"},"fix":{"range":[7,16],"text":""},"desc":"Remove unused variable \"mongoose\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import mongoose, { Schema, model, models } from 'mongoose';\r\n\r\nconst InvitationCodeSchema = new Schema({\r\n    code: {\r\n        type: String,\r\n        required: true,\r\n        unique: true,\r\n        uppercase: true,\r\n        trim: true\r\n    },\r\n    isUsed: {\r\n        type: Boolean,\r\n        default: false\r\n    },\r\n    generatedBy: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'User',\r\n        required: true\r\n    },\r\n    usedBy: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'User',\r\n        default: null\r\n    },\r\n    usedAt: {\r\n        type: Date,\r\n        default: null\r\n    }\r\n}, { timestamps: true });\r\n\r\n// Index for faster lookups\r\nInvitationCodeSchema.index({ code: 1, isUsed: 1 });\r\n\r\nconst InvitationCode = models.InvitationCode || model('InvitationCode', InvitationCodeSchema);\r\n\r\nexport default InvitationCode;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\models\\Record.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mongoose' is defined but never used.","line":1,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"mongoose"},"fix":{"range":[7,16],"text":""},"desc":"Remove unused variable \"mongoose\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import mongoose, { Schema, model, models } from 'mongoose';\r\n\r\nconst RecordSchema = new Schema({\r\n    eventId: { type: Schema.Types.ObjectId, ref: 'Event', required: true },\r\n    data: { type: Schema.Types.Mixed, required: true }, // Stores the dynamic answers key-value pairs\r\n    recordedBy: { type: Schema.Types.ObjectId, ref: 'User' }, // Optional for public submissions\r\n    retrievalCode: { type: String, unique: true, sparse: true }, // For retrieving/updating records\r\n    patientHash: { type: String, index: true }, // Hash of Name + Phone + Gender for patient tracking\r\n    resultEmailSent: { type: Boolean, default: false }, // Track if result email has been sent\r\n}, { timestamps: true });\r\n\r\n// Index for efficient patient history lookups\r\nRecordSchema.index({ patientHash: 1, createdAt: -1 });\r\n\r\nconst Record = models.Record || model('Record', RecordSchema);\r\n\r\nexport default Record;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\models\\User.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'mongoose' is defined but never used.","line":1,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"mongoose"},"fix":{"range":[7,16],"text":""},"desc":"Remove unused variable \"mongoose\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import mongoose, { Schema, model, models } from 'mongoose';\r\n\r\nconst UserSchema = new Schema({\r\n    name: { type: String, required: true },\r\n    email: { type: String, required: true, unique: true },\r\n    password: { type: String, required: true },\r\n    role: {\r\n        type: String,\r\n        enum: ['admin', 'user'],\r\n        default: 'user'\r\n    },\r\n    accountStatus: {\r\n        type: String,\r\n        enum: ['pending', 'active', 'rejected'],\r\n        default: 'pending'\r\n    },\r\n    isTrusted: {\r\n        type: Boolean,\r\n        default: false\r\n    },\r\n    resetPasswordToken: { type: String, sparse: true },\r\n    resetPasswordExpires: { type: Date, sparse: true },\r\n}, { timestamps: true });\r\n\r\nconst User = models.User || model('User', UserSchema);\r\n\r\nexport default User;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\next.config.ts","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":17,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":36}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { NextConfig } from \"next\";\n\nconst withPWA = require('next-pwa')({\n  dest: 'public',\n  register: true,\n  skipWaiting: true,\n  disable: process.env.NODE_ENV === 'development',\n});\n\nconst nextConfig: NextConfig = {\n  images: {\n    remotePatterns: [\n      {\n        protocol: 'https',\n        hostname: 'res.cloudinary.com',\n      },\n    ],\n  },\n};\n\nexport default withPWA(nextConfig);\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\public\\sw.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":156,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":203},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":209,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":233},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":626,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10724},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":1,"column":7822,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":7823},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'a' is defined but never used.","line":1,"column":7841,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":7842},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'c' is defined but never used.","line":1,"column":7849,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":7850}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"if(!self.define){let e,s={};const a=(a,c)=>(a=new URL(a+\".js\",c).href,s[a]||new Promise(s=>{if(\"document\"in self){const e=document.createElement(\"script\");e.src=a,e.onload=s,document.head.appendChild(e)}else e=a,importScripts(a),s()}).then(()=>{let e=s[a];if(!e)throw new Error(`Module ${a} didnâ€™t register its module`);return e}));self.define=(c,t)=>{const n=e||(\"document\"in self?document.currentScript.src:\"\")||location.href;if(s[n])return;let i={};const d=e=>a(e,n),r={module:{uri:n},exports:i,require:d};s[n]=Promise.all(c.map(e=>r[e]||d(e))).then(e=>(t(...e),i))}}define([\"./workbox-4754cb34\"],function(e){\"use strict\";importScripts(),self.skipWaiting(),e.clientsClaim(),e.precacheAndRoute([{url:\"/Reach.png\",revision:\"56e57cfadd2f1ef30fc714e290d7c29b\"},{url:\"/_next/static/L1rxmOghC8F5pN90i1oh9/_buildManifest.js\",revision:\"deb6c92570aee837c5393365f7d721f5\"},{url:\"/_next/static/L1rxmOghC8F5pN90i1oh9/_ssgManifest.js\",revision:\"b6652df95db52feb4daf4eca35380933\"},{url:\"/_next/static/chunks/1705-8ec741fa548ce738.js\",revision:\"8ec741fa548ce738\"},{url:\"/_next/static/chunks/1729.cf574b0a47e06557.js\",revision:\"cf574b0a47e06557\"},{url:\"/_next/static/chunks/1946-c9f798369f681f4b.js\",revision:\"c9f798369f681f4b\"},{url:\"/_next/static/chunks/1966.b8f83f7ba376c962.js\",revision:\"b8f83f7ba376c962\"},{url:\"/_next/static/chunks/2619-9aac8983f30c7c8a.js\",revision:\"9aac8983f30c7c8a\"},{url:\"/_next/static/chunks/3089-60fd9870e5dd5b94.js\",revision:\"60fd9870e5dd5b94\"},{url:\"/_next/static/chunks/3794-084a406ae2f53c6d.js\",revision:\"084a406ae2f53c6d\"},{url:\"/_next/static/chunks/3899.3f761f7e3a944e8c.js\",revision:\"3f761f7e3a944e8c\"},{url:\"/_next/static/chunks/4653.2288077e584af48e.js\",revision:\"2288077e584af48e\"},{url:\"/_next/static/chunks/4bd1b696-e5d7c65570c947b7.js\",revision:\"e5d7c65570c947b7\"},{url:\"/_next/static/chunks/704-fcf10d97dac2a066.js\",revision:\"fcf10d97dac2a066\"},{url:\"/_next/static/chunks/8389-3c00d55b154295d1.js\",revision:\"3c00d55b154295d1\"},{url:\"/_next/static/chunks/8437-ee4d92210c98907c.js\",revision:\"ee4d92210c98907c\"},{url:\"/_next/static/chunks/8500-98e13bcce54aa7a0.js\",revision:\"98e13bcce54aa7a0\"},{url:\"/_next/static/chunks/app/_global-error/page-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/app/_not-found/page-d6a1df546254a0bd.js\",revision:\"d6a1df546254a0bd\"},{url:\"/_next/static/chunks/app/admin/blood-bank/page-7459218613882ee2.js\",revision:\"7459218613882ee2\"},{url:\"/_next/static/chunks/app/admin/events/page-b625128ce9f5567b.js\",revision:\"b625128ce9f5567b\"},{url:\"/_next/static/chunks/app/admin/layout-e0872c8b44f52d28.js\",revision:\"e0872c8b44f52d28\"},{url:\"/_next/static/chunks/app/admin/loading-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/app/admin/page-2c897c3774c17cc4.js\",revision:\"2c897c3774c17cc4\"},{url:\"/_next/static/chunks/app/admin/users/page-c7537a4dfaec5122.js\",revision:\"c7537a4dfaec5122\"},{url:\"/_next/static/chunks/app/api/admin/export/route-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/app/api/auth/%5B...nextauth%5D/route-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/app/api/auth/forgot-password/route-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/app/api/auth/register/route-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/app/api/auth/reset-password/route-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/app/api/events/%5Bid%5D/analytics/route-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/app/dashboard/create-event/page-ddaeb597e39a6a89.js\",revision:\"ddaeb597e39a6a89\"},{url:\"/_next/static/chunks/app/dashboard/event/%5Bid%5D/analytics/page-8e3a6c1b9b2751dc.js\",revision:\"8e3a6c1b9b2751dc\"},{url:\"/_next/static/chunks/app/dashboard/event/%5Bid%5D/builder/page-7ab0ab24ef10df9c.js\",revision:\"7ab0ab24ef10df9c\"},{url:\"/_next/static/chunks/app/dashboard/layout-ae56d04f19331ce2.js\",revision:\"ae56d04f19331ce2\"},{url:\"/_next/static/chunks/app/dashboard/loading-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/app/dashboard/my-events/page-02782f4f97e81886.js\",revision:\"02782f4f97e81886\"},{url:\"/_next/static/chunks/app/dashboard/page-9ef730240542be81.js\",revision:\"9ef730240542be81\"},{url:\"/_next/static/chunks/app/dashboard/settings/page-016c30e6a9ca4a24.js\",revision:\"016c30e6a9ca4a24\"},{url:\"/_next/static/chunks/app/e/%5Bid%5D/page-ab33c863ef7ef25d.js\",revision:\"ab33c863ef7ef25d\"},{url:\"/_next/static/chunks/app/events/%5Bid%5D/blood-drive/page-33a708036fb2f893.js\",revision:\"33a708036fb2f893\"},{url:\"/_next/static/chunks/app/events/%5Bid%5D/enter-data/page-bd0f831fa400b3da.js\",revision:\"bd0f831fa400b3da\"},{url:\"/_next/static/chunks/app/forgot-password/page-a901d55ce2612a04.js\",revision:\"a901d55ce2612a04\"},{url:\"/_next/static/chunks/app/layout-00de506ec464b80e.js\",revision:\"00de506ec464b80e\"},{url:\"/_next/static/chunks/app/login/page-0c52b33c79caf1c3.js\",revision:\"0c52b33c79caf1c3\"},{url:\"/_next/static/chunks/app/manifest.webmanifest/route-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/app/page-1a2dbcd0963221fe.js\",revision:\"1a2dbcd0963221fe\"},{url:\"/_next/static/chunks/app/reset-password/%5Btoken%5D/page-ade077212cb42135.js\",revision:\"ade077212cb42135\"},{url:\"/_next/static/chunks/app/signup/page-2211e7c868b518cb.js\",revision:\"2211e7c868b518cb\"},{url:\"/_next/static/chunks/framework-81b2e59ffe13bb24.js\",revision:\"81b2e59ffe13bb24\"},{url:\"/_next/static/chunks/main-3a707720e70d4719.js\",revision:\"3a707720e70d4719\"},{url:\"/_next/static/chunks/main-app-ad3f64cf78132256.js\",revision:\"ad3f64cf78132256\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/app-error-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/forbidden-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/global-error-361ad7ea48d726fd.js\",revision:\"361ad7ea48d726fd\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/not-found-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/next/dist/client/components/builtin/unauthorized-4e5da4d8f2b7bcd1.js\",revision:\"4e5da4d8f2b7bcd1\"},{url:\"/_next/static/chunks/polyfills-42372ed130431b0a.js\",revision:\"846118c33b2c0e922d7b3a7676f81f6f\"},{url:\"/_next/static/chunks/webpack-dc56912a2c163211.js\",revision:\"dc56912a2c163211\"},{url:\"/_next/static/css/417e010e02ad4f8a.css\",revision:\"417e010e02ad4f8a\"},{url:\"/_next/static/media/28a2004cf8372660-s.woff2\",revision:\"a81e6c6c3493caf3463c36f633996e92\"},{url:\"/_next/static/media/39969fcf98a3026e-s.woff2\",revision:\"01cbba1eab04f564e7d2f44107608d74\"},{url:\"/_next/static/media/47f136985ef5b5cb-s.woff2\",revision:\"62f762afb90d7743f6916ea0cce473af\"},{url:\"/_next/static/media/4de1fea1a954a5b6-s.p.woff2\",revision:\"b7d6b48d8d12946dc808ff39aed6c460\"},{url:\"/_next/static/media/4ead58c4dcc3f285-s.woff2\",revision:\"774586d4bcb09cb42f38fc490d25b01b\"},{url:\"/_next/static/media/6d664cce900333ee-s.p.woff2\",revision:\"017598645bcc882a3610effe171c2ca3\"},{url:\"/_next/static/media/cce080f35d014443-s.woff2\",revision:\"b0d4953143648e4486d93df16327b906\"},{url:\"/_next/static/media/eaead17c7dbfcd5d-s.p.woff2\",revision:\"6da252de0cbc8a69b5d5c2e0e3f67722\"},{url:\"/file.svg\",revision:\"d09f95206c3fa0bb9bd9fefabfd0ea71\"},{url:\"/globe.svg\",revision:\"2aaafa6a49b6563925fe440891e32717\"},{url:\"/next.svg\",revision:\"8e061864f388b47f33a1c3780831193e\"},{url:\"/vercel.svg\",revision:\"c0af2f507b369b085b35ef4bbe3bcf1e\"},{url:\"/window.svg\",revision:\"a2760511c65806022ad20adf74370ff3\"}],{ignoreURLParametersMatching:[]}),e.cleanupOutdatedCaches(),e.registerRoute(\"/\",new e.NetworkFirst({cacheName:\"start-url\",plugins:[{cacheWillUpdate:async({request:e,response:s,event:a,state:c})=>s&&\"opaqueredirect\"===s.type?new Response(s.body,{status:200,statusText:\"OK\",headers:s.headers}):s}]}),\"GET\"),e.registerRoute(/^https:\\/\\/fonts\\.(?:gstatic)\\.com\\/.*/i,new e.CacheFirst({cacheName:\"google-fonts-webfonts\",plugins:[new e.ExpirationPlugin({maxEntries:4,maxAgeSeconds:31536e3})]}),\"GET\"),e.registerRoute(/^https:\\/\\/fonts\\.(?:googleapis)\\.com\\/.*/i,new e.StaleWhileRevalidate({cacheName:\"google-fonts-stylesheets\",plugins:[new e.ExpirationPlugin({maxEntries:4,maxAgeSeconds:604800})]}),\"GET\"),e.registerRoute(/\\.(?:eot|otf|ttc|ttf|woff|woff2|font.css)$/i,new e.StaleWhileRevalidate({cacheName:\"static-font-assets\",plugins:[new e.ExpirationPlugin({maxEntries:4,maxAgeSeconds:604800})]}),\"GET\"),e.registerRoute(/\\.(?:jpg|jpeg|gif|png|svg|ico|webp)$/i,new e.StaleWhileRevalidate({cacheName:\"static-image-assets\",plugins:[new e.ExpirationPlugin({maxEntries:64,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\/_next\\/image\\?url=.+$/i,new e.StaleWhileRevalidate({cacheName:\"next-image\",plugins:[new e.ExpirationPlugin({maxEntries:64,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:mp3|wav|ogg)$/i,new e.CacheFirst({cacheName:\"static-audio-assets\",plugins:[new e.RangeRequestsPlugin,new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:mp4)$/i,new e.CacheFirst({cacheName:\"static-video-assets\",plugins:[new e.RangeRequestsPlugin,new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:js)$/i,new e.StaleWhileRevalidate({cacheName:\"static-js-assets\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:css|less)$/i,new e.StaleWhileRevalidate({cacheName:\"static-style-assets\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\/_next\\/data\\/.+\\/.+\\.json$/i,new e.StaleWhileRevalidate({cacheName:\"next-data\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(/\\.(?:json|xml|csv)$/i,new e.NetworkFirst({cacheName:\"static-data-assets\",plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({url:e})=>{if(!(self.origin===e.origin))return!1;const s=e.pathname;return!s.startsWith(\"/api/auth/\")&&!!s.startsWith(\"/api/\")},new e.NetworkFirst({cacheName:\"apis\",networkTimeoutSeconds:10,plugins:[new e.ExpirationPlugin({maxEntries:16,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({url:e})=>{if(!(self.origin===e.origin))return!1;return!e.pathname.startsWith(\"/api/\")},new e.NetworkFirst({cacheName:\"others\",networkTimeoutSeconds:10,plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:86400})]}),\"GET\"),e.registerRoute(({url:e})=>!(self.origin===e.origin),new e.NetworkFirst({cacheName:\"cross-origin\",networkTimeoutSeconds:10,plugins:[new e.ExpirationPlugin({maxEntries:32,maxAgeSeconds:3600})]}),\"GET\")});\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\public\\workbox-4754cb34.js","messages":[{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":49,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":80},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":87,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":88},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":211,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":251},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":257,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":291},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":298,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":299},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":381,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":425},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":642,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":671},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":813,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":832},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":989,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":1017},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1093,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":1167},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":1738,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":1763},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":2263,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":2337},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":3058,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":3095},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":3102,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":3103},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":3598,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":3626},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":3727,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":3847},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":7052,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":7174},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":7234,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":7291},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'i' is defined but never used.","line":1,"column":7954,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":7955},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":7962,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":8056},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":8066,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":8091},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":8368,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":8410},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9440,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":9541},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9550,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":9557},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9566,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":9625},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9627,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":9719},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":9962,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10029},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10038,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10056},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10065,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10079},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10081,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10142},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10163,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":10197},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":10963,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11000},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":11007,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":11008},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11122,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11142},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11194,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11295},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11301,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11462},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11382,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11453},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11623,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":11656},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":11941,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":12031},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":12060,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":12097},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":12464,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":12575},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":12684,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":12793},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":13012,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":13065},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":13272,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":13313},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":13319,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":13360},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":13367,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":13368},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":14423,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":14424},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":14555,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":14592},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":14599,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":14600},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":15097,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":15468},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":15191,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":15215},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":15404,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":15458},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":15514,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":15692},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":16025,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":16050},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":16057,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":16058},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":16165,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":16292},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":16591,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":16732},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":16958,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17076},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17076,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17176},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17178,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17384},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17458,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17677},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17719,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17855},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":17903,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":17970},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":19089,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":19137},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20040,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20063},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20129,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20176},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20260,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20286},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20317,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20349},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20514,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":23575},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20635,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":20660},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":20768,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":21260},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":20988,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":20989},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":21080,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":21134},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":21657,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":21702},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":21768,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":21880},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":21988,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":22001},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":1,"column":22227,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":22228},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'s' is defined but never used.","line":1,"column":22385,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":22386},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":22450,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":22475},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":22748,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":22825},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":22962,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":22987},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'t' is defined but never used.","line":1,"column":23349,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":23350},{"ruleId":"@typescript-eslint/no-unused-expressions","severity":1,"message":"Expected an assignment or function call and instead saw an expression.","line":1,"column":23479,"nodeType":"ExpressionStatement","messageId":"unusedExpression","endLine":1,"endColumn":23556}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":83,"fixableErrorCount":0,"fixableWarningCount":0,"source":"define([\"exports\"],function(t){\"use strict\";try{self[\"workbox:core:6.5.4\"]&&_()}catch(t){}const e=(t,...e)=>{let s=t;return e.length>0&&(s+=` :: ${JSON.stringify(e)}`),s};class s extends Error{constructor(t,s){super(e(t,s)),this.name=t,this.details=s}}try{self[\"workbox:routing:6.5.4\"]&&_()}catch(t){}const n=t=>t&&\"object\"==typeof t?t:{handle:t};class r{constructor(t,e,s=\"GET\"){this.handler=n(e),this.match=t,this.method=s}setCatchHandler(t){this.catchHandler=n(t)}}class i extends r{constructor(t,e,s){super(({url:e})=>{const s=t.exec(e.href);if(s&&(e.origin===location.origin||0===s.index))return s.slice(1)},e,s)}}class a{constructor(){this.t=new Map,this.i=new Map}get routes(){return this.t}addFetchListener(){self.addEventListener(\"fetch\",t=>{const{request:e}=t,s=this.handleRequest({request:e,event:t});s&&t.respondWith(s)})}addCacheListener(){self.addEventListener(\"message\",t=>{if(t.data&&\"CACHE_URLS\"===t.data.type){const{payload:e}=t.data,s=Promise.all(e.urlsToCache.map(e=>{\"string\"==typeof e&&(e=[e]);const s=new Request(...e);return this.handleRequest({request:s,event:t})}));t.waitUntil(s),t.ports&&t.ports[0]&&s.then(()=>t.ports[0].postMessage(!0))}})}handleRequest({request:t,event:e}){const s=new URL(t.url,location.href);if(!s.protocol.startsWith(\"http\"))return;const n=s.origin===location.origin,{params:r,route:i}=this.findMatchingRoute({event:e,request:t,sameOrigin:n,url:s});let a=i&&i.handler;const o=t.method;if(!a&&this.i.has(o)&&(a=this.i.get(o)),!a)return;let c;try{c=a.handle({url:s,request:t,event:e,params:r})}catch(t){c=Promise.reject(t)}const h=i&&i.catchHandler;return c instanceof Promise&&(this.o||h)&&(c=c.catch(async n=>{if(h)try{return await h.handle({url:s,request:t,event:e,params:r})}catch(t){t instanceof Error&&(n=t)}if(this.o)return this.o.handle({url:s,request:t,event:e});throw n})),c}findMatchingRoute({url:t,sameOrigin:e,request:s,event:n}){const r=this.t.get(s.method)||[];for(const i of r){let r;const a=i.match({url:t,sameOrigin:e,request:s,event:n});if(a)return r=a,(Array.isArray(r)&&0===r.length||a.constructor===Object&&0===Object.keys(a).length||\"boolean\"==typeof a)&&(r=void 0),{route:i,params:r}}return{}}setDefaultHandler(t,e=\"GET\"){this.i.set(e,n(t))}setCatchHandler(t){this.o=n(t)}registerRoute(t){this.t.has(t.method)||this.t.set(t.method,[]),this.t.get(t.method).push(t)}unregisterRoute(t){if(!this.t.has(t.method))throw new s(\"unregister-route-but-not-found-with-method\",{method:t.method});const e=this.t.get(t.method).indexOf(t);if(!(e>-1))throw new s(\"unregister-route-route-not-registered\");this.t.get(t.method).splice(e,1)}}let o;const c=()=>(o||(o=new a,o.addFetchListener(),o.addCacheListener()),o);function h(t,e,n){let a;if(\"string\"==typeof t){const s=new URL(t,location.href);a=new r(({url:t})=>t.href===s.href,e,n)}else if(t instanceof RegExp)a=new i(t,e,n);else if(\"function\"==typeof t)a=new r(t,e,n);else{if(!(t instanceof r))throw new s(\"unsupported-route-type\",{moduleName:\"workbox-routing\",funcName:\"registerRoute\",paramName:\"capture\"});a=t}return c().registerRoute(a),a}try{self[\"workbox:strategies:6.5.4\"]&&_()}catch(t){}const u={cacheWillUpdate:async({response:t})=>200===t.status||0===t.status?t:null},l={googleAnalytics:\"googleAnalytics\",precache:\"precache-v2\",prefix:\"workbox\",runtime:\"runtime\",suffix:\"undefined\"!=typeof registration?registration.scope:\"\"},f=t=>[l.prefix,t,l.suffix].filter(t=>t&&t.length>0).join(\"-\"),w=t=>t||f(l.precache),d=t=>t||f(l.runtime);function p(t,e){const s=new URL(t);for(const t of e)s.searchParams.delete(t);return s.href}class y{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}const g=new Set;function m(t){return\"string\"==typeof t?new Request(t):t}class v{constructor(t,e){this.h={},Object.assign(this,e),this.event=e.event,this.u=t,this.l=new y,this.p=[],this.m=[...t.plugins],this.v=new Map;for(const t of this.m)this.v.set(t,{});this.event.waitUntil(this.l.promise)}async fetch(t){const{event:e}=this;let n=m(t);if(\"navigate\"===n.mode&&e instanceof FetchEvent&&e.preloadResponse){const t=await e.preloadResponse;if(t)return t}const r=this.hasCallback(\"fetchDidFail\")?n.clone():null;try{for(const t of this.iterateCallbacks(\"requestWillFetch\"))n=await t({request:n.clone(),event:e})}catch(t){if(t instanceof Error)throw new s(\"plugin-error-request-will-fetch\",{thrownErrorMessage:t.message})}const i=n.clone();try{let t;t=await fetch(n,\"navigate\"===n.mode?void 0:this.u.fetchOptions);for(const s of this.iterateCallbacks(\"fetchDidSucceed\"))t=await s({event:e,request:i,response:t});return t}catch(t){throw r&&await this.runCallbacks(\"fetchDidFail\",{error:t,event:e,originalRequest:r.clone(),request:i.clone()}),t}}async fetchAndCachePut(t){const e=await this.fetch(t),s=e.clone();return this.waitUntil(this.cachePut(t,s)),e}async cacheMatch(t){const e=m(t);let s;const{cacheName:n,matchOptions:r}=this.u,i=await this.getCacheKey(e,\"read\"),a=Object.assign(Object.assign({},r),{cacheName:n});s=await caches.match(i,a);for(const t of this.iterateCallbacks(\"cachedResponseWillBeUsed\"))s=await t({cacheName:n,matchOptions:r,cachedResponse:s,request:i,event:this.event})||void 0;return s}async cachePut(t,e){const n=m(t);var r;await(r=0,new Promise(t=>setTimeout(t,r)));const i=await this.getCacheKey(n,\"write\");if(!e)throw new s(\"cache-put-with-no-response\",{url:(a=i.url,new URL(String(a),location.href).href.replace(new RegExp(`^${location.origin}`),\"\"))});var a;const o=await this.R(e);if(!o)return!1;const{cacheName:c,matchOptions:h}=this.u,u=await self.caches.open(c),l=this.hasCallback(\"cacheDidUpdate\"),f=l?await async function(t,e,s,n){const r=p(e.url,s);if(e.url===r)return t.match(e,n);const i=Object.assign(Object.assign({},n),{ignoreSearch:!0}),a=await t.keys(e,i);for(const e of a)if(r===p(e.url,s))return t.match(e,n)}(u,i.clone(),[\"__WB_REVISION__\"],h):null;try{await u.put(i,l?o.clone():o)}catch(t){if(t instanceof Error)throw\"QuotaExceededError\"===t.name&&await async function(){for(const t of g)await t()}(),t}for(const t of this.iterateCallbacks(\"cacheDidUpdate\"))await t({cacheName:c,oldResponse:f,newResponse:o.clone(),request:i,event:this.event});return!0}async getCacheKey(t,e){const s=`${t.url} | ${e}`;if(!this.h[s]){let n=t;for(const t of this.iterateCallbacks(\"cacheKeyWillBeUsed\"))n=m(await t({mode:e,request:n,event:this.event,params:this.params}));this.h[s]=n}return this.h[s]}hasCallback(t){for(const e of this.u.plugins)if(t in e)return!0;return!1}async runCallbacks(t,e){for(const s of this.iterateCallbacks(t))await s(e)}*iterateCallbacks(t){for(const e of this.u.plugins)if(\"function\"==typeof e[t]){const s=this.v.get(e),n=n=>{const r=Object.assign(Object.assign({},n),{state:s});return e[t](r)};yield n}}waitUntil(t){return this.p.push(t),t}async doneWaiting(){let t;for(;t=this.p.shift();)await t}destroy(){this.l.resolve(null)}async R(t){let e=t,s=!1;for(const t of this.iterateCallbacks(\"cacheWillUpdate\"))if(e=await t({request:this.request,response:e,event:this.event})||void 0,s=!0,!e)break;return s||e&&200!==e.status&&(e=void 0),e}}class R{constructor(t={}){this.cacheName=d(t.cacheName),this.plugins=t.plugins||[],this.fetchOptions=t.fetchOptions,this.matchOptions=t.matchOptions}handle(t){const[e]=this.handleAll(t);return e}handleAll(t){t instanceof FetchEvent&&(t={event:t,request:t.request});const e=t.event,s=\"string\"==typeof t.request?new Request(t.request):t.request,n=\"params\"in t?t.params:void 0,r=new v(this,{event:e,request:s,params:n}),i=this.q(r,s,e);return[i,this.D(i,r,s,e)]}async q(t,e,n){let r;await t.runCallbacks(\"handlerWillStart\",{event:n,request:e});try{if(r=await this.U(e,t),!r||\"error\"===r.type)throw new s(\"no-response\",{url:e.url})}catch(s){if(s instanceof Error)for(const i of t.iterateCallbacks(\"handlerDidError\"))if(r=await i({error:s,event:n,request:e}),r)break;if(!r)throw s}for(const s of t.iterateCallbacks(\"handlerWillRespond\"))r=await s({event:n,request:e,response:r});return r}async D(t,e,s,n){let r,i;try{r=await t}catch(i){}try{await e.runCallbacks(\"handlerDidRespond\",{event:n,request:s,response:r}),await e.doneWaiting()}catch(t){t instanceof Error&&(i=t)}if(await e.runCallbacks(\"handlerDidComplete\",{event:n,request:s,response:r,error:i}),e.destroy(),i)throw i}}function b(t){t.then(()=>{})}function q(){return q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)({}).hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},q.apply(null,arguments)}let D,U;const x=new WeakMap,L=new WeakMap,I=new WeakMap,C=new WeakMap,E=new WeakMap;let N={get(t,e,s){if(t instanceof IDBTransaction){if(\"done\"===e)return L.get(t);if(\"objectStoreNames\"===e)return t.objectStoreNames||I.get(t);if(\"store\"===e)return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return k(t[e])},set:(t,e,s)=>(t[e]=s,!0),has:(t,e)=>t instanceof IDBTransaction&&(\"done\"===e||\"store\"===e)||e in t};function O(t){return t!==IDBDatabase.prototype.transaction||\"objectStoreNames\"in IDBTransaction.prototype?(U||(U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(B(this),e),k(x.get(this))}:function(...e){return k(t.apply(B(this),e))}:function(e,...s){const n=t.call(B(this),e,...s);return I.set(n,e.sort?e.sort():[e]),k(n)}}function T(t){return\"function\"==typeof t?O(t):(t instanceof IDBTransaction&&function(t){if(L.has(t))return;const e=new Promise((e,s)=>{const n=()=>{t.removeEventListener(\"complete\",r),t.removeEventListener(\"error\",i),t.removeEventListener(\"abort\",i)},r=()=>{e(),n()},i=()=>{s(t.error||new DOMException(\"AbortError\",\"AbortError\")),n()};t.addEventListener(\"complete\",r),t.addEventListener(\"error\",i),t.addEventListener(\"abort\",i)});L.set(t,e)}(t),e=t,(D||(D=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(t,N):t);var e}function k(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((e,s)=>{const n=()=>{t.removeEventListener(\"success\",r),t.removeEventListener(\"error\",i)},r=()=>{e(k(t.result)),n()},i=()=>{s(t.error),n()};t.addEventListener(\"success\",r),t.addEventListener(\"error\",i)});return e.then(e=>{e instanceof IDBCursor&&x.set(e,t)}).catch(()=>{}),E.set(e,t),e}(t);if(C.has(t))return C.get(t);const e=T(t);return e!==t&&(C.set(t,e),E.set(e,t)),e}const B=t=>E.get(t);const P=[\"get\",\"getKey\",\"getAll\",\"getAllKeys\",\"count\"],M=[\"put\",\"add\",\"delete\",\"clear\"],W=new Map;function j(t,e){if(!(t instanceof IDBDatabase)||e in t||\"string\"!=typeof e)return;if(W.get(e))return W.get(e);const s=e.replace(/FromIndex$/,\"\"),n=e!==s,r=M.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!r&&!P.includes(s))return;const i=async function(t,...e){const i=this.transaction(t,r?\"readwrite\":\"readonly\");let a=i.store;return n&&(a=a.index(e.shift())),(await Promise.all([a[s](...e),r&&i.done]))[0]};return W.set(e,i),i}N=(t=>q({},t,{get:(e,s,n)=>j(e,s)||t.get(e,s,n),has:(e,s)=>!!j(e,s)||t.has(e,s)}))(N);try{self[\"workbox:expiration:6.5.4\"]&&_()}catch(t){}const S=\"cache-entries\",K=t=>{const e=new URL(t,location.href);return e.hash=\"\",e.href};class A{constructor(t){this._=null,this.L=t}I(t){const e=t.createObjectStore(S,{keyPath:\"id\"});e.createIndex(\"cacheName\",\"cacheName\",{unique:!1}),e.createIndex(\"timestamp\",\"timestamp\",{unique:!1})}C(t){this.I(t),this.L&&function(t,{blocked:e}={}){const s=indexedDB.deleteDatabase(t);e&&s.addEventListener(\"blocked\",t=>e(t.oldVersion,t)),k(s).then(()=>{})}(this.L)}async setTimestamp(t,e){const s={url:t=K(t),timestamp:e,cacheName:this.L,id:this.N(t)},n=(await this.getDb()).transaction(S,\"readwrite\",{durability:\"relaxed\"});await n.store.put(s),await n.done}async getTimestamp(t){const e=await this.getDb(),s=await e.get(S,this.N(t));return null==s?void 0:s.timestamp}async expireEntries(t,e){const s=await this.getDb();let n=await s.transaction(S).store.index(\"timestamp\").openCursor(null,\"prev\");const r=[];let i=0;for(;n;){const s=n.value;s.cacheName===this.L&&(t&&s.timestamp<t||e&&i>=e?r.push(n.value):i++),n=await n.continue()}const a=[];for(const t of r)await s.delete(S,t.id),a.push(t.url);return a}N(t){return this.L+\"|\"+K(t)}async getDb(){return this._||(this._=await function(t,e,{blocked:s,upgrade:n,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),o=k(a);return n&&a.addEventListener(\"upgradeneeded\",t=>{n(k(a.result),t.oldVersion,t.newVersion,k(a.transaction),t)}),s&&a.addEventListener(\"blocked\",t=>s(t.oldVersion,t.newVersion,t)),o.then(t=>{i&&t.addEventListener(\"close\",()=>i()),r&&t.addEventListener(\"versionchange\",t=>r(t.oldVersion,t.newVersion,t))}).catch(()=>{}),o}(\"workbox-expiration\",1,{upgrade:this.C.bind(this)})),this._}}class F{constructor(t,e={}){this.O=!1,this.T=!1,this.k=e.maxEntries,this.B=e.maxAgeSeconds,this.P=e.matchOptions,this.L=t,this.M=new A(t)}async expireEntries(){if(this.O)return void(this.T=!0);this.O=!0;const t=this.B?Date.now()-1e3*this.B:0,e=await this.M.expireEntries(t,this.k),s=await self.caches.open(this.L);for(const t of e)await s.delete(t,this.P);this.O=!1,this.T&&(this.T=!1,b(this.expireEntries()))}async updateTimestamp(t){await this.M.setTimestamp(t,Date.now())}async isURLExpired(t){if(this.B){const e=await this.M.getTimestamp(t),s=Date.now()-1e3*this.B;return void 0===e||e<s}return!1}async delete(){this.T=!1,await this.M.expireEntries(1/0)}}try{self[\"workbox:range-requests:6.5.4\"]&&_()}catch(t){}async function H(t,e){try{if(206===e.status)return e;const n=t.headers.get(\"range\");if(!n)throw new s(\"no-range-header\");const r=function(t){const e=t.trim().toLowerCase();if(!e.startsWith(\"bytes=\"))throw new s(\"unit-must-be-bytes\",{normalizedRangeHeader:e});if(e.includes(\",\"))throw new s(\"single-range-only\",{normalizedRangeHeader:e});const n=/(\\d*)-(\\d*)/.exec(e);if(!n||!n[1]&&!n[2])throw new s(\"invalid-range-values\",{normalizedRangeHeader:e});return{start:\"\"===n[1]?void 0:Number(n[1]),end:\"\"===n[2]?void 0:Number(n[2])}}(n),i=await e.blob(),a=function(t,e,n){const r=t.size;if(n&&n>r||e&&e<0)throw new s(\"range-not-satisfiable\",{size:r,end:n,start:e});let i,a;return void 0!==e&&void 0!==n?(i=e,a=n+1):void 0!==e&&void 0===n?(i=e,a=r):void 0!==n&&void 0===e&&(i=r-n,a=r),{start:i,end:a}}(i,r.start,r.end),o=i.slice(a.start,a.end),c=o.size,h=new Response(o,{status:206,statusText:\"Partial Content\",headers:e.headers});return h.headers.set(\"Content-Length\",String(c)),h.headers.set(\"Content-Range\",`bytes ${a.start}-${a.end-1}/${i.size}`),h}catch(t){return new Response(\"\",{status:416,statusText:\"Range Not Satisfiable\"})}}function $(t,e){const s=e();return t.waitUntil(s),s}try{self[\"workbox:precaching:6.5.4\"]&&_()}catch(t){}function z(t){if(!t)throw new s(\"add-to-cache-list-unexpected-type\",{entry:t});if(\"string\"==typeof t){const e=new URL(t,location.href);return{cacheKey:e.href,url:e.href}}const{revision:e,url:n}=t;if(!n)throw new s(\"add-to-cache-list-unexpected-type\",{entry:t});if(!e){const t=new URL(n,location.href);return{cacheKey:t.href,url:t.href}}const r=new URL(n,location.href),i=new URL(n,location.href);return r.searchParams.set(\"__WB_REVISION__\",e),{cacheKey:r.href,url:i.href}}class G{constructor(){this.updatedURLs=[],this.notUpdatedURLs=[],this.handlerWillStart=async({request:t,state:e})=>{e&&(e.originalRequest=t)},this.cachedResponseWillBeUsed=async({event:t,state:e,cachedResponse:s})=>{if(\"install\"===t.type&&e&&e.originalRequest&&e.originalRequest instanceof Request){const t=e.originalRequest.url;s?this.notUpdatedURLs.push(t):this.updatedURLs.push(t)}return s}}}class V{constructor({precacheController:t}){this.cacheKeyWillBeUsed=async({request:t,params:e})=>{const s=(null==e?void 0:e.cacheKey)||this.W.getCacheKeyForURL(t.url);return s?new Request(s,{headers:t.headers}):t},this.W=t}}let J,Q;async function X(t,e){let n=null;if(t.url){n=new URL(t.url).origin}if(n!==self.location.origin)throw new s(\"cross-origin-copy-response\",{origin:n});const r=t.clone(),i={headers:new Headers(r.headers),status:r.status,statusText:r.statusText},a=e?e(i):i,o=function(){if(void 0===J){const t=new Response(\"\");if(\"body\"in t)try{new Response(t.body),J=!0}catch(t){J=!1}J=!1}return J}()?r.body:await r.blob();return new Response(o,a)}class Y extends R{constructor(t={}){t.cacheName=w(t.cacheName),super(t),this.j=!1!==t.fallbackToNetwork,this.plugins.push(Y.copyRedirectedCacheableResponsesPlugin)}async U(t,e){const s=await e.cacheMatch(t);return s||(e.event&&\"install\"===e.event.type?await this.S(t,e):await this.K(t,e))}async K(t,e){let n;const r=e.params||{};if(!this.j)throw new s(\"missing-precache-entry\",{cacheName:this.cacheName,url:t.url});{const s=r.integrity,i=t.integrity,a=!i||i===s;n=await e.fetch(new Request(t,{integrity:\"no-cors\"!==t.mode?i||s:void 0})),s&&a&&\"no-cors\"!==t.mode&&(this.A(),await e.cachePut(t,n.clone()))}return n}async S(t,e){this.A();const n=await e.fetch(t);if(!await e.cachePut(t,n.clone()))throw new s(\"bad-precaching-response\",{url:t.url,status:n.status});return n}A(){let t=null,e=0;for(const[s,n]of this.plugins.entries())n!==Y.copyRedirectedCacheableResponsesPlugin&&(n===Y.defaultPrecacheCacheabilityPlugin&&(t=s),n.cacheWillUpdate&&e++);0===e?this.plugins.push(Y.defaultPrecacheCacheabilityPlugin):e>1&&null!==t&&this.plugins.splice(t,1)}}Y.defaultPrecacheCacheabilityPlugin={cacheWillUpdate:async({response:t})=>!t||t.status>=400?null:t},Y.copyRedirectedCacheableResponsesPlugin={cacheWillUpdate:async({response:t})=>t.redirected?await X(t):t};class Z{constructor({cacheName:t,plugins:e=[],fallbackToNetwork:s=!0}={}){this.F=new Map,this.H=new Map,this.$=new Map,this.u=new Y({cacheName:w(t),plugins:[...e,new V({precacheController:this})],fallbackToNetwork:s}),this.install=this.install.bind(this),this.activate=this.activate.bind(this)}get strategy(){return this.u}precache(t){this.addToCacheList(t),this.G||(self.addEventListener(\"install\",this.install),self.addEventListener(\"activate\",this.activate),this.G=!0)}addToCacheList(t){const e=[];for(const n of t){\"string\"==typeof n?e.push(n):n&&void 0===n.revision&&e.push(n.url);const{cacheKey:t,url:r}=z(n),i=\"string\"!=typeof n&&n.revision?\"reload\":\"default\";if(this.F.has(r)&&this.F.get(r)!==t)throw new s(\"add-to-cache-list-conflicting-entries\",{firstEntry:this.F.get(r),secondEntry:t});if(\"string\"!=typeof n&&n.integrity){if(this.$.has(t)&&this.$.get(t)!==n.integrity)throw new s(\"add-to-cache-list-conflicting-integrities\",{url:r});this.$.set(t,n.integrity)}if(this.F.set(r,t),this.H.set(r,i),e.length>0){const t=`Workbox is precaching URLs without revision info: ${e.join(\", \")}\\nThis is generally NOT safe. Learn more at https://bit.ly/wb-precache`;console.warn(t)}}}install(t){return $(t,async()=>{const e=new G;this.strategy.plugins.push(e);for(const[e,s]of this.F){const n=this.$.get(s),r=this.H.get(e),i=new Request(e,{integrity:n,cache:r,credentials:\"same-origin\"});await Promise.all(this.strategy.handleAll({params:{cacheKey:s},request:i,event:t}))}const{updatedURLs:s,notUpdatedURLs:n}=e;return{updatedURLs:s,notUpdatedURLs:n}})}activate(t){return $(t,async()=>{const t=await self.caches.open(this.strategy.cacheName),e=await t.keys(),s=new Set(this.F.values()),n=[];for(const r of e)s.has(r.url)||(await t.delete(r),n.push(r.url));return{deletedURLs:n}})}getURLsToCacheKeys(){return this.F}getCachedURLs(){return[...this.F.keys()]}getCacheKeyForURL(t){const e=new URL(t,location.href);return this.F.get(e.href)}getIntegrityForCacheKey(t){return this.$.get(t)}async matchPrecache(t){const e=t instanceof Request?t.url:t,s=this.getCacheKeyForURL(e);if(s){return(await self.caches.open(this.strategy.cacheName)).match(s)}}createHandlerBoundToURL(t){const e=this.getCacheKeyForURL(t);if(!e)throw new s(\"non-precached-url\",{url:t});return s=>(s.request=new Request(t),s.params=Object.assign({cacheKey:e},s.params),this.strategy.handle(s))}}const tt=()=>(Q||(Q=new Z),Q);class et extends r{constructor(t,e){super(({request:s})=>{const n=t.getURLsToCacheKeys();for(const r of function*(t,{ignoreURLParametersMatching:e=[/^utm_/,/^fbclid$/],directoryIndex:s=\"index.html\",cleanURLs:n=!0,urlManipulation:r}={}){const i=new URL(t,location.href);i.hash=\"\",yield i.href;const a=function(t,e=[]){for(const s of[...t.searchParams.keys()])e.some(t=>t.test(s))&&t.searchParams.delete(s);return t}(i,e);if(yield a.href,s&&a.pathname.endsWith(\"/\")){const t=new URL(a.href);t.pathname+=s,yield t.href}if(n){const t=new URL(a.href);t.pathname+=\".html\",yield t.href}if(r){const t=r({url:i});for(const e of t)yield e.href}}(s.url,e)){const e=n.get(r);if(e){return{cacheKey:e,integrity:t.getIntegrityForCacheKey(e)}}}},t.strategy)}}t.CacheFirst=class extends R{async U(t,e){let n,r=await e.cacheMatch(t);if(!r)try{r=await e.fetchAndCachePut(t)}catch(t){t instanceof Error&&(n=t)}if(!r)throw new s(\"no-response\",{url:t.url,error:n});return r}},t.ExpirationPlugin=class{constructor(t={}){this.cachedResponseWillBeUsed=async({event:t,request:e,cacheName:s,cachedResponse:n})=>{if(!n)return null;const r=this.V(n),i=this.J(s);b(i.expireEntries());const a=i.updateTimestamp(e.url);if(t)try{t.waitUntil(a)}catch(t){}return r?n:null},this.cacheDidUpdate=async({cacheName:t,request:e})=>{const s=this.J(t);await s.updateTimestamp(e.url),await s.expireEntries()},this.X=t,this.B=t.maxAgeSeconds,this.Y=new Map,t.purgeOnQuotaError&&function(t){g.add(t)}(()=>this.deleteCacheAndMetadata())}J(t){if(t===d())throw new s(\"expire-custom-caches-only\");let e=this.Y.get(t);return e||(e=new F(t,this.X),this.Y.set(t,e)),e}V(t){if(!this.B)return!0;const e=this.Z(t);if(null===e)return!0;return e>=Date.now()-1e3*this.B}Z(t){if(!t.headers.has(\"date\"))return null;const e=t.headers.get(\"date\"),s=new Date(e).getTime();return isNaN(s)?null:s}async deleteCacheAndMetadata(){for(const[t,e]of this.Y)await self.caches.delete(t),await e.delete();this.Y=new Map}},t.NetworkFirst=class extends R{constructor(t={}){super(t),this.plugins.some(t=>\"cacheWillUpdate\"in t)||this.plugins.unshift(u),this.tt=t.networkTimeoutSeconds||0}async U(t,e){const n=[],r=[];let i;if(this.tt){const{id:s,promise:a}=this.et({request:t,logs:n,handler:e});i=s,r.push(a)}const a=this.st({timeoutId:i,request:t,logs:n,handler:e});r.push(a);const o=await e.waitUntil((async()=>await e.waitUntil(Promise.race(r))||await a)());if(!o)throw new s(\"no-response\",{url:t.url});return o}et({request:t,logs:e,handler:s}){let n;return{promise:new Promise(e=>{n=setTimeout(async()=>{e(await s.cacheMatch(t))},1e3*this.tt)}),id:n}}async st({timeoutId:t,request:e,logs:s,handler:n}){let r,i;try{i=await n.fetchAndCachePut(e)}catch(t){t instanceof Error&&(r=t)}return t&&clearTimeout(t),!r&&i||(i=await n.cacheMatch(e)),i}},t.RangeRequestsPlugin=class{constructor(){this.cachedResponseWillBeUsed=async({request:t,cachedResponse:e})=>e&&t.headers.has(\"range\")?await H(t,e):e}},t.StaleWhileRevalidate=class extends R{constructor(t={}){super(t),this.plugins.some(t=>\"cacheWillUpdate\"in t)||this.plugins.unshift(u)}async U(t,e){const n=e.fetchAndCachePut(t).catch(()=>{});e.waitUntil(n);let r,i=await e.cacheMatch(t);if(i);else try{i=await n}catch(t){t instanceof Error&&(r=t)}if(!i)throw new s(\"no-response\",{url:t.url,error:r});return i}},t.cleanupOutdatedCaches=function(){self.addEventListener(\"activate\",t=>{const e=w();t.waitUntil((async(t,e=\"-precache-\")=>{const s=(await self.caches.keys()).filter(s=>s.includes(e)&&s.includes(self.registration.scope)&&s!==t);return await Promise.all(s.map(t=>self.caches.delete(t))),s})(e).then(t=>{}))})},t.clientsClaim=function(){self.addEventListener(\"activate\",()=>self.clients.claim())},t.precacheAndRoute=function(t,e){!function(t){tt().precache(t)}(t),function(t){const e=tt();h(new et(e,t))}(e)},t.registerRoute=h});\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\scripts\\seed-admin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Joshua\\Desktop\\Vibecoding\\outreach-system\\types\\next-auth.d.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'NextAuth' is defined but never used.","line":1,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"NextAuth"},"fix":{"range":[7,16],"text":""},"desc":"Remove unused variable \"NextAuth\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import NextAuth, { DefaultSession } from \"next-auth\"\r\n\r\ndeclare module \"next-auth\" {\r\n    interface Session {\r\n        user: {\r\n            id: string\r\n            role: string\r\n            accountStatus: string\r\n        } & DefaultSession[\"user\"]\r\n    }\r\n\r\n    interface User {\r\n        id: string\r\n        role: string\r\n        accountStatus: string\r\n    }\r\n}\r\n\r\ndeclare module \"next-auth/jwt\" {\r\n    interface JWT {\r\n        id: string\r\n        role: string\r\n        accountStatus: string\r\n    }\r\n}\r\n","usedDeprecatedRules":[]}]